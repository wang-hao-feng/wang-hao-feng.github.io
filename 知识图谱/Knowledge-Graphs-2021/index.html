<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.jpg"><link rel="icon" type="image/png" sizes="32x32" href="/images/avatar_32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/avatar_16x16.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/white/pace-theme-center-circle.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"wang-hao-feng.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.9.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="原文地址 因为一直在加深理解，所以写的有点乱，前面基本就是在翻译和总结论文，没法知道各个部分之间的联系，推荐看下这篇博客了解不同部分之间的关系"><meta property="og:type" content="article"><meta property="og:title" content="Knowledge-Graphs-2021"><meta property="og:url" content="https://wang-hao-feng.github.io/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/index.html"><meta property="og:site_name" content="匿名甩尸"><meta property="og:description" content="原文地址 因为一直在加深理解，所以写的有点乱，前面基本就是在翻译和总结论文，没法知道各个部分之间的联系，推荐看下这篇博客了解不同部分之间的关系"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/DelG.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%BC%82%E6%9E%84%E5%9B%BE%E4%B8%8EDelG.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/DelG%E4%B8%8E%E5%B1%9E%E6%80%A7%E5%9B%BE%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E5%8C%96.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%9B%BE%E6%A8%A1%E6%9D%BF%E4%BB%A5%E5%8F%8A%E4%BB%8E%E6%95%B0%E6%8D%AE%E5%9B%BE%E4%B8%AD%E6%8F%90%E5%8F%96%E5%87%BA%E7%9A%84%E6%98%A0%E5%B0%84%E8%A1%A8.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%AF%BC%E8%88%AA%E5%9B%BE%E6%A8%A1%E6%9D%BF.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/schema%E5%9B%BE.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/shape%E5%9B%BE.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/shape%E5%AE%9A%E4%B9%89.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/shape%E5%85%AC%E5%BC%8F.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%A8%A1%E6%8B%9F.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%8F%8C%E6%8B%9F.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%AD%98%E5%9C%A8%E6%80%A7%E8%8A%82%E7%82%B9.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/RDF%E5%88%97%E8%A1%A8.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%89%A9%E5%8C%96.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/higher-arity.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%B3%A8%E8%A7%A3%E5%8F%8A%E5%85%B6query.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%9F%A5%E8%AF%A2%E5%9C%A3%E5%9C%B0%E4%BA%9A%E5%93%A5%E7%9A%84%E8%8A%82%E6%97%A5.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E4%B8%AA%E4%BD%93%E7%89%B9%E5%BE%81.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%B1%9E%E6%80%A7%E7%89%B9%E5%BE%81.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%B1%BB%E7%89%B9%E5%BE%81.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E8%A7%84%E5%88%99.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E9%87%8D%E5%86%99%E6%9F%A5%E8%AF%A2.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%B8%A6%E7%8E%AF%E8%A7%84%E5%88%99.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/DL%E4%BE%8B%E5%AD%90.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%9F%A5%E8%AF%86%E5%BD%92%E7%BA%B3%E6%8A%80%E6%9C%AF%E6%A6%82%E8%BF%B0.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%9B%BE%E5%88%86%E6%9E%90%E4%BE%8B%E5%9B%BE.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/PageRank%E7%A4%BA%E4%BE%8B.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%9C%89%E6%8D%9F%E5%92%8C%E6%97%A0%E6%8D%9F%E8%BD%AC%E5%8C%96.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%B5%8C%E5%85%A5%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BC%98%E5%8C%96%E7%9B%AE%E6%A0%87%E5%92%8C%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/TransE.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/CP%E5%88%86%E8%A7%A3.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/RecGNN.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%AC%A6%E5%8F%B7%E5%AD%A6%E4%B9%A0.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/Gad-Elrab%E4%B8%BE%E4%BE%8B.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%96%87%E6%9C%AC%E6%8F%90%E5%8F%96%E6%A0%B8%E5%BF%83%E4%BB%BB%E5%8A%A1.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%9B%B4%E6%8E%A5%E6%98%A0%E5%B0%84.jpg"><meta property="og:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE.jpg"><meta property="article:published_time" content="2022-01-24T17:03:16.000Z"><meta property="article:modified_time" content="2022-03-12T13:12:02.698Z"><meta property="article:author" content="匿名甩尸"><meta property="article:tag" content="笔记"><meta property="article:tag" content="论文"><meta property="article:tag" content="知识图谱"><meta property="article:tag" content="综述"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://wang-hao-feng.github.io/images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/DelG.jpg"><link rel="canonical" href="https://wang-hao-feng.github.io/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://wang-hao-feng.github.io/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/","path":"知识图谱/Knowledge-Graphs-2021/","title":"Knowledge-Graphs-2021"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Knowledge-Graphs-2021 | 匿名甩尸</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope="" itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">匿名甩尸</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#introduce"><span class="nav-number">1.</span> <span class="nav-text">Introduce</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#data-graphs"><span class="nav-number">2.</span> <span class="nav-text">Data Graphs</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#models"><span class="nav-number">2.1.</span> <span class="nav-text">Models</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#directed-edge-labelled-graphs%E6%9C%89%E5%90%91%E6%A0%87%E8%AE%B0%E5%9B%BE-delg"><span class="nav-number">2.1.1.</span> <span class="nav-text">Directed edge-labelled graphs(有向标记图 DelG)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89"><span class="nav-number">2.1.1.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#heterogeneous-graphs%E5%BC%82%E6%9E%84%E5%9B%BE"><span class="nav-number">2.1.2.</span> <span class="nav-text">Heterogeneous graphs(异构图)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-2"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#property-graph%E5%B1%9E%E6%80%A7%E5%9B%BE"><span class="nav-number">2.1.3.</span> <span class="nav-text">Property Graph(属性图)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-3"><span class="nav-number">2.1.3.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#graph-dataset%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">2.1.4.</span> <span class="nav-text">Graph dataset(图数据库)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-4"><span class="nav-number">2.1.4.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#querying%E6%9F%A5%E8%AF%A2"><span class="nav-number">2.2.</span> <span class="nav-text">Querying(查询)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#graph-patterns%E5%9B%BE%E6%A8%A1%E6%9D%BF"><span class="nav-number">2.2.1.</span> <span class="nav-text">Graph patterns(图模板)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-5"><span class="nav-number">2.2.1.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#complex-graph-patterns%E5%A4%8D%E6%9D%82%E5%9B%BE%E6%A8%A1%E6%9D%BF"><span class="nav-number">2.2.2.</span> <span class="nav-text">Complex Graph patterns(复杂图模板)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-6"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#navigational-graph-patterns%E5%AF%BC%E8%88%AA%E5%9B%BE%E6%A8%A1%E6%9D%BF"><span class="nav-number">2.2.3.</span> <span class="nav-text">Navigational Graph patterns(导航图模板)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-7"><span class="nav-number">2.2.3.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#schema-identity-context"><span class="nav-number">3.</span> <span class="nav-text">Schema, Identity, Context</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#schema"><span class="nav-number">3.1.</span> <span class="nav-text">Schema</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#semantic-schema%E8%AF%AD%E4%B9%89schema"><span class="nav-number">3.1.1.</span> <span class="nav-text">Semantic schema(语义schema)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#validating-schema%E9%AA%8C%E8%AF%81schema"><span class="nav-number">3.1.2.</span> <span class="nav-text">Validating schema(验证schema)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-8"><span class="nav-number">3.1.2.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#emergent-schema"><span class="nav-number">3.1.3.</span> <span class="nav-text">Emergent schema</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#identity"><span class="nav-number">3.2.</span> <span class="nav-text">Identity</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%81%E4%B9%85%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="nav-number">3.2.1.</span> <span class="nav-text">持久标识符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E6%A0%87%E8%AF%86%E9%93%BE%E6%8E%A5"><span class="nav-number">3.2.2.</span> <span class="nav-text">外部标识链接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.2.3.</span> <span class="nav-text">数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%8D%E6%B1%87%E5%8C%96"><span class="nav-number">3.2.4.</span> <span class="nav-text">词汇化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%9C%A8%E6%80%A7%E8%8A%82%E7%82%B9"><span class="nav-number">3.2.5.</span> <span class="nav-text">存在性节点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#context"><span class="nav-number">3.3.</span> <span class="nav-text">Context</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#direct-representation%E7%9B%B4%E6%8E%A5%E8%A1%A8%E7%A4%BA"><span class="nav-number">3.3.1.</span> <span class="nav-text">Direct representation(直接表示)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reification%E7%89%A9%E5%8C%96"><span class="nav-number">3.3.2.</span> <span class="nav-text">Reification(物化)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#higher-arity-representation%E9%AB%98%E5%85%83%E8%A1%A8%E7%A4%BA"><span class="nav-number">3.3.3.</span> <span class="nav-text">Higher-arity representation(高元表示)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#annotations%E6%B3%A8%E8%A7%A3"><span class="nav-number">3.3.4.</span> <span class="nav-text">Annotations(注解)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-9"><span class="nav-number">3.3.4.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E4%B8%8A%E4%B8%8B%E6%96%87%E6%A1%86%E6%9E%B6"><span class="nav-number">3.3.5.</span> <span class="nav-text">其他上下文框架</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#deductive-knowledge"><span class="nav-number">4.</span> <span class="nav-text">Deductive Knowledge</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ontologines%E6%9C%AC%E4%BD%93"><span class="nav-number">4.1.</span> <span class="nav-text">Ontologines(本体)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#interpretations%E8%A7%A3%E9%87%8A"><span class="nav-number">4.1.1.</span> <span class="nav-text">Interpretations(解释)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-10"><span class="nav-number">4.1.1.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#indivituals%E4%B8%AA%E4%BD%93"><span class="nav-number">4.1.2.</span> <span class="nav-text">Indivituals(个体)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#properties%E5%B1%9E%E6%80%A7"><span class="nav-number">4.1.3.</span> <span class="nav-text">Properties(属性)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#class%E7%B1%BB"><span class="nav-number">4.1.4.</span> <span class="nav-text">Class(类)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#semantics-and-entailment"><span class="nav-number">4.2.</span> <span class="nav-text">Semantics and Entailment</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#model-theoretic-semantics"><span class="nav-number">4.2.1.</span> <span class="nav-text">Model-theoretic semantics</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-11"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#entailment%E8%95%B4%E5%90%AB"><span class="nav-number">4.2.2.</span> <span class="nav-text">Entailment(蕴含)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-12"><span class="nav-number">4.2.2.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#if-then-vs-if-and-only-if-semantics"><span class="nav-number">4.2.3.</span> <span class="nav-text">If-then vs. if-and-only-if semantics</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reasoning"><span class="nav-number">4.3.</span> <span class="nav-text">Reasoning</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#rule"><span class="nav-number">4.3.1.</span> <span class="nav-text">Rule</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-13"><span class="nav-number">4.3.1.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#description-logics%E6%8F%8F%E8%BF%B0%E9%80%BB%E8%BE%91"><span class="nav-number">4.3.2.</span> <span class="nav-text">Description Logics(描述逻辑)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-14"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#inductive-knowledge"><span class="nav-number">5.</span> <span class="nav-text">Inductive Knowledge</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#graph-analytics%E5%9B%BE%E5%88%86%E6%9E%90"><span class="nav-number">5.1.</span> <span class="nav-text">Graph Analytics(图分析)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#techniques"><span class="nav-number">5.1.1.</span> <span class="nav-text">Techniques</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#frameworks"><span class="nav-number">5.1.2.</span> <span class="nav-text">Frameworks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#analytics-on-data-graph"><span class="nav-number">5.1.3.</span> <span class="nav-text">Analytics on data graph</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#analytics-with-queries"><span class="nav-number">5.1.4.</span> <span class="nav-text">Analytics with queries</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#analytics-with-entailment"><span class="nav-number">5.1.5.</span> <span class="nav-text">Analytics with entailment</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#knowledge-graph-embeddings"><span class="nav-number">5.2.</span> <span class="nav-text">Knowledge Graph Embeddings</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89-15"><span class="nav-number">5.2.0.1.</span> <span class="nav-text">形式化定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#translational-models"><span class="nav-number">5.2.1.</span> <span class="nav-text">Translational Models</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tensor-decomposition-models"><span class="nav-number">5.2.2.</span> <span class="nav-text">Tensor decomposition models</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#neural-models"><span class="nav-number">5.2.3.</span> <span class="nav-text">Neural models</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#language-models"><span class="nav-number">5.2.4.</span> <span class="nav-text">Language models</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#entailment-aware-models"><span class="nav-number">5.2.5.</span> <span class="nav-text">Entailment-aware models</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#graph-neural-networks"><span class="nav-number">5.3.</span> <span class="nav-text">Graph Neural Networks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#recursive-graph-neural-networks%E5%BE%AA%E7%8E%AF%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9Crecgnn"><span class="nav-number">5.3.1.</span> <span class="nav-text">Recursive graph neural networks(循环图神经网络RecGNN)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#convolutional-graph-neural-network%E5%8D%B7%E7%A7%AF%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9Cconvgnn"><span class="nav-number">5.3.2.</span> <span class="nav-text">Convolutional graph neural network(卷积图神经网络ConvGNN)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#symbolic-learning"><span class="nav-number">5.4.</span> <span class="nav-text">Symbolic Learning</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#rule-mining"><span class="nav-number">5.4.1.</span> <span class="nav-text">Rule mining</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#axiom-mining"><span class="nav-number">5.4.2.</span> <span class="nav-text">Axiom mining</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#creation-and-enrichment"><span class="nav-number">6.</span> <span class="nav-text">Creation and Enrichment</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#human-collaboration"><span class="nav-number">6.1.</span> <span class="nav-text">Human Collaboration</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#text-sources"><span class="nav-number">6.2.</span> <span class="nav-text">Text Sources</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#pre-processing"><span class="nav-number">6.2.1.</span> <span class="nav-text">Pre-processing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#named-entity-recognitionner"><span class="nav-number">6.2.2.</span> <span class="nav-text">Named Entity Recognition(NER)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#entity-linkingel"><span class="nav-number">6.2.3.</span> <span class="nav-text">Entity Linking(EL)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#relation-extractionre"><span class="nav-number">6.2.4.</span> <span class="nav-text">Relation Extraction(RE)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#joint-tasks"><span class="nav-number">6.2.5.</span> <span class="nav-text">Joint tasks</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#markup-sources"><span class="nav-number">6.3.</span> <span class="nav-text">Markup Sources</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#wrapper-based-extration"><span class="nav-number">6.3.1.</span> <span class="nav-text">Wrapper-based extration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#web-table-extraction"><span class="nav-number">6.3.2.</span> <span class="nav-text">Web table extraction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deep-web-crawling"><span class="nav-number">6.3.3.</span> <span class="nav-text">Deep Web crawling</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#structured-sources"><span class="nav-number">6.4.</span> <span class="nav-text">Structured Sources</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#mapping-from-tables"><span class="nav-number">6.4.1.</span> <span class="nav-text">Mapping from tables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mapping-from-trees"><span class="nav-number">6.4.2.</span> <span class="nav-text">Mapping from trees</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mapping-from-other-knowledge-graphs"><span class="nav-number">6.4.3.</span> <span class="nav-text">Mapping from other knowledge graphs</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#schemaontology-creation"><span class="nav-number">6.5.</span> <span class="nav-text">Schema/Ontology Creation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ontology-engineering"><span class="nav-number">6.5.1.</span> <span class="nav-text">Ontology engineering</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ontology-learning"><span class="nav-number">6.5.2.</span> <span class="nav-text">Ontology learning</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#quality-assessment"><span class="nav-number">7.</span> <span class="nav-text">Quality Assessment</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#accuracy"><span class="nav-number">7.1.</span> <span class="nav-text">Accuracy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#syntactic-accuracy"><span class="nav-number">7.1.1.</span> <span class="nav-text">Syntactic accuracy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#semantic-accuracy"><span class="nav-number">7.1.2.</span> <span class="nav-text">Semantic accuracy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#timeliness"><span class="nav-number">7.1.3.</span> <span class="nav-text">Timeliness</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#coverage"><span class="nav-number">7.2.</span> <span class="nav-text">Coverage</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#completeness"><span class="nav-number">7.2.1.</span> <span class="nav-text">Completeness</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#representativeness"><span class="nav-number">7.2.2.</span> <span class="nav-text">Representativeness</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#coherency"><span class="nav-number">7.3.</span> <span class="nav-text">Coherency</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#consistency"><span class="nav-number">7.3.1.</span> <span class="nav-text">Consistency</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#validity"><span class="nav-number">7.3.2.</span> <span class="nav-text">Validity</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#succinctness"><span class="nav-number">7.4.</span> <span class="nav-text">Succinctness</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#conciseness"><span class="nav-number">7.4.1.</span> <span class="nav-text">Conciseness</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#representational-conciseness"><span class="nav-number">7.4.2.</span> <span class="nav-text">Representational-conciseness</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#understandability"><span class="nav-number">7.4.3.</span> <span class="nav-text">Understandability</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#refinement"><span class="nav-number">8.</span> <span class="nav-text">Refinement</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#completion"><span class="nav-number">8.1.</span> <span class="nav-text">Completion</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#general-link-prediction"><span class="nav-number">8.1.1.</span> <span class="nav-text">General link prediction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#type-link-prediction"><span class="nav-number">8.1.2.</span> <span class="nav-text">Type-link prediction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#identity-link-prediction"><span class="nav-number">8.1.3.</span> <span class="nav-text">Identity-link prediction</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#correction"><span class="nav-number">8.2.</span> <span class="nav-text">Correction</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#fact-validation"><span class="nav-number">8.2.1.</span> <span class="nav-text">Fact validation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#inconsistency-repairs"><span class="nav-number">8.2.2.</span> <span class="nav-text">Inconsistency repairs</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#publication"><span class="nav-number">9.</span> <span class="nav-text">Publication</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#best-practices"><span class="nav-number">9.1.</span> <span class="nav-text">Best Practices</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#fair-principles"><span class="nav-number">9.1.1.</span> <span class="nav-text">FAIR Principles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linked-data-principles"><span class="nav-number">9.1.2.</span> <span class="nav-text">Linked Data Principles</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#access-protocols"><span class="nav-number">9.2.</span> <span class="nav-text">Access Protocols</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#dumps"><span class="nav-number">9.2.1.</span> <span class="nav-text">Dumps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#node-lookups"><span class="nav-number">9.2.2.</span> <span class="nav-text">Node lookups</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#edge-patterns"><span class="nav-number">9.2.3.</span> <span class="nav-text">Edge patterns</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#comples-graph-patterns"><span class="nav-number">9.2.4.</span> <span class="nav-text">(Comples) graph patterns</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#other-protocols"><span class="nav-number">9.2.5.</span> <span class="nav-text">Other protocols</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#usage-control"><span class="nav-number">9.3.</span> <span class="nav-text">Usage Control</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#licensing"><span class="nav-number">9.3.1.</span> <span class="nav-text">Licensing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#usage-policies"><span class="nav-number">9.3.2.</span> <span class="nav-text">Usage policies</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#encryption"><span class="nav-number">9.3.3.</span> <span class="nav-text">Encryption</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#anonymisation"><span class="nav-number">9.3.4.</span> <span class="nav-text">Anonymisation</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#knowledge-graphs-in-practice"><span class="nav-number">10.</span> <span class="nav-text">Knowledge Graphs in Practice</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#openknowledge-graphs"><span class="nav-number">10.1.</span> <span class="nav-text">OpenKnowledge Graphs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#dbpedia"><span class="nav-number">10.1.1.</span> <span class="nav-text">DBpedia</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yet-another-great-ontology"><span class="nav-number">10.1.2.</span> <span class="nav-text">Yet Another Great Ontology</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#freebase"><span class="nav-number">10.1.3.</span> <span class="nav-text">Freebase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#wikidata"><span class="nav-number">10.1.4.</span> <span class="nav-text">Wikidata</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#other-open-cross-domain-knowledge-graphs"><span class="nav-number">10.1.5.</span> <span class="nav-text">Other open cross-domain knowledge graphs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#domain-specific-open-knowledge-graphs"><span class="nav-number">10.1.6.</span> <span class="nav-text">Domain-specific open knowledge graphs</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#enterprise-knowledge-graphs"><span class="nav-number">10.2.</span> <span class="nav-text">Enterprise Knowledge Graphs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#web-search"><span class="nav-number">10.2.1.</span> <span class="nav-text">Web search</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#commerce"><span class="nav-number">10.2.2.</span> <span class="nav-text">Commerce</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#social-networks"><span class="nav-number">10.2.3.</span> <span class="nav-text">Social networks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#finance"><span class="nav-number">10.2.4.</span> <span class="nav-text">Finance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#other-industries"><span class="nav-number">10.2.5.</span> <span class="nav-text">Other industries</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#summary-and-conclusion"><span class="nav-number">11.</span> <span class="nav-text">Summary and Conclusion</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#future-direction"><span class="nav-number">11.1.</span> <span class="nav-text">Future direction</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%99%84%E5%BD%95"><span class="nav-number">12.</span> <span class="nav-text">附录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#span-id-%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0span"><span class="nav-number">12.1.</span> <span class="nav-text">关系代数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97"><span class="nav-number">12.1.1.</span> <span class="nav-text">基本运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97"><span class="nav-number">12.1.2.</span> <span class="nav-text">其他运算</span></a></li></ol></li></ol></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="匿名甩尸" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">匿名甩尸</p><div class="site-description" itemprop="description">个人博客</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">5</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">8</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">9</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/wang-hao-feng" title="GitHub → https://github.com/wang-hao-feng" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a></span></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope="" itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://wang-hao-feng.github.io/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="匿名甩尸"><meta itemprop="description" content="个人博客"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="匿名甩尸"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Knowledge-Graphs-2021</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-01-25 01:03:16" itemprop="dateCreated datePublished" datetime="2022-01-25T01:03:16+08:00">2022-01-25</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-03-12 21:12:02" itemprop="dateModified" datetime="2022-03-12T21:12:02+08:00">2022-03-12</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a> </span>， <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E7%AC%94%E8%AE%B0/%E8%AE%BA%E6%96%87/" itemprop="url" rel="index"><span itemprop="name">论文</span></a> </span>， <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E7%AC%94%E8%AE%B0/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/" itemprop="url" rel="index"><span itemprop="name">知识图谱</span></a> </span>， <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E7%AC%94%E8%AE%B0/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/%E7%BB%BC%E8%BF%B0/" itemprop="url" rel="index"><span itemprop="name">综述</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><p><a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2003.02320v2.pdf">原文地址</a><br>因为一直在加深理解，所以写的有点乱，前面基本就是在翻译和总结论文，没法知道各个部分之间的联系，推荐看下<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/32122644">这篇博客</a>了解不同部分之间的关系</p><span id="more"></span><h1 id="introduce"><a class="markdownIt-Anchor" href="#introduce"></a> Introduce</h1><ul><li>在涉及到从大规模多数据源中整合、管理、提取信息的应用场景中，使用图模型抽象知识相对于使用诸如关系模型或NoSQL方案的优点<ol><li>图为各种领域提供了简单直观的抽象，例如：图的边(edges)——在社交数据中表示固有实体之间的关系；在生物领域可以表示生物相互关系；在文献中可以表示引用或者共同作者等</li><li>维护者可以推迟schema(各领域知识所需要满足的基本结构)的定义；相较于关系模型中可能的方式，能允许数据以及其规模以更灵活的方式发展，对于捕捉不完整数据更是如此</li><li>专门的图模型不仅支持标准关系操作，还支持递归查询任意距离的实体之间关系的操作</li><li>可以利用诸如本体(ontologies)或规则等标准知识表现形式定义和推导术语。这些术语用于标记和描述顶点</li><li>图分析的可扩展框架可用于计算诸如中心、聚类、总结等任务，以便于深入了解图所描述的领域</li><li>多种表示法允许机器学习技术直接用于图上</li></ol></li><li>知识图谱的定义：<ul><li>旨在积累传达真实世界知识的数据图，图上的顶点表示感兴趣的实体，而边表示实体之间的关系</li><li>知识一般源于外界积累或内部演绎归纳</li><li>知识可以是简单陈述(北京是首都)或量化陈述(首都是城市)。简单陈述可以由边表示；量化陈述需要更具表现力的结构，如ontologies本体或规则。之后可以使用演绎模型发掘更进一步的知识(北京是城市)。额外的知识也可以使用归纳模型得出。</li></ul></li><li>知识图谱的组成：<ul><li>由多种来源组成，因此在结构和粒度上可能高度多样化</li><li>schema、标识和上下文在解决多样化上起到举足轻重的作用。schema定义了知识图谱的高级结构；标识描述了顶点与真实世界的对应关系；上下文定义了知识成立所需的特殊环境。</li></ul></li></ul><h1 id="data-graphs"><a class="markdownIt-Anchor" href="#data-graphs"></a> Data Graphs</h1><p>任何知识图谱的基础——用图模型抽象数据<br>在下文中，任意一个模型中出现的常量(如各个点、边的label，属性及其取值等)之集记为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">\textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span></p><h2 id="models"><a class="markdownIt-Anchor" href="#models"></a> Models</h2><h3 id="directed-edge-labelled-graphs有向标记图-delg"><a class="markdownIt-Anchor" href="#directed-edge-labelled-graphs有向标记图-delg"></a> Directed edge-labelled graphs(有向标记图 DelG)</h3><p>点用于表示实体，边用于表示存在关系，如<code>[实体1]--(关系)-&gt;[实体2]</code><br>如果实体之间存在即存在<code>[实体1]--(关系)-&gt;[实体2]</code>，又存在<code>[实体1]&lt;-(关系)--[实体2]</code>，则用<code>[实体1]&lt;-(关系)-&gt;[实体2]</code>表示<br><span id="DelG"><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/DelG.jpg" alt="DelG" title="DelG"></span></p><ul><li>与关系模型相比有着更高的灵活性，即可以整合其他数据源的数据，又可以允许不完整数据的存在(用边不存在表示，例如上图中的<code>Food Festival</code>就缺少<code>start</code>, <code>end</code>, <code>name</code>, <code>venue</code>等边)。</li><li>与组织成树的数据结构相比(例如XML, JSON等)，不需要数据满足层次结构，并且允许成环</li><li>基于DelG的标准模型：RDF(Resource Description Framework 资源描述框架)<br>顶点种类<ul><li>IRIs(Internationalized Recourse Identifiers 国际化资源标识符)，用于唯一标记网络上的资源</li><li>literals(翻译成字面量或者常量，我也不知道应该是哪个)，用于表示字符串、整数等数据结构的值</li><li>blank nodes(空白顶点)，表示未分配标识符的匿名顶点</li></ul></li></ul><h4 id="形式化定义"><a class="markdownIt-Anchor" href="#形式化定义"></a> 形式化定义</h4><p>有向标记图被定义为一个有序三元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G \coloneqq (V, E, L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">V \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示顶点集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">L \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示边上的标签之集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>⊆</mo><mi>V</mi><mo>×</mo><mi>L</mi><mo>×</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">E \subseteq V \times L \times V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span></span></span></span>表示边集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">L</span></span></span></span>的交集可以非空</li></ul><h3 id="heterogeneous-graphs异构图"><a class="markdownIt-Anchor" href="#heterogeneous-graphs异构图"></a> Heterogeneous graphs(异构图)</h3><p>异构图指的是图中存在不同类型的顶点和边(顶点和边至少有一个具有多种类型)<br>异构体与上述的DelG及其相似的：DelG的label对应于异构体中边的种类(type)，而DelG中形如<code>[实体]--(type)-&gt;[种类名]</code>的结构对应于异构图中的一个顶点<code>[实体:种类名]</code><br><img src="./../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%BC%82%E6%9E%84%E5%9B%BE%E4%B8%8EDelG.jpg" alt="异构图和DelG" title="异构图与DelG"><br>若某一条边两端的顶点类型相同，则称其是同构的，否则称其是异构的。</p><ul><li>允许顶点按照种类分区</li><li>每个顶点只能拥有唯一的类型，而DelG可以拥有多个或者0个</li></ul><h4 id="形式化定义-2"><a class="markdownIt-Anchor" href="#形式化定义-2"></a> 形式化定义</h4><p>异构图被定义为一个有序四元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo separator="true">,</mo><mi>l</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G \coloneqq (V, E, L, l)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">V \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示顶点集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">L \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示边和顶点的标签之集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>⊆</mo><mi>V</mi><mo>×</mo><mi>L</mi><mo>×</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">E \subseteq V \times L \times V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span></span></span></span>表示边集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mo>:</mo><mi>V</mi><mo>→</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">l: V \rightarrow L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">L</span></span></span></span>表示顶点到label的映射</li></ul><h3 id="property-graph属性图"><a class="markdownIt-Anchor" href="#property-graph属性图"></a> Property Graph(属性图)</h3><p>可以对更为复杂的关系进行建模<br>属性图上的顶点和边除了label和type外还有各种属性-值对<br>属性图与DelG是等价的，DelG建模细粒度更高，而属性图更为灵活<br><span id="DelG与属性图之间的互相转化"><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/DelG%E4%B8%8E%E5%B1%9E%E6%80%A7%E5%9B%BE%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E5%8C%96.jpg" alt="DelG与属性图之间的互相转化" title="DelG与属性图之间的互相转化"></span></p><h4 id="形式化定义-3"><a class="markdownIt-Anchor" href="#形式化定义-3"></a> 形式化定义</h4><p>属性图被定义为一个有序八元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo separator="true">,</mo><mi>P</mi><mo separator="true">,</mo><mi>U</mi><mo separator="true">,</mo><mi>e</mi><mo separator="true">,</mo><mi>l</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G \coloneqq (V, E, L, P, U, e, l, p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">V \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示顶点集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">E \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示边id集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">L \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示标签集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">P \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示属性集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">U \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示属性值集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi><mo>:</mo><mi>E</mi><mo>→</mo><mi>V</mi><mo>×</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">e: E \rightarrow V \times V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span></span></span></span>表示边id与边之间的对应关系</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mo>:</mo><mi>V</mi><mo>∪</mo><mi>E</mi><mo>→</mo><msup><mn>2</mn><mi>L</mi></msup></mrow><annotation encoding="application/x-tex">l: V \cup E \rightarrow 2^L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span></span></span></span></span></span></span></span>表示顶点和边到标签的映射</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>:</mo><mi>V</mi><mo>∪</mo><mi>E</mi><mo>→</mo><msup><mn>2</mn><mrow><mi>P</mi><mo>×</mo><mi>U</mi></mrow></msup></mrow><annotation encoding="application/x-tex">p: V \cup E \rightarrow 2^{P \times U}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">P</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:.10903em">U</span></span></span></span></span></span></span></span></span></span></span></span>表示顶点和边到属性-值对之间的映射</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo separator="true">,</mo><mi>P</mi><mo separator="true">,</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">V, E, L, P, U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.10903em">U</span></span></span></span>任意两者之间的交集可以非空</li><li>在使用时，一个属性可以有多个取值，此时<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>:</mo><mi>V</mi><mo>∪</mo><mi>E</mi><mo>→</mo><msup><mn>2</mn><mrow><mi>P</mi><mo>×</mo><msup><mn>2</mn><mi>U</mi></msup></mrow></msup></mrow><annotation encoding="application/x-tex">p: V \cup E \rightarrow 2^{P \times 2^U}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.006365em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.006365em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">P</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.9190928571428572em"><span style="top:-2.931em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">U</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>，例如Neo4j就使用列表来组织多个属性值，即<code>属性: [属性值1, 属性值2, ..., 属性值n]</code></li></ul><h3 id="graph-dataset图数据库"><a class="markdownIt-Anchor" href="#graph-dataset图数据库"></a> Graph dataset(图数据库)</h3><p>通过层次化管理多个图，而不是将多个图合为一个<br>在图数据库中，每个图被赋予了一个名字，称为命名图。并且存在一个默认图(default graph)用于组织管理命名图<br>实际使用中可以用其他图模型来替代带标签的有向图</p><ul><li>相同的点再不同的命名图中指向同一个实体，并且在将两个图结合的时候可以集成两边的信息</li></ul><h4 id="形式化定义-4"><a class="markdownIt-Anchor" href="#形式化定义-4"></a> 形式化定义</h4><ol><li>命名图(named Graph)被定义为一个二元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n, G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>表示一个图，而<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>∈</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">n \in \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示图的名字</li><li>图数据库被被定义为一个二元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><msub><mi>G</mi><mi>D</mi></msub><mo separator="true">,</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">D \coloneqq (G_D, N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mclose">)</span></span></span></span>，其中<ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">G_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>是一个有向标记图，被称为默认图(default graph)</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.10903em">N</span></span></span></span>要么是空集，要么是命名图之集(即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mo stretchy="false">(</mo><msub><mi>n</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>G</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>n</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>G</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><mo separator="true">,</mo><mi>k</mi><mo>&gt;</mo><mn>0</mn><mo>∧</mo><mi mathvariant="normal">∀</mi><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>k</mi><mo separator="true">,</mo><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>k</mi><mo separator="true">,</mo><mi mathvariant="normal">有</mi><msub><mi>n</mi><mi>i</mi></msub><mo>=</mo><msub><mi>n</mi><mi>j</mi></msub><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi>i</mi><mo>=</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">{(n_1, G_1), ..., (n_k, G_k)}, k &gt; 0 \land \forall 1 \le i \le k, 1 \le j \le k, 有n_i = n_j \iff i = j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.83041em;vertical-align:-.13597em"></span><span class="mord">∀</span><span class="mord">1</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.79549em;vertical-align:-.13597em"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.85396em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.05724em">j</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord cjk_fallback">有</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8111079999999999em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.85396em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.05724em">j</span></span></span></span>)</li></ul></li></ol><h2 id="querying查询"><a class="markdownIt-Anchor" href="#querying查询"></a> Querying(查询)</h2><p>首先定义两个集合：</p><ul><li>定义一个有限集<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext mathvariant="bold">Var</mtext></mrow><annotation encoding="application/x-tex">\textbf{Var}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Var</span></span></span></span></span>表示所有出现的变量之集，该集合满足条件：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext mathvariant="bold">Var</mtext><mo>∩</mo><mtext mathvariant="bold">Con</mtext><mo>=</mo><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\textbf{Var} \cap \textbf{Con} = \varnothing</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.66334em;vertical-align:-.08167em"></span><span class="mord amsrm">∅</span></span></span></span><br>在实际使用中，变量使用<code>?</code>作为前缀，如：<code>?event</code></li><li>定义术语集<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext mathvariant="bold">Term</mtext><mo><mi mathvariant="normal">≔</mi></mo><mtext mathvariant="bold">Var</mtext><mo>∪</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">\textbf{Term} \coloneqq \textbf{Var} \cup \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Term</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span></li></ul><h3 id="graph-patterns图模板"><a class="markdownIt-Anchor" href="#graph-patterns图模板"></a> Graph patterns(图模板)</h3><p>基础的图模板是所有结构化图查询语句的核心<br>图模板与其对应的数据图采用相同的模型，例如：若数据图使用有向标记图，则其对应的图模型也使用有向标记图<br>图模板的估计方法：将图模板中的变量映射到数据图中的常量，再判断映射后的结果是否是数据图的子图<br>只有定义了标准估计才有意义，这些标准被称为<strong>语义</strong>，其中最重要的两种是基于<strong>同态</strong>的语义和基于<strong>同构</strong>的语义，将结合下图对二者进行介绍<br><span id="图模板例图"><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%9B%BE%E6%A8%A1%E6%9D%BF%E4%BB%A5%E5%8F%8A%E4%BB%8E%E6%95%B0%E6%8D%AE%E5%9B%BE%E4%B8%AD%E6%8F%90%E5%8F%96%E5%87%BA%E7%9A%84%E6%98%A0%E5%B0%84%E8%A1%A8.jpg" alt="图模板以及从数据图中提取出的映射表" title="图模板以及从数据图中提取出的映射表"></span><br>上图是从<a href="#DelG">DelG</a>的例子中提取出的图模板，图右侧为对应的映射关系。上图符合基于同态的语义，即不同变量可以映射到同一常量，映射表的后三行即为这种情况；而基于同构的语义则要求不同变量的映射结果为不同常量，当上图映射表仅包含前两行的时候，就符合基于同构的语义了<br>在实际使用中，RDF框架所使用的SPARQL语言使用同态语义，而查询属性图所使用的Cypher使用同构语义<br>由于其他类型的图模板有着更为复杂的情况，因此对基础的图模板做出如下的形式化定义：</p><h4 id="形式化定义-5"><a class="markdownIt-Anchor" href="#形式化定义-5"></a> 形式化定义</h4><p>有向标记图的图模板被定义为一个三元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q \coloneqq (V, E, L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">Q</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>⊆</mo><mtext mathvariant="bold">Term</mtext></mrow><annotation encoding="application/x-tex">V \subseteq \textbf{Term}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Term</span></span></span></span></span>表示顶点集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo>⊆</mo><mtext mathvariant="bold">Term</mtext></mrow><annotation encoding="application/x-tex">L \subseteq \textbf{Term}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Term</span></span></span></span></span>表示边的术语集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>⊆</mo><mi>V</mi><mo>×</mo><mi>L</mi><mo>×</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">E \subseteq V \times L \times V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span></span></span></span>表示边集</li></ul><p>属性图的图模板被定义为一个八元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo separator="true">,</mo><mi>P</mi><mo separator="true">,</mo><mi>U</mi><mo separator="true">,</mo><mi>e</mi><mo separator="true">,</mo><mi>l</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q \coloneqq (V, E, L, P, U, e, l, p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">Q</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>⊆</mo><mtext mathvariant="bold">Term</mtext></mrow><annotation encoding="application/x-tex">V \subseteq \textbf{Term}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Term</span></span></span></span></span>表示顶点集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>⊆</mo><mtext mathvariant="bold">Term</mtext></mrow><annotation encoding="application/x-tex">E \subseteq \textbf{Term}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Term</span></span></span></span></span>表示边id集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo>⊆</mo><mtext mathvariant="bold">Term</mtext></mrow><annotation encoding="application/x-tex">L \subseteq \textbf{Term}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Term</span></span></span></span></span>表示标签集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo>⊆</mo><mtext mathvariant="bold">Term</mtext></mrow><annotation encoding="application/x-tex">P \subseteq \textbf{Term}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Term</span></span></span></span></span>表示属性集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi><mo>⊆</mo><mtext mathvariant="bold">Term</mtext></mrow><annotation encoding="application/x-tex">U \subseteq \textbf{Term}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Term</span></span></span></span></span>表示属性值集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi><mo>:</mo><mi>E</mi><mo>→</mo><mi>V</mi><mo>×</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">e: E \rightarrow V \times V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span></span></span></span>表示边id与边之间的对应关系</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mo>:</mo><mi>V</mi><mo>∪</mo><mi>E</mi><mo>→</mo><msup><mn>2</mn><mi>L</mi></msup></mrow><annotation encoding="application/x-tex">l: V \cup E \rightarrow 2^L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span></span></span></span></span></span></span></span>表示顶点和边到标签的映射</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>:</mo><mi>V</mi><mo>∪</mo><mi>E</mi><mo>→</mo><msup><mn>2</mn><mrow><mi>P</mi><mo>×</mo><mi>U</mi></mrow></msup></mrow><annotation encoding="application/x-tex">p: V \cup E \rightarrow 2^{P \times U}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">P</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:.10903em">U</span></span></span></span></span></span></span></span></span></span></span></span>表示顶点和边到属性-值对之间的映射</li></ul><p>在定义图模板的估计之前，首先定义一个从变量集到常量集的映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi><mo>:</mo><mtext mathvariant="bold">Var</mtext><mo>→</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">\mu: \textbf{Var} \rightarrow \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>，这个映射的原象集为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">dom(\mu)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mclose">)</span></span></span></span><br>对于一个给定的图模板<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext mathvariant="bold">Var</mtext><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\textbf{Var}(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>表示G中出现的所有变量之集，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mu(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>表示将G中所有满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi><mo>∈</mo><mtext mathvariant="bold">Var</mtext><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>∩</mo><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">v \in \textbf{Var}(G) \cap dom(\mu)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mclose">)</span></span></span></span>的属性<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span></span></span></span>替换成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mu(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span></span></span></span>之后的图。显然，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext mathvariant="bold">Var</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo>⊆</mo><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\textbf{Var}(Q) \subseteq dom(\mu)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mclose">)</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mu(Q)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span></span></span></span>即为提取出Q的数据图<br>对于任意两个数据图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">G_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">G_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>,记<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">G_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">G_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>的子图为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>G</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">G_1 \subseteq G_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，其定义如下：</p><ul><li>当数据图均为有向标记图，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>E</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>L</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>G</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>V</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>E</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>L</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G_1 = (V_1, E_1, L_1), G_2 = (V_2, E_2, L_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>G</mi><mn>2</mn></msub><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><msub><mi>V</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>V</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>E</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>E</mi><mn>2</mn></msub><mo>∧</mo><msub><mi>L</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>L</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">G_1 \subseteq G_2 \iff V_1 \subseteq V_2, E_1 \subseteq E_2 \land L_1 \subseteq L_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></li><li>当数据图均为属性图，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>E</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>L</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>P</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>U</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>e</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>l</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>G</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>V</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>E</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>L</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>P</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>U</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>e</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>l</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G_1 = (V_1, E_1, L_1, P_1, U_1, e_1, l_1, p_1), G_2 = (V_2, E_2, L_2, P_2, U_2, e_2, l_2, p_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.10903em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.01968em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.10903em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.01968em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>G</mi><mn>2</mn></msub><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><msub><mi>V</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>V</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>E</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>E</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>L</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>L</mi><mn>2</mn></msub><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>x</mi><mo>∈</mo><msub><mi>E</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>y</mi><mo>∈</mo><msub><mi>E</mi><mn>1</mn></msub><mo>∪</mo><msub><mi>V</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">满</mi><mi mathvariant="normal">足</mi><msub><mi>e</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>e</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>l</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>⊆</mo><msub><mi>l</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>⊆</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G_1 \subseteq G_2 \iff V_1 \subseteq V_2, E_1 \subseteq E_2, L_1 \subseteq L_2 \land \forall x \in E_1, y \in E_1 \cup V_1, 满足e_1(x) = e_2(x), l_1(y) \subseteq l_2(y), p_1(y) \subseteq p_2(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord cjk_fallback">满</span><span class="mord cjk_fallback">足</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.01968em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.01968em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span></span></span></span></li></ul><p>现在定义模板图的估计：<br>令<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">Q</span></span></span></span>表示模板图，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>表示数据图，在G上定义Q的估计为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>μ</mi><mi mathvariant="normal">∣</mi><mi>μ</mi><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo>⊆</mo><mi>G</mi><mo>∧</mo><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo><mo>⊆</mo><mtext mathvariant="bold">Var</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">Q(G) = \{\mu | \mu(Q) \subseteq G \land dom(\mu) \subseteq \textbf{Var}(Q)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">Q</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mord">∣</span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span><br>由于估计的定义与语义相关，后文出现的估计在没有特殊说明的情况下默认使用同态语义</p><h3 id="complex-graph-patterns复杂图模板"><a class="markdownIt-Anchor" href="#complex-graph-patterns复杂图模板"></a> Complex Graph patterns(复杂图模板)</h3><p>复杂图模板就是引入关系代数对图模板的估计进行处理。<br>在图模板中，其估计最后被整理成了一个表，即一个“关系”。同样，对于任意一个给定的数据图(这里首先定义有向标记图)，其边可以使用三元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>o</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(s, p, o)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">o</span><span class="mclose">)</span></span></span></span>来表示。(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">s</span></span></span></span>表示主语，即有向边的起点；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">p</span></span></span></span>表示表语，即有向边的标记，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi></mrow><annotation encoding="application/x-tex">o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">o</span></span></span></span>表示宾语，即有向边的终点)；整个数据图则可以用一个关系表来表示。此时图模板的估计就可以使用关系代数对原始数据图进行处理得到。关系代数相关知识我写在了附录<a href="#%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0">关系代数</a>中。</p><p>这里举一个例子，使用关系表达式表示<a href="#%E5%9B%BE%E6%A8%A1%E6%9D%BF%E4%BE%8B%E5%9B%BE">图模板</a>中所举的例子，表达式中的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>表示<a href="#DelG">DelG</a>的例子中使用的数据图，表达式如下：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>π</mi><mrow><mi>e</mi><mi>v</mi><mo separator="true">,</mo><mi>v</mi><mi>n</mi><mn>1</mn><mo separator="true">,</mo><mi>v</mi><mi>n</mi><mn>2</mn></mrow></msub><mo stretchy="false">(</mo><msub><mi>σ</mi><mrow><mi>p</mi><mo>=</mo><mi>t</mi><mi>y</mi><mi>p</mi><mi>e</mi><mo>∧</mo><mi>o</mi><mo>=</mo><mi>F</mi><mi>o</mi><mi>o</mi><mi>d</mi><mi>F</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>i</mi><mi>v</mi><mi>a</mi><mi>l</mi><mo>∧</mo><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mi>v</mi><mi>e</mi><mi>n</mi><mi>u</mi><mi>e</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>ρ</mi><mrow><mi>s</mi><mi mathvariant="normal">/</mi><mi>e</mi><mi>v</mi></mrow></msub><mo stretchy="false">(</mo><mi>G</mi><mo>⋈</mo><msub><mi>ρ</mi><mrow><mi>p</mi><mi mathvariant="normal">/</mi><msub><mi>p</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>o</mi><mi mathvariant="normal">/</mi><mi>v</mi><mi>n</mi><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>⋈</mo><msub><mi>ρ</mi><mrow><mi>p</mi><mi mathvariant="normal">/</mi><msub><mi>p</mi><mn>2</mn></msub><mo separator="true">,</mo><mi>o</mi><mi mathvariant="normal">/</mi><mi>v</mi><mi>n</mi><mn>2</mn></mrow></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_{ev, vn1, vn2}(\sigma_{p=type \land o=Food Festival \land p_1 = p_2 = venue}(\rho_{s/ev}(G \Join \rho_{p/p_1, o/vn1}(G) \Join \rho_{p/p_2, o/vn2}(G))))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-.3551999999999999em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.301108em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mord mathdefault mtight">n</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mord mathdefault mtight">n</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight" style="margin-right:.03588em">y</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight">e</span><span class="mbin mtight">∧</span><span class="mord mathdefault mtight">o</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:.13889em">F</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight" style="margin-right:.13889em">F</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:.01968em">l</span><span class="mbin mtight">∧</span><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">ρ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.34480000000000005em"><span style="top:-2.5198em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">/</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3551999999999999em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-.3551999999999999em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.34480000000000005em"><span style="top:-2.5198em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mord mtight">/</span><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">o</span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mord mathdefault mtight">n</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3551999999999999em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-.3551999999999999em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.34480000000000005em"><span style="top:-2.5198em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mord mtight">/</span><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">o</span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mord mathdefault mtight">n</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3551999999999999em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><p>在这个表达式中，首先观察右侧的两个自然连接。由于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>可以表示为一个边的关系表，因此其改名(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi></mrow><annotation encoding="application/x-tex">\rho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">ρ</span></span></span></span>)后表示的则是不同的边，目的在于使用自然连接(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋈</mo></mrow><annotation encoding="application/x-tex">\Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.51em;vertical-align:-.005em"></span><span class="mrel">⋈</span></span></span></span>)后能保留边。自然连接则将三条不同的边的公共顶点连接起来，构成了如图所示的中心顶点出度为3的图(不同的改名方式能构造出不同的图)。之后再使用改名和选择(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">σ</span></span></span></span>)将顶点和边的标签限定成图中所示的模样，最后在使用投影(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">π</span></span></span></span>)将关系表中的常量删去，得到<a href="#%E5%9B%BE%E6%A8%A1%E6%9D%BF%E4%BE%8B%E5%9B%BE">图模板</a>右侧的表。</p><h4 id="形式化定义-6"><a class="markdownIt-Anchor" href="#形式化定义-6"></a> 形式化定义</h4><p>首先定义什么是复杂图模板：</p><ul><li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">Q</span></span></span></span>是图模板，那<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">Q</span></span></span></span>也是复杂图模板</li><li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">Q</span></span></span></span>是复杂图模板，且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">V</mi><mo>⊆</mo><mtext mathvariant="bold">Var</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{V} \subseteq \textbf{Var}(Q)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>π</mi><mi mathvariant="script">V</mi></msub><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\mathcal{V}(Q)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:.08222em">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span></span></span></span>也是复杂图模板</li><li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">Q</span></span></span></span>是复杂图模板，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>是布尔表达式，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>σ</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma_R(Q)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.00773em">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span></span></span></span>也是复杂图模板</li><li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Q_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Q_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>是复杂图模板，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mo>⋈</mo><msub><mi>Q</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>Q</mi><mn>1</mn></msub><mo>∪</mo><msub><mi>Q</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>Q</mi><mn>1</mn></msub><mo>−</mo><msub><mi>Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Q_1 \Join Q_2, Q_1 \cup Q_2, Q_1 - Q_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mo>⊳</mo><msub><mi>Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Q_1 \rhd Q_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin amsrm">⊳</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>均是复杂图模板</li></ul><p>在定义复杂图模板的估计之前，首先定义如下表达式：</p><ul><li>给定一个映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">μ</span></span></span></span>，对于变量集<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">V</mi><mo>⊆</mo><mtext mathvariant="bold">Var</mtext></mrow><annotation encoding="application/x-tex">\mathcal{V} \subseteq \textbf{Var}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Var</span></span></span></span></span>，定义映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi><mo stretchy="false">[</mo><mi mathvariant="script">V</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mu[\mathcal{V}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mclose">]</span></span></span></span>表示满足如下条件的映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">[</mo><mi mathvariant="script">V</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo><mo>∩</mo><mi mathvariant="script">V</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>v</mi><mo>∈</mo><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">[</mo><mi mathvariant="script">V</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>μ</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mi>μ</mi><mo stretchy="false">[</mo><mi mathvariant="script">V</mi><mo stretchy="false">]</mo><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">dom(\mu[\mathcal{V}]) = dom(\mu) \cap \mathcal{V} \land \forall v \in dom(\mu[\mathcal{V}]), \mu(v) = \mu[\mathcal{V}](v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mclose">]</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mclose">]</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span></span></span></span></li><li>给定一个映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">μ</span></span></span></span>和一个布尔表达式<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>，定义<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi><mo>⊨</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">\mu \models R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.999em;vertical-align:-.249em"></span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊨</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>表示满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">μ</span></span></span></span>满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span></li><li>给定两个映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>μ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>μ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mu_1, \mu_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，定义<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>μ</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>μ</mi><mn>2</mn></msub><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi mathvariant="normal">∀</mi><mi>v</mi><mo>∈</mo><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∩</mo><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>μ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>μ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mu_1 \sim \mu_2 \iff \forall v \in dom(\mu_1) \cap dom(\mu_2), \mu_1(v) = \mu_2(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.7194400000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span></span></span></span></li></ul><p>现在定义复杂图模板的估计：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>π</mi><mi mathvariant="script">V</mi></msub><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mi>μ</mi><mo stretchy="false">[</mo><mi mathvariant="script">V</mi><mo stretchy="false">]</mo><mi mathvariant="normal">∣</mi><mi>μ</mi><mo>∈</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\pi_\mathcal{V}(Q)(G) \coloneqq \{\mu[\mathcal{V}] | \mu \in Q(G)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:.08222em">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mclose">]</span><span class="mord">∣</span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">Q</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>σ</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mi>μ</mi><mi mathvariant="normal">∣</mi><mi>μ</mi><mo>∈</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>∧</mo><mi>μ</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi><mi>s</mi><mi>R</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\sigma_R(Q)(G) \coloneqq \{\mu | \mu \in Q(G) \land \mu models R\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.00773em">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">Q</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mord">∣</span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">Q</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mo>⋈</mo><msub><mi>Q</mi><mn>2</mn></msub><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><msub><mi>μ</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>μ</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><msub><mi>μ</mi><mn>1</mn></msub><mo>∈</mo><msub><mi>Q</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>∧</mo><msub><mi>μ</mi><mn>2</mn></msub><mo>∈</mo><msub><mi>Q</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>∧</mo><msub><mi>μ</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>μ</mi><mn>2</mn></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">Q_1 \Join Q_2 \coloneqq \{\mu_1 \cap \mu_2 | \mu_1 \in Q_2(G) \land \mu_2 \in Q_1(G) \land \mu_1 \sim \mu_2\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.7335400000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mo>∪</mo><msub><mi>Q</mi><mn>2</mn></msub><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mi>μ</mi><mi mathvariant="normal">∣</mi><mi>μ</mi><mo>∈</mo><msub><mi>Q</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>∨</mo><mi>μ</mi><mo>∈</mo><msub><mi>Q</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">Q_1 \cup Q_2 \coloneqq \{\mu | \mu \in Q_1(G) \lor \mu \in Q_2(G)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mord">∣</span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.7335400000000001em;vertical-align:-.19444em"></span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mo>−</mo><msub><mi>Q</mi><mn>2</mn></msub><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mi>μ</mi><mi mathvariant="normal">∣</mi><mi>μ</mi><mo>∈</mo><msub><mi>Q</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>∧</mo><mi>μ</mi><mi mathvariant="normal">∉</mi><msub><mi>Q</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">Q_1 - Q_2 \coloneqq \{\mu | \mu \in Q_1(G) \land \mu \notin Q_2(G)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mord">∣</span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.75em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:.05555555555555555em"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.25em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mo>⊳</mo><msub><mi>Q</mi><mn>2</mn></msub><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mi>μ</mi><mi mathvariant="normal">∣</mi><mi>μ</mi><mo>∈</mo><msub><mi>Q</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>∧</mo><mi mathvariant="normal">∄</mi><msub><mi>μ</mi><mn>2</mn></msub><mo>∈</mo><msub><mi>Q</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mi mathvariant="normal">使</mi><mi mathvariant="normal">得</mi><mi>μ</mi><mo>∼</mo><msub><mi>μ</mi><mn>2</mn></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">Q_1 \rhd Q_2 \coloneqq \{\mu | \mu \in Q_1(G) \land \nexists \mu_2 \in Q_2(G) 使得 \mu \sim \mu_2\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin amsrm">⊳</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mord">∣</span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.88333em;vertical-align:-.19444em"></span><span class="mord amsrm">∄</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mord cjk_fallback">使</span><span class="mord cjk_fallback">得</span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li></ul><p>有了这些后，可以定义更复杂的操作，如左连接<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mi mathvariant="normal">⟕</mi><msub><mi>Q</mi><mn>2</mn></msub><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><msub><mi>Q</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>⋈</mo><msub><mi>Q</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>∪</mo><mo stretchy="false">(</mo><msub><mi>Q</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>⊳</mo><msub><mi>Q</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_1 ⟕ Q_2 \coloneqq (Q_1(G) \Join Q_2(G)) \cup (Q_1(G) \rhd Q_2(G))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">⟕</span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin amsrm">⊳</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p><h3 id="navigational-graph-patterns导航图模板"><a class="markdownIt-Anchor" href="#navigational-graph-patterns导航图模板"></a> Navigational Graph patterns(导航图模板)</h3><p>导航图模板则是将正则表达式融入到图模板当中，用于化简图模板，增强表达能力。<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%AF%BC%E8%88%AA%E5%9B%BE%E6%A8%A1%E6%9D%BF.jpg" alt="导航图模板"><br>此处正则表达式被称为路径表达式<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span></span></span></span>，而其对应的查询被称为正则路径查询，用一个三元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, r, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span></span></span></span>表示，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x, y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span></span></span></span>表示两个顶点<br>在有环的情况下，查询会带来无限多的结果，因此应用中会加以限制。例如Cypher的结果中不会有重复的顶点或边</p><h4 id="形式化定义-7"><a class="markdownIt-Anchor" href="#形式化定义-7"></a> 形式化定义</h4><p>首先定义路径表达式：</p><ul><li>若常量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">c</span></span></span></span>是边的标签，则其是路径表达式</li><li>若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span></span></span></span>是路径表达式，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>r</mi><mo>−</mo></msup><mo separator="true">,</mo><msup><mi>r</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">r^-, r^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9657709999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.688696em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>均是路径表达式</li><li>若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">r_1, r_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>是路径表达式, 则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub><mo>⋅</mo><msub><mi>r</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">r_1 \cdot r_2, r_1 | r_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.59445em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>均是路径表达式</li></ul><p>然后定义Del中路径表达式的估计</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∀</mi><mi>r</mi><mo>∈</mo><mtext mathvariant="bold">Con</mtext><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>E</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">r[G] \coloneqq \{(u, v) | \forall r \in \textbf{Con} (u, r, v) \in E\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord textbf">Con</span></span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>r</mi><mo>−</mo></msup><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>r</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">r^-[G] \coloneqq \{(u, v) | (v, u) \in r[G]\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mord">∣</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><msub><mi>r</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo><mi mathvariant="normal">≔</mi></mo><msub><mi>r</mi><mn>1</mn></msub><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo>∪</mo><msub><mi>r</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">r_1 | r_2[G] \coloneqq r_1[G] \cup r_2[G]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub><mo>⋅</mo><msub><mi>r</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∃</mi><mi>w</mi><mo>∈</mo><mi>V</mi><mo>:</mo><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">)</mo><mo>∈</mo><msub><mi>r</mi><mn>1</mn></msub><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo>∧</mo><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>∈</mo><msub><mi>r</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">r_1 \cdot r_2[G] \coloneqq \{(u, v) | \exists w \in V: (u, w) \in r_1[G] \land (w, v) \in r_2[G]\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.59445em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>r</mi><mo>∗</mo></msup><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo><mi mathvariant="normal">≔</mi></mo><mi>V</mi><munder><mo>⋃</mo><mrow><mi>n</mi><mo>∈</mo><msup><mi mathvariant="double-struck">N</mi><mo>+</mo></msup></mrow></munder><msup><mi>r</mi><mi>n</mi></msup><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">r^*[G] \coloneqq V \bigcup \limits_{n \in \Bbb{N}^+}r^n[G]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.688696em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.7852450000000002em;vertical-align:-1.03524em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7500050000000001em"><span style="top:-2.09213em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7026642857142857em"><span style="top:-2.786em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.0000050000000003em"><span class="pstrut" style="height:3em"></span><span><span class="mop op-symbol small-op">⋃</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.03524em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.664392em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span></span></span></span></li></ul><p>属性图中的路径表达式的估计只有一处不同<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∃</mi><mi>x</mi><mo>∈</mo><mi>E</mi><mo>:</mo><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>∧</mo><mi>l</mi><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>r</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">r[G] \coloneqq \{(u, v) | \exists x \in E: e(x) = (u, v) \land l(e) = r\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord">∃</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">e</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mclose">}</span></span></span></span></p><p>定义正则路径查询为一个三元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, r, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>∈</mo><mtext mathvariant="bold">Con</mtext><mo>∪</mo><mtext mathvariant="bold">Var</mtext></mrow><annotation encoding="application/x-tex">x, y \in \textbf{Con} \cup \textbf{Var}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7335400000000001em;vertical-align:-.19444em"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Var</span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span></span></span></span>是路径表达式</li></ul><p>定义正则路径查询的估计前首先定义<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mo separator="true">,</mo><msub><mi>c</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>c</mi><mn>2</mn></msub><mo>∈</mo><mtext mathvariant="bold">Con</mtext><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><msub><mi>z</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>2</mn></msub><mo>∈</mo><mtext mathvariant="bold">Var</mtext></mrow><annotation encoding="application/x-tex">c, c_1, c_2 \in \textbf{Con}, z, z_1, z_2 \in \textbf{Var}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7335400000000001em;vertical-align:-.19444em"></span><span class="mord mathdefault">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8805499999999999em;vertical-align:-.19444em"></span><span class="mord text"><span class="mord textbf">Con</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Var</span></span></span></span></span><br>正则路径查询的估计</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>c</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><msub><mi>c</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><msub><mi>μ</mi><mi mathvariant="normal">∅</mi></msub><mi mathvariant="normal">∣</mi><mo stretchy="false">(</mo><msub><mi>c</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>c</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>∈</mo><mi>r</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">(c_1, r, c_2)(G) \coloneqq \{\mu_\varnothing | (c_1, c_2) \in r[G]\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.25716900000000004em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord amsrm mtight">∅</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.207169em"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>c</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mi>μ</mi><mi mathvariant="normal">∣</mi><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>z</mi><mo>∧</mo><mo stretchy="false">(</mo><mi>c</mi><mo separator="true">,</mo><mi>μ</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>∈</mo><mi>r</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">(c, r, z)(G) \coloneqq \{\mu | dom(\mu) = {z} \land (c, \mu(z)) \in r[G]\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mord">∣</span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>z</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi>c</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mi>μ</mi><mi mathvariant="normal">∣</mi><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>z</mi><mo>∧</mo><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>r</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">(z, r, c)(G) \coloneqq \{\mu | dom(\mu) = {z} \land (\mu(z), c) \in r[G]\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">c</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mord">∣</span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>z</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><msub><mi>z</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">{</mo><mi>μ</mi><mi mathvariant="normal">∣</mi><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><msub><mi>z</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>2</mn></msub></mrow><mo>∧</mo><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">(</mo><msub><mi>z</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>μ</mi><mo stretchy="false">(</mo><msub><mi>z</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>∈</mo><mi>r</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">(z_1, r, z_2)(G) \coloneqq \{\mu | dom(\mu) = {z_1, z_2} \land (\mu(z_1), \mu(z_2)) \in r[G]\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">μ</span><span class="mord">∣</span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.75em;vertical-align:-.19444em"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mclose">]</span><span class="mclose">}</span></span></span></span></li></ul><h1 id="schema-identity-context"><a class="markdownIt-Anchor" href="#schema-identity-context"></a> Schema, Identity, Context</h1><h2 id="schema"><a class="markdownIt-Anchor" href="#schema"></a> Schema</h2><p>在下文中，用<code>[数据图]</code>指代通过节点和边表示的数据，形式如上一节中所述的任意一种，而使用<code>[知识图谱]</code>表示一个通过schema，identity，context，ontologies进行过潜在增强的数据图。</p><h3 id="semantic-schema语义schema"><a class="markdownIt-Anchor" href="#semantic-schema语义schema"></a> Semantic schema(语义schema)</h3><p>这里的主要目的是用于之后的知识推理。<br>知识图谱的语义schema可以类比面向对象中“类”的概念。对于有着共同特征的一些实体，我们给他定义一个类，例如：<code>[深圳]</code>和<code>[广州]</code>这两个城市可以同属于<code>[城市]</code>这一类。同时，类也有继承的关系，例如：<code>[城市]</code>类继承于<code>[地点]</code>类。对于顶点来说使用的是类这一术语，而对于边则使用“属性”一词来代替“类”。<br>有了继承关系后，语义shema即可用于推理。如：<code>[深圳]</code>属于<code>[城市]</code>类，而<code>[城市]</code>是<code>[地点]</code>的子类，因此<code>[深圳]</code>属于<code>[地点]</code>。<br>在RDF schema中，定义了子类(sub-class)、子属性(sub-property)、域(domain)和范围(range)四个概念。具体定义如下表：</p><table><thead><tr><th style="text-align:center">概念</th><th style="text-align:center">定义</th><th style="text-align:center">条件</th></tr></thead><tbody><tr><td style="text-align:center">子类</td><td style="text-align:center"><code>[c]-subc. of-&gt;[d]</code></td><td style="text-align:center"><code>[x]-type-&gt;[c]</code><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">⇒</span></span></span></span><code>[x]-type-&gt;[d]</code></td></tr><tr><td style="text-align:center">子属性</td><td style="text-align:center"><code>[p]-subp. of-&gt;[q]</code></td><td style="text-align:center"><code>[x]-p-&gt;[y]</code><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">⇒</span></span></span></span><code>[x]-q-&gt;[y]</code></td></tr><tr><td style="text-align:center">域</td><td style="text-align:center"><code>[p]-domain-&gt;[c]</code></td><td style="text-align:center"><code>[x]-p-&gt;[y]</code><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">⇒</span></span></span></span><code>[x]-type-&gt;[d]</code></td></tr><tr><td style="text-align:center">范围</td><td style="text-align:center"><code>[p]-range-&gt;[c]</code></td><td style="text-align:center"><code>[x]-p-&gt;[y]</code><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">⇒</span></span></span></span><code>[y]-type-&gt;[d]</code></td></tr></tbody></table><p>在有了上表的概念后，可以绘制schema图，如：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/schema%E5%9B%BE.jpg" alt="schema图" title="shema图"><br>语义schema通常用于定义不完整的数据图，即图中没有出现的边并不代表真实世界中不存在对应的关系，即所谓的开放世界假设(OWA)，与之相对的是封闭世界假设(CWA)。CWA假设数据图对世界的描述是完整的，但这种假设在加入边的时候可能会与之前的假设产生矛盾，而OWA不会。然而在实际使用当中，我们会希望数据图给出的部分内容是完整的(如关于交通的，完整的信息才能方便安排行程)，这时可以采用介于OWA和CWA之间的局部封闭世界假设(LCWA)</p><h3 id="validating-schema验证schema"><a class="markdownIt-Anchor" href="#validating-schema验证schema"></a> Validating schema(验证schema)</h3><p>在用图来表示大规模的不完整数据时，使用OWA是最合适的。但有些时候，我们希望数据部分完整，或者说有“准入门槛”(不是LCWA)，例如，对于一班飞机，我们希望它至少提供起止时间，出发地与目的地以及价格这些基本信息，而诸如托运等要求在图中没有的时候，并不代表不能托运。对此，我们可以使用验证schema来定义这些约束，并验证给定的数据图是否满足约束。总的来说，语义schema用于推理，而验证schema用于验证，二者可以共存。<br>实现验证schema的标准形式是使用shape(形状)。形状以数据图中的一部分点作为target施加约束。当且仅当target满足了约束，一个数据图才被认为是符合验证schema的。由于shape定义约束是递归的，因此把所有shape结合在一起可以构成一个shape图。shape图可以使用类UML图进行表示。<br><span id="shape图"><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/shape%E5%9B%BE.jpg" alt="shape图" title="shape图"></span><br>上图中，每个框表示一个shape，框中的标题表示shape的标签，框中的内容以及箭头表示约束条件，三角箭头则表示继承关系。在这些约束条件中，有着形如<code>number ... number或*</code>的数量约束和形如<code>name: string</code>的类型约束。数量约束与正则表达式中的相似，表示重复几次，<code>0...*</code>、<code>0...1</code>、<code>1...*</code>分别对应着正则表达式中的<code>*</code>、<code>?</code>、<code>+</code><br>在定义shape的时候，我们并不能提前知道节点的属性集合，因此同样存在着open shape假设，即允许节点拥有shape中未定义的属性，而与之相对的closed shape则不允许。</p><h4 id="形式化定义-8"><a class="markdownIt-Anchor" href="#形式化定义-8"></a> 形式化定义</h4><p>用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">ϕ</span></span></span></span>表示一个shape，其被定义为：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/shape%E5%AE%9A%E4%B9%89.jpg" alt="shape定义" title="shape定义"><br>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo>∈</mo><msub><mi mathvariant="double-struck">N</mi><mrow><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></msub><mo separator="true">,</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo>∈</mo><msub><mi mathvariant="double-struck">N</mi><mrow><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></msub><mo>∪</mo><mo stretchy="false">{</mo><mo>∗</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">min \in \Bbb{N}_{(0)}, max \in \Bbb{N}_{(0)} \cup \{*\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69862em;vertical-align:-.0391em"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.04409em;vertical-align:-.3551999999999999em"></span><span class="mord"><span class="mord"><span class="mord mathbb">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.34480000000000005em"><span style="top:-2.5198em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3551999999999999em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.04409em;vertical-align:-.3551999999999999em"></span><span class="mord"><span class="mord"><span class="mord mathbb">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.34480000000000005em"><span style="top:-2.5198em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3551999999999999em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord">∗</span><span class="mclose">}</span></span></span></span>(这里就是上文所述的与正则表达式相同的地方)</p><p>shape schema被定义成一个三元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Σ</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi mathvariant="normal">Φ</mi><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mi>λ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Sigma \coloneqq (\Phi, S, \lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Σ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">Φ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">λ</span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>表示shape之集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>表示shape的标签集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi><mo>:</mo><mi>S</mi><mo>→</mo><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\lambda: S \rightarrow \Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>表示shape到shape标签的映射</li></ul><p>有了shape schema后，任意一个shape图即可被写成公式的形式，例如<a href="#shape%E5%9B%BE">此图</a>可以被写成如下形式：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/shape%E5%85%AC%E5%BC%8F.jpg" alt="shape公式" title="shape公式"></p><p>给定一个图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (V, E, L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>和一个shape schema<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Σ</mi><mo>=</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Φ</mi><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mi>λ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Sigma = (\Phi, S, \lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Σ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">Φ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">λ</span><span class="mclose">)</span></span></span></span>：</p><ul><li>shape映射被定义为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi><mo>:</mo><mi>V</mi><mo>×</mo><mi>S</mi><mo>→</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\sigma: V \times S \rightarrow \{0, 1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span></li><li>target集被定义为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>⊆</mo><mi>V</mi><mo>×</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">T \subseteq V \times S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>(直观理解，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span>是认为规定的哪些点需要满足哪些shape)</li></ul><p>给定一个shape schema<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Σ</mi><mo>=</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Φ</mi><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mi>λ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Sigma = (\Phi, S, \lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Σ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">Φ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">λ</span><span class="mclose">)</span></span></span></span>，在已知图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (V, E, L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>的情况下，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>v</mi><mo>∈</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">\forall v \in V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span></span></span></span>，如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>ϕ</mi><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>ϕ</mi><mo>∈</mo><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">[\phi]^{G, v, \sigma} = 1, \phi \in \Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathdefault">ϕ</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">ϕ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>，则称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span></span></span></span>在映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">σ</span></span></span></span>下满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">ϕ</span></span></span></span><br>并给出如下定义用于计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>ϕ</mi><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup></mrow><annotation encoding="application/x-tex">[\phi]^{G, v, \sigma}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathdefault">ϕ</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span></span></span></span>:</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>T</mi><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">[T]^{G, v, \sigma} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Δ</mi><mi>N</mi></msub><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">当</mi><mi mathvariant="normal">且</mi><mi mathvariant="normal">仅</mi><mi mathvariant="normal">当</mi><mi>v</mi><mo>∈</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">[\Delta_N]^{G, v, \sigma} = 1当且仅当v \in N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68354em;vertical-align:-.0391em"></span><span class="mord">1</span><span class="mord cjk_fallback">当</span><span class="mord cjk_fallback">且</span><span class="mord cjk_fallback">仅</span><span class="mord cjk_fallback">当</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.10903em">N</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Ψ</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>d</mi></mrow></msub><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">当</mi><mi mathvariant="normal">且</mi><mi mathvariant="normal">仅</mi><mi mathvariant="normal">当</mi><mi>c</mi><mi>o</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">为</mi><mi mathvariant="normal">真</mi></mrow><annotation encoding="application/x-tex">[\Psi_{cond}]^{G, v, \sigma} = 1当且仅当cond(v)为真</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mord cjk_fallback">当</span><span class="mord cjk_fallback">且</span><span class="mord cjk_fallback">仅</span><span class="mord cjk_fallback">当</span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">真</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi>ϕ</mi><mn>1</mn></msub><mo>∧</mo><msub><mi>ϕ</mi><mn>2</mn></msub><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">{</mo><mo stretchy="false">[</mo><msub><mi>ϕ</mi><mn>1</mn></msub><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo separator="true">,</mo><mo stretchy="false">[</mo><msub><mi>ϕ</mi><mn>2</mn></msub><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">[\phi_1 \land \phi_2]^{G, v, \sigma} = min\{[\phi_1]^{G, v, \sigma}, [\phi_2]^{G, v, \sigma}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">{</span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi mathvariant="normal">¬</mi><mi>ϕ</mi><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mn>1</mn><mo>−</mo><mo stretchy="false">[</mo><mi>ϕ</mi><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup></mrow><annotation encoding="application/x-tex">[\lnot \phi]^{G, v, \sigma} = 1 - [\phi]^{G, v, \sigma}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">¬</span><span class="mord mathdefault">ϕ</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.72777em;vertical-align:-.08333em"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathdefault">ϕ</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi mathvariant="normal">@</mi><mi>s</mi><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">当</mi><mi mathvariant="normal">且</mi><mi mathvariant="normal">仅</mi><mi mathvariant="normal">当</mi><mi>σ</mi><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">[@s]^{G, v, \sigma} = 1当且仅当\sigma(v, s) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">@</span><span class="mord mathdefault">s</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mord cjk_fallback">当</span><span class="mord cjk_fallback">且</span><span class="mord cjk_fallback">仅</span><span class="mord cjk_fallback">当</span><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mover><mo stretchy="true">→</mo><mpadded width="+0.6em" lspace="0.3em"><mi>p</mi></mpadded></mover><mi>ϕ</mi><mo stretchy="false">{</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">}</mo><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">当</mi><mi mathvariant="normal">且</mi><mi mathvariant="normal">仅</mi><mi mathvariant="normal">当</mi><mi>m</mi><mi>i</mi><mi>n</mi><mo>≤</mo><mi mathvariant="normal">∣</mi><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>E</mi><mi mathvariant="normal">∣</mi><mo stretchy="false">[</mo><mi>ϕ</mi><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>u</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">}</mo><mi mathvariant="normal">∣</mi><mo>≤</mo><mi>m</mi><mi>a</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">[\xrightarrow{p} \phi\{min, max\}]^{G, v, \sigma} = 1当且仅当min \leq |\{(v, p, u) \in E | [\phi]^{G, u, \sigma} = 1\}| \leq max</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.173392em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.923392em"><span style="top:-3.322em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="svg-align" style="top:-2.689em"><span class="pstrut" style="height:2.7em"></span><span class="hide-tail" style="height:.522em;min-width:1.469em"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.01100000000000001em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord mathdefault">ϕ</span><span class="mopen">{</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mclose">}</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.79549em;vertical-align:-.13597em"></span><span class="mord">1</span><span class="mord cjk_fallback">当</span><span class="mord cjk_fallback">且</span><span class="mord cjk_fallback">仅</span><span class="mord cjk_fallback">当</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∣</span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mord">∣</span><span class="mopen">[</span><span class="mord mathdefault">ϕ</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">}</span><span class="mord">∣</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span></span></span></span></li></ul><p>给定一个shape schema<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Σ</mi><mo>=</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Φ</mi><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mi>λ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Sigma = (\Phi, S, \lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Σ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">Φ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">λ</span><span class="mclose">)</span></span></span></span>，图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (V, E, L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>和target集<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span>时，若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∃</mi><mi>σ</mi></mrow><annotation encoding="application/x-tex">\exists \sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:.03588em">σ</span></span></span></span>使得<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>s</mi><mo>∈</mo><mi>S</mi><mo separator="true">,</mo><mi>v</mi><mo>∈</mo><mi>V</mi><mi mathvariant="normal">有</mi><mi>σ</mi><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">[</mo><mi>λ</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">]</mo><mrow><mi>G</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>σ</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\forall s \in S, v \in V 有\sigma(v, s) = [\lambda(s)]^{G, v, \sigma}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mord cjk_fallback">有</span><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathdefault">λ</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.03588em">σ</span></span></span></span></span></span></span></span></span></span></span></span>且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\sigma(v, s) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>，则称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span>下满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Σ</span></span></span></span></p><h3 id="emergent-schema"><a class="markdownIt-Anchor" href="#emergent-schema"></a> Emergent schema</h3><p>上述两种schema都需要对应领域的专家人为设计定义和约束条件，而emergent schema则可以帮助发现数据图中的潜在结构(类比无监督学习)<br>一种常见的框架是使用商图(对图中所有顶点的集合进行划分)。<br>我们在离散数学里面学过，如果需要对图进行一个划分，则需要存在一个等价关系(自反、传递、对称)。然而在emergent schema中，划分不全是根据等价关系进行的。这里介绍两种划分办法。在划分之前，首先定义数据图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (V, E, L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>和划分后的商图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">G</mi><mo>=</mo><mo stretchy="false">(</mo><mi mathvariant="script">V</mi><mo separator="true">,</mo><mi mathvariant="script">E</mi><mo separator="true">,</mo><mi mathvariant="script">L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{G} = (\mathcal{V}, \mathcal{E}, \mathcal{L})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78055em;vertical-align:-.09722em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.0593em">G</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08944em">E</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathcal">L</span></span><span class="mclose">)</span></span></span></span>。二者的关系定义如下：</p><ul><li><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">V</mi><mo>⊆</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>V</mi></msup><mo>−</mo><mi mathvariant="normal">∅</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>V</mi><mo>=</mo><munder><mo>⋃</mo><mrow><mi>U</mi><mo>∈</mo><mi mathvariant="script">V</mi></mrow></munder><mi>U</mi></mrow><annotation encoding="application/x-tex">\mathcal{V} \subseteq (2^V - \varnothing), V = \bigcup_{U \in \mathcal{V}}U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.1413309999999999em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8913309999999999em"><span style="top:-3.113em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.22222em">V</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord amsrm">∅</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.3717110000000003em;vertical-align:-1.321706em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em"><span style="top:-1.8556639999999998em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.10903em">U</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:.08222em">V</span></span></span></span></span><span style="top:-3.0500049999999996em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">⋃</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.321706em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.10903em">U</span></span></span></span></span></p></li><li><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">E</mi><mo>=</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>U</mi><mo separator="true">,</mo><mi>l</mi><mo separator="true">,</mo><mi>W</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi>U</mi><mo separator="true">,</mo><mi>W</mi><mo>∈</mo><mi mathvariant="script">V</mi><mo>∧</mo><mi mathvariant="normal">∃</mi><mi>u</mi><mo>∈</mo><mi>U</mi><mo separator="true">,</mo><mi>w</mi><mo>∈</mo><mi>W</mi><mo>:</mo><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>l</mi><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>E</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathcal{E} = \{(U, l, W)| U, W \in \mathcal{V} \land \exists u \in U, w \in W: (u, l, w) \in E\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08944em">E</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.13889em">W</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.13889em">W</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">V</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∃</span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.13889em">W</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mclose">}</span></span></span></span></span></p></li></ul><p>之后定义两种关系：模拟和双拟<br>给定两个DelG<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mi>V</mi><mo mathvariant="normal">′</mo></msup><mo separator="true">,</mo><msup><mi>E</mi><mo mathvariant="normal">′</mo></msup><mo separator="true">,</mo><msup><mi>L</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (V, E, L), G' = (V', E', L')</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，令<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>⊆</mo><mi>V</mi><mo>×</mo><msup><mi>V</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">R \subseteq V \times V'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>：</p><ul><li>若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><msup><mi>v</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo><mo>∈</mo><mi>R</mi><mo>:</mo><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>E</mi><mo>⇒</mo><mi mathvariant="normal">∃</mi><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup><mo separator="true">,</mo><mi mathvariant="normal">使</mi><mo stretchy="false">(</mo><msup><mi>v</mi><mo mathvariant="normal">′</mo></msup><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>E</mi><mo mathvariant="normal">′</mo></msup><mi mathvariant="normal">且</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo><mo>∈</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">\forall (v, v') \in R: (v, p, w) \in E \Rightarrow \exists w', 使(v', p, w') \in E' 且 (w, w') \in R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-.25em"></span><span class="mord">∀</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-.25em"></span><span class="mord">∃</span><span class="mord"><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord cjk_fallback">使</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">且</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>，则称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>模拟了&amp;G’&amp;，记为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>⇝</mo><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">G \leadsto G'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></li><li>若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>⇝</mo><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">G \leadsto G'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup><mo>⇝</mo><mi>G</mi></mrow><annotation encoding="application/x-tex">G' \leadsto G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>，则称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>双拟<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">G'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，记为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>≈</mo><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">G \approx G'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></li></ul><p><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%A8%A1%E6%8B%9F.jpg" alt="模拟" title="模拟"><br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%8F%8C%E6%8B%9F.jpg" alt="双拟" title="双拟"></p><p>由于模拟不是一个等价关系，因此其划分结果的约束性较低，例如图中的<code>EID16</code>，在<a href="#DelG">原数据图</a>中并不存在<code>start</code>和<code>end</code>两条边，但其仍然将<code>EID16</code>与<code>EID15</code>划分到了一个子集当中。<br>理论上，数据图本身就是一个特殊的双拟图，但是在实际使用过程中，我们更偏向于生成更小的双拟图。同时，在实践中，为了降低存储开销，商图有时只保留划分后节点的数量或分割后的标签。<br>双拟会带来一个有趣的现象：给定一个没有反转的路径表达式<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span></span></span></span>和两个双拟图，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span></span></span></span>会在一张图上匹配到一条路径当且仅当其在另一张图上匹配到对应的路径</p><h2 id="identity"><a class="markdownIt-Anchor" href="#identity"></a> Identity</h2><p>在实践中，经常会遇到同名节点。例如一个社交网络相关的图，里面叫<code>张伟</code>的人肯定成千上万，但每个<code>张伟</code>又指向了不同的人。为了明确节点指向的究竟是哪个实体，可以采用启发式方法，例如根据图中的人际关系推断出<code>张伟</code>到底是谁，但启发式方法可靠性较低；另一种是使用某种标记唯一标识图中的节点，这里介绍两种：全局唯一id和外部标识连接。</p><h3 id="持久标识符"><a class="markdownIt-Anchor" href="#持久标识符"></a> 持久标识符</h3><p>在上面说的例子中，我们可以为每个<code>张伟</code>分配一个id，这个id在全局范围内唯一标识了某个<code>张伟</code>(类似身份证号)。这里使用的id需要是长期有效的，被称为PID(持久标识符)。PID的典型案例有：用于论文的DOI，用于作者的ORCID和用于书籍的ISBN。</p><p>在语义网络中，RDF的数据模型推荐使用全局网络标识符来标记节点和边的标签。但是使用的并非可以标记信息资源的URL，而是使用可以标记非信息资源的IRI。</p><ul><li>URL：统一资源定位符，用于定位信息资源</li><li>URN：统一资源名称，用于命名非信息资源</li><li>URI：统一资源标识符，包括URL和URN</li><li>IRI：国际化资源标识符，即支持unicode的URI</li></ul><p>在Wiki数据的RDF表示中，URL指向的是页面，而IRI指向的是节点本身。使用URL在某些情况下会带来歧义。例如<code>[A]--建立-&gt;[B]</code>，若<code>建立</code>是由URL标注的，那<code>[B]</code>究竟是由<code>建立</code>的URL所描述的对象建立的，还是URL对应的网页建立的？IRI由于不指向网页，而仅指向节点，从而避免了歧义。<br>在wikidata的标识符中，其使用前缀来区分实体和关系。这些前缀被称为命名空间。命名空间一般被缩写成<code>namespace:</code>的形式</p><p>当使用HTTP IRI来标记图的时候，访问该IRI，其对应的HTTP服务器会返回RDF格式的图。这种方式允许RDF与网络上其他RDF描述的实体连接起来，形成链接数据。但是直接使用HTTP IRI并不一定是持久的，因为对应的网页可能会崩掉等一系列问题。为了解决网络数据源的持久性问题，PURL服务提供了重定向的功能，从而将id与IRI分割，保证了id的持久性</p><h3 id="外部标识链接"><a class="markdownIt-Anchor" href="#外部标识链接"></a> 外部标识链接</h3><p>当我们将同名的不同实体通过id区分好后，与之相对的——不同名节点指向同一实体的问题便被放大了。这种问题主要体现在不同图中，即不同图的同名实体会有着不同的命名空间，从而使得二者在id上被区别开来。这里有两种方法：<br>一种是将实体和图谱中的特定标识信息关联起来，例如将城市和经纬度、人和身份证号。每添加一个额外的信息都能消除歧义。<br>第二种是使用标识链接来声明一种实体与另外一个外部源的实体相同。这个方法的实例在OWL标准中体现。OWL标准定义了owl:sameAs标签来将二者联系起来，例如<code>[A:a]--owl:sameAs-&gt;[B:a]</code></p><h3 id="数据类型"><a class="markdownIt-Anchor" href="#数据类型"></a> 数据类型</h3><p>对于一些诸如日期之类的数据，为其分配id不太合适。大部分的图模型都允许添加数据类型值的节点。在RDF中，采用XML Schema Datatypes(XSD)来定义数据类型节点，其形式为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>l</mi><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(l, d)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">d</span><span class="mclose">)</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span></span></span></span>是一个字符串，而<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">d</span></span></span></span>是一个IRI，用于定义数据类型，例如：<code>xsd:time</code>、<code>xsd:string</code>、<code>xsd:integer</code>、<code>xsd:decimal</code>、<code>xsd:bollean</code>等。RDF中的数据类型节点被称为字面量，其不允许有出边。</p><h3 id="词汇化"><a class="markdownIt-Anchor" href="#词汇化"></a> 词汇化</h3><p>在使用全局id的时候，有两种形式：一种是人类可以理解的，使用自然语言的标识，例如<code>[广东:深圳]</code>，另一种是人类无法理解的，例如<code>[wd:Q2887]</code>。后者一般不会受不同语言的影响，而前者每遇到一个不同语言就需要新建或者更新一次标签。为了提升后者的可读性，我们可以为其添加标签、评论等，甚至可以指定语言。RDF中这类标签如<code>[wd:Q2887]--rdfs:label-&gt;["深圳"@cn]</code>、<code>[wd:Q2887]--rdfs:comment-&gt;["深圳"@cn]</code></p><h3 id="存在性节点"><a class="markdownIt-Anchor" href="#存在性节点"></a> 存在性节点</h3><p>对不完整信息进行建模的时候，有时会遇到两个实体和一个未知实体关联的情况，这个未知实体实际是客观存在的，但我们并不知道这个实体。一种方法是直接忽略，但这会带来信息的丢失；另一种是给这个实体一个“占位符”，即存在性节点来表示这里有一个实体。存在性节点用空白圆圈表示，如下图所示：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%AD%98%E5%9C%A8%E6%80%A7%E8%8A%82%E7%82%B9.jpg" alt="存在性节点" title="存在性节点"><br>利用存在性节点还能用于构造更复杂的元素，例如RDF列表：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/RDF%E5%88%97%E8%A1%A8.jpg" alt="RDF列表" title="RDF列表"><br>虽然存在性节点用起来方便，但其会带来对图操作上的困难，例如判断两个图是否含有相同结构。因此提出了将存在性节点skolem化等方法解决这个困难</p><h2 id="context"><a class="markdownIt-Anchor" href="#context"></a> Context</h2><p>众所周知，真理是有条件的。以<a href="#DelG">DelG</a>为例，图中的航班并不是一直都有的，有可能是某个时间段才存在。诸如此类的一系列使事实成立的条件被称为上下文(context)。<a href="#DelG">DelG</a>中的上下文没有明确展示出来，但明确的上下文有助于从不同角度理解数据。此外，上下文也可以作用于图的不同水平，如城市建立时间作用于<code>[城市]</code>这类节点，航班存在时间作用于某个航班所对应的边标签等等。</p><h3 id="direct-representation直接表示"><a class="markdownIt-Anchor" href="#direct-representation直接表示"></a> Direct representation(直接表示)</h3><p>一种表示上下文的方法是将其视为数据插入到图中，例如上述的<code>[城市]</code>这类节点，可以插入一些节点与边用于表示上下文，如<code>[城市]--建立于-&gt;[时间]</code>；对于边这类情况，我们首先需要将其转化为节点再直接表示，正如<a href="#DelG%E4%B8%8E%E5%B1%9E%E6%80%A7%E5%9B%BE%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E5%8C%96">此图中的Fig. 3</a>。这些例子中的表示法不具有一般性，现在已经有更标准的方法来表示上下文，例如RDF中的时间本体(Time Ontology)，其定义了如何以可交互的方式建立时间实体、时刻、时段以及之间的关系。另一个例子是PROV数据模型中定义了如何在RDF图中描述出处。</p><h3 id="reification物化"><a class="markdownIt-Anchor" href="#reification物化"></a> Reification(物化)</h3><p>直接表示法需要将边转化成点之后才能添加上下文，而物化则可以直接表示边的上下文。物化首先将边抽象为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">e</span></span></span></span>，之后再对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">e</span></span></span></span>添加上下文。下面介绍三种物化的方法：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%89%A9%E5%8C%96.jpg" alt="物化" title="物化"></p><ul><li>(a)RDF物化中，<code>subject</code>、<code>object</code>和<code>predicate</code>分别表示原来边的起点、终点和标签，剩下的都是上下文</li><li>(b)n-ary关系中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">e</span></span></span></span>顶替了原本终点的位置，原本的终点则是<code>value</code>指向的点</li><li>©单例属性中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">e</span></span></span></span>顶替了原本的标签，原本的标签则是<code>singleton</code>指向的点。单例属性使得上下文直接标注在了边标签上</li></ul><h3 id="higher-arity-representation高元表示"><a class="markdownIt-Anchor" href="#higher-arity-representation高元表示"></a> Higher-arity representation(高元表示)</h3><p>上述两种方法都是在图中嵌入上下文，其对数据图的原始拓扑结构有改变。higher-arity表示则可以在不改变原始数据图拓扑结构的情况下添加上下文。同样介绍了三种表示：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/higher-arity.jpg" alt="higher-arity" title="higher-arity"></p><ul><li>(a)是使用命名图来嵌入上下问。就如图中所示，其将需要嵌入上下文的部分定义成了一个命名图。这种方式是最为灵活的，比如现在很多边都有相同的上下文，此时只需要将这些边加入命名图中即可。</li><li>(b)则使用属性图来表示上下文</li><li>©是RDF的一种扩展，允许直接将边定义成点。这种是最不灵活的方法，因为其在缺少边id的情况下，无法将不同取值的相同类型上下文赋予同一条边。例如我们现在有着两个时间跨度，如果我们将四个实践地啊你都加入到这个图中，我们就不能知道哪个起始时间对应哪个结束时间了，此时必须定义一个新的点，而前两者只需要修改下图的名字或者边id即可。</li></ul><h3 id="annotations注解"><a class="markdownIt-Anchor" href="#annotations注解"></a> Annotations(注解)</h3><p>上述的方法都只考虑了表示上下文，但没有涉及上下文自动推理相关的技术。有时候我们会需要从上下文中提取出信息，暴力枚举肯定不是啥好办法，而注解则为上下文提供了形式化的定义和操作。<br>部分注解是针对特定上下文域的，如Temporal RDF和Fuzzy RDF，前者允许注解时间段，而后者则允许注解概率。<br>而其他注解是域无关的，例如Annotated RDF要求其上下文形成一个半环(抽象代数里面的概念，其定义放到形式化定义里面)。这里举个例子：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%B3%A8%E8%A7%A3%E5%8F%8A%E5%85%B6query.jpg" alt="注解及其query" title="注解及其query"><br>我们现在想从<code>Santiago</code>坐飞机到一个城市参加活动，首先query得到坐飞机到某个举办活动的城市；然后，我们需要对结果进行筛选，因为有航班的时间和活动的时间并不一定是有交集的，这时我们只需对flight里和city里的时间集合求交就可得出结果(交操作在里面是符合半环定义的，定义一块放到形式化定义里面)</p><h4 id="形式化定义-9"><a class="markdownIt-Anchor" href="#形式化定义-9"></a> 形式化定义</h4><p>为了照顾没学过抽象代数的读者(也不知道有没有)，我尽量把概念都写的详细一点。<br>首先定义什么是二元运算：<br>给定一个集合<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span></span></span></span>，定义在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span></span></span></span>上的二元代数运算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋅</mo><mo>:</mo><mi>A</mi><mo>×</mo><mi>A</mi><mo>→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\cdot: A \times A \rightarrow A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.44445em;vertical-align:0"></span><span class="mord">⋅</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span></span></span></span>满足封闭性，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mi>a</mi><mo>⋅</mo><mi>b</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\forall a, b \in A: a \cdot b \in A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">∀</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.44445em;vertical-align:0"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span></span></span></span>。<br>而半环是这样的一个代数结构<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mo>+</mo><mo separator="true">,</mo><mo>⋅</mo><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, +, \cdot, 0, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">+</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">⋅</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>+</mo></mrow><annotation encoding="application/x-tex">+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord">+</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋅</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.44445em;vertical-align:0"></span><span class="mord">⋅</span></span></span></span>是定义在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span></span></span></span>上的二元代数运算，分别被称为加法和乘法(与平常说的加法乘只是名字相同，本质上是不一样的)，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>分别是加法啊和乘法的单位元。半环需要满足如下条件:</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mo>+</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, +, 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">+</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>是一个可换幺半群，即：<ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><mi>b</mi><mo>+</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo><mo>+</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">\forall a, b, c \in A: a + (b + c) = (a + b) + c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">∀</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">c</span></span></span></span>(满足交换律，此时可以称为半群)</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>a</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mn>0</mn><mo>+</mo><mi>a</mi><mo>=</mo><mi>a</mi><mo>+</mo><mn>0</mn><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\forall a \in A: 0 + a = a + 0 = a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.72777em;vertical-align:-.08333em"></span><span class="mord">0</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span></span></span></span>(存在幺元，此时可以称为幺半群)</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>+</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\forall a, b \in A: a + b = b + a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">∀</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.77777em;vertical-align:-.08333em"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span></span></span></span>(满足交换律，此时可以被称为可换幺半群)</li></ul></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mo>⋅</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, \cdot, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">⋅</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>是一个幺半群，即：<ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mi>a</mi><mo>⋅</mo><mo stretchy="false">(</mo><mi>b</mi><mo>⋅</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mo>⋅</mo><mi>b</mi><mo stretchy="false">)</mo><mo>⋅</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">\forall a, b, c \in A: a \cdot (b \cdot c) = (a \cdot b) \cdot c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">∀</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.44445em;vertical-align:0"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">c</span></span></span></span>(满足交换律，此时可以称为半群)</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>a</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mn>1</mn><mo>⋅</mo><mi>a</mi><mo>=</mo><mi>a</mi><mo>⋅</mo><mn>1</mn><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\forall a \in A: 1 \cdot a = a \cdot 1 = a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.44445em;vertical-align:0"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span></span></span></span>(存在幺元，此时可以称为幺半群)</li></ul></li></ul><p>在此基础上，定义幂等可换半环：</p><ul><li>若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mo>⋅</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, \cdot, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">⋅</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>满足交换律，则其是可换半环的</li><li>若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mo>+</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, +, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">+</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>是幂等的，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>a</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mi>a</mi><mo>+</mo><mi>a</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\forall a \in A: a + a = a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span></span></span></span></li></ul><p>现在定义DelG上的注解<br>给定一个幂等可换半环<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mo>+</mo><mo separator="true">,</mo><mo>⋅</mo><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, +, \cdot, 0, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">+</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">⋅</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，定义注解DelG为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><msub><mi>E</mi><mi>A</mi></msub><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G \coloneqq (V, E_A, L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">V \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示顶点集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo>⊆</mo><mtext mathvariant="bold">Con</mtext></mrow><annotation encoding="application/x-tex">L \subseteq \textbf{Con}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span></span></span></span>表示边标签集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mi>A</mi></msub><mo>⊆</mo><mi>V</mi><mo>×</mo><mi>L</mi><mo>×</mo><mi>V</mi><mo>×</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">E_A \subseteq V \times L \times V \times A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span></span></span></span>表示注解之集</li></ul><p>在上文的例子中，其对应的半环结构为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msup><mn>2</mn><msub><mi mathvariant="double-struck">N</mi><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>365</mn><mo stretchy="false">]</mo></mrow></msub></msup><mo separator="true">,</mo><mo>∪</mo><mo separator="true">,</mo><mo>∩</mo><mo separator="true">,</mo><msub><mi mathvariant="double-struck">N</mi><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>365</mn><mo stretchy="false">]</mo></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">∅</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(2^{\Bbb{N}_{[1,365]}}, \cup, \cap, \Bbb{N}_{[1, 365]}, \varnothing)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2038129999999998em;vertical-align:-.3551999999999999em"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.848613em"><span style="top:-3.06639em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3447999999999998em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5357142857142856em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">3</span><span class="mord mtight">6</span><span class="mord mtight">5</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3694857142857143em"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">∪</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">∩</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord"><span class="mord mathbb">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.34480000000000005em"><span style="top:-2.5198em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">3</span><span class="mord mtight">6</span><span class="mord mtight">5</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3551999999999999em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord amsrm">∅</span><span class="mclose">)</span></span></span></span></p><h3 id="其他上下文框架"><a class="markdownIt-Anchor" href="#其他上下文框架"></a> 其他上下文框架</h3><p>contexual knowledge repositories(上下文知识仓库)允许为单个图或者子图添加上下文。但与命名图不同，其上下文会明确指定维度，每一张图都必须在每个维度上设定一个值，每个维度又进一步地定义了内部值的排序方式。这种方法可以帮助选择与组合不同粒度级别上下文中的有效子图。<br>OLAP框架的数据可以认为是一个多维数据立方体，每个cell中包含一个知识图谱。OLAP框架支持诸如<code>slice-and-dice</code>(切片)和<code>roll-up</code>(将知识聚合到更高层次上)的操作(感觉有点像张量(tensor))</p><h1 id="deductive-knowledge"><a class="markdownIt-Anchor" href="#deductive-knowledge"></a> Deductive Knowledge</h1><p>人类可以很容易从图中推导出许多结论。仍以<a href="#DelG">DelG</a>为例，人类可以很容易从图中得出“某个有航班的城市一定有机场”这个结论，既是图中这个城市并没有与某个机场之间形成边。在这个例子中，给定了一些数据作为前提，人类可以凭借有关的先验知识，来推导出新的数据。这些先验知识，如果为大众所知晓，则称为常识；若仅为少数人所知，则称为领域知识。<br>对于机器来说，是不存在先验知识的。为了达到与上述相同的推理水平，机器需要得到前提数据以及蕴含规则。蕴含规则表明了如何使用前提进行逻辑推导。这些推理结果可以用于改善查询结果、分类、查找不一致处等。仍以<a href="#DelG">GelG</a>为例，现在我们想查询<code>Santiago</code>的节日，我们会很自然的写出如下query<br><span id="查询节日"><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%9F%A5%E8%AF%A2%E5%9C%A3%E5%9C%B0%E4%BA%9A%E5%93%A5%E7%9A%84%E8%8A%82%E6%97%A5.jpg" alt="查询Santiago的节日" title="查询Santiago的节日"></span><br>然而<a href="#DelG">DelG</a>中并没有一个位于<code>Santiago</code>的<code>Festival</code>，因此这个query会返回一个空表。但实际上存在一个美食节是在<code>Santiago</code>举办的，美食节是<code>Festival</code>的一个子类。<br>本部分着眼于本体(ontologines)来定义、推导。</p><h2 id="ontologines本体"><a class="markdownIt-Anchor" href="#ontologines本体"></a> Ontologines(本体)</h2><p>哲学中的本体表示的是某个事物的客观存在，例如我打字的这个电脑就是本体，而“电脑”一词就是用于描述本体的符号。<br>这篇论文中介绍的本体在某个特定领域准确定义了各种术语，并且定义了术语之间的关系以及相应的约束，起到了schema的作用。<br>这里所述的本体的特性来源于网络本体语言OWL</p><h3 id="interpretations解释"><a class="markdownIt-Anchor" href="#interpretations解释"></a> Interpretations(解释)</h3><p>在某个图中，有着这样的一条边<code>[深圳]--航班-&gt;[哈尔滨]</code>，人类可以理解是有一趟航班是深圳到哈尔滨的。人类根据这些点和边解释了现实世界，这种解释过程将数据图解释为另一个通过现实世界中存在的关系连接现实世界的边的图，即域图。这种解释可以视为数据图的点和边到域图的点和边的映射。<br>我们将一张数据图的解释定义成一个二元组，其两个元素分别为域图和数据图到域图的映射。域图使用的模型一般和数据图相同，这里我们只考虑DelG。域图中的节点称为实体，而边称为关系。在这种抽象化的定义下，我们不需要域图中的点和边来自现实世界，只需要将其理解为数据图的一个映射结果即可。<br>这样的定义在后续定义本体的特征以及蕴含时，可以将点/边和实体/关系区分开来。如果数据图中不存在某条边，在不同的假设下解释后域图中不存在某条边就有了两种解释：在CWA下即不存在这种关系，而在OWA下则是不清楚。同样，在UNA(unique name assumption)下两个节点必须是不同实体，而在NUNA(no unique name assumption)下，两个节点可以是同一实体。<br>在不同的假设下，同一个域图的原象集会有差距。例如如果域图中存在这样的一条边<code>[x]--p-&gt;[y]</code>，在CWA下其原象集中的图必须含有<code>[x]--p-&gt;[y]</code>这条边，而在OWA下则可以有不含有该边的，只要其和其他边不冲突。在OWL中其采用了NUNA和OWA。<br>在此基础上，我们可以引入语义条件来约束域图。例如，在数据图中存在一条边<code>[p]--subp. of-&gt;[q]</code>，则在域图中，若存在边<code>[x]--p-&gt;[y]</code>，就必须同时存在边<code>[x]--q-&gt;[y]</code>。这些语义构成了本体语言的特征。</p><h4 id="形式化定义-10"><a class="markdownIt-Anchor" href="#形式化定义-10"></a> 形式化定义</h4><p>解释被定义为一个二元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi mathvariant="normal">Γ</mi><mo separator="true">,</mo><msup><mo>⋅</mo><mi>I</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I \coloneqq (\Gamma, \cdot^I)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">Γ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Γ</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>V</mi><mi mathvariant="normal">Γ</mi></msub><mo separator="true">,</mo><msub><mi>E</mi><mi mathvariant="normal">Γ</mi></msub><mo separator="true">,</mo><msub><mi>L</mi><mi mathvariant="normal">Γ</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Gamma = (V_\Gamma, E_\Gamma, L_\Gamma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Γ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>表示域图</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup><mo>:</mo><mtext mathvariant="bold">Con</mtext><mo>→</mo><msub><mi>V</mi><mi mathvariant="normal">Γ</mi></msub><mo>∪</mo><msub><mi>L</mi><mi mathvariant="normal">Γ</mi></msub></mrow><annotation encoding="application/x-tex">\cdot^I: \textbf{Con} \rightarrow V_\Gamma \cup L_\Gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68611em;vertical-align:0"></span><span class="mord text"><span class="mord textbf">Con</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>表示数据图到域图的一个映射。</li></ul><p>给定数据图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (V, E, L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>和一个解释<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi mathvariant="normal">Γ</mi><mo separator="true">,</mo><msup><mo>⋅</mo><mi>I</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I \coloneqq (\Gamma, \cdot^I)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">Γ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，若：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>∪</mo><mi>L</mi><mo>⊆</mo><mi>d</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><msup><mo>⋅</mo><mi>I</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V \cup L \subseteq dom(\cdot^I)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>v</mi><mo>∈</mo><mi>V</mi><mo>:</mo><msup><mi>v</mi><mi>I</mi></msup><mo>∈</mo><msub><mi>V</mi><mi mathvariant="normal">Γ</mi></msub></mrow><annotation encoding="application/x-tex">\forall v \in V: v^I \in V_\Gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.880431em;vertical-align:-.0391em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>l</mi><mo>∈</mo><mi>L</mi><mo>:</mo><msup><mi>l</mi><mi>I</mi></msup><mo>∈</mo><msub><mi>L</mi><mi mathvariant="normal">Γ</mi></msub></mrow><annotation encoding="application/x-tex">\forall l \in L: l^I \in L_\Gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.880431em;vertical-align:-.0391em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>l</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>E</mi><mo>:</mo><mo stretchy="false">(</mo><msup><mi>u</mi><mi>I</mi></msup><mo separator="true">,</mo><msup><mi>l</mi><mi>I</mi></msup><mo separator="true">,</mo><msup><mi>v</mi><mi>I</mi></msup><mo stretchy="false">)</mo><mo>∈</mo><msub><mi>E</mi><mi mathvariant="normal">Γ</mi></msub></mrow><annotation encoding="application/x-tex">\forall (u, l, v) \in E: (u^I, l^I, v^I) \in E_\Gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∀</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></li></ul><h3 id="indivituals个体"><a class="markdownIt-Anchor" href="#indivituals个体"></a> Indivituals(个体)</h3><p>个体可以认为是类的实例，通常与类和属性区分开来。OWL用于描述个体所支持的主要特征如下<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E4%B8%AA%E4%BD%93%E7%89%B9%E5%BE%81.jpg" alt="个体特征" title="个体特征"></p><h3 id="properties属性"><a class="markdownIt-Anchor" href="#properties属性"></a> Properties(属性)</h3><p>在语义schema那介绍了几个属性特征，OWL支持额外的属性特征如下：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%B1%9E%E6%80%A7%E7%89%B9%E5%BE%81.jpg" alt="属性特征" title="属性特征"></p><h3 id="class类"><a class="markdownIt-Anchor" href="#class类"></a> Class(类)</h3><p>OWL支持的类特征如下：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%B1%BB%E7%89%B9%E5%BE%81.jpg" alt="类特征" title="类特征"></p><h2 id="semantics-and-entailment"><a class="markdownIt-Anchor" href="#semantics-and-entailment"></a> Semantics and Entailment</h2><p>上面这些表列出的条件声明了每个特征应该如何被解释，这带来了蕴含这一概念。例如，我们已经知道<code>[关系]--type-&gt;[Symmetric]</code>，并且存在一条边<code>[实体1]--关系-&gt;[实体2]</code>，则这张图里面蕴含了<code>[实体1]--关系-&gt;[实体2]</code></p><h3 id="model-theoretic-semantics"><a class="markdownIt-Anchor" href="#model-theoretic-semantics"></a> Model-theoretic semantics</h3><p>当我们将上述表中的公理添加到图里面后，就会给这些图带来一些条件。满足这些条件的解释被称为图的模型。</p><h4 id="形式化定义-11"><a class="markdownIt-Anchor" href="#形式化定义-11"></a> 形式化定义</h4><p>则称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>或<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>的一个模型。</p><p>令<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>G</mi></msup></mrow><annotation encoding="application/x-tex">2^G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">G</span></span></span></span></span></span></span></span></span></span></span>表示所有DelG的集合，一个语义条件被定义为一个映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϕ</mi><mo>:</mo><msup><mn>2</mn><mi>G</mi></msup><mo>→</mo><mrow><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi><mo separator="true">,</mo><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi></mrow></mrow><annotation encoding="application/x-tex">\phi: 2^G \rightarrow {true, false}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">ϕ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">G</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span></span></span></span></span>。则：在语义条件<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">ϕ</span></span></span></span>下<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>的一个模型<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext></mrow><annotation encoding="application/x-tex">\iff</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.549em;vertical-align:-.024em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span></span></span><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>的一个模型且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi mathvariant="normal">Γ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">\phi(\Gamma) = true</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord">Γ</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.61508em;vertical-align:0"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span></span></span></span>；在语义条件集<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>下<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>的一个模型<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext></mrow><annotation encoding="application/x-tex">\iff</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.549em;vertical-align:-.024em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span></span></span><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>的一个模型且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>ϕ</mi><mo>∈</mo><mi mathvariant="normal">Φ</mi><mi>ϕ</mi><mo stretchy="false">(</mo><mi mathvariant="normal">Γ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">\forall \phi \in \Phi \phi(\Gamma) = true</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">∀</span><span class="mord mathdefault">ϕ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">Φ</span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord">Γ</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.61508em;vertical-align:0"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span></span></span></span></p><h3 id="entailment蕴含"><a class="markdownIt-Anchor" href="#entailment蕴含"></a> Entailment(蕴含)</h3><p>当一个图的模型同时也是另一个图的模型时，我们称前者蕴含了后者。直观的来说，后者并没有给前者带来任何新的知识。</p><h4 id="形式化定义-12"><a class="markdownIt-Anchor" href="#形式化定义-12"></a> 形式化定义</h4><p>给定两个图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">G_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">G_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>以及语义条件集<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>，若在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>下对于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">G_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>的任意一个模型，其也是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">G_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>的模型，则称在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>下<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">G_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>蕴含了&amp;G_2&amp;，记为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub><msub><mo>⊨</mo><mi mathvariant="normal">Φ</mi></msub><msub><mi>G</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">G_1 \models_\Phi G_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.999em;vertical-align:-.249em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel">⊨</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Φ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></p><h3 id="if-then-vs-if-and-only-if-semantics"><a class="markdownIt-Anchor" href="#if-then-vs-if-and-only-if-semantics"></a> If-then vs. if-and-only-if semantics</h3><p>这里主要针对上表中的公理(Axiom)和条件(Condition)。OWL使用的是if-and-only-if语义。<br>在if-then语义下，若数据图中包含公理，则其对应的域图一定需要满足对应的条件，但反过来不一定成立，即：若其对应的域图满足了对应的条件，数据图中也不一定需要有对应的公理存在<br>而在if-and-only-if语义下，若数据图中包含公理，则其对应的域图一定需要满足对应的条件，同时，若其对应的域图满足了对应的条件，数据图中也一定需要有对应的公理存在</p><h2 id="reasoning"><a class="markdownIt-Anchor" href="#reasoning"></a> Reasoning</h2><p>虽然上面说了一大堆云里雾里的，但好消息是判断一个图是否蕴含另一个图是个不可判定问题。但是，我们有算法可以解决下面几个降低条件后的问题：</p><ol><li>对于任何输入都能给出判定结果，但会漏掉蕴含，即本应返回true的返回了false</li><li>对于限定的输入肯定能返回正确的结果</li><li>无论给什么输入，都只会返回正确的结果，但有些输入会导致死循环<br>针对3，一般采用一阶逻辑定理；1和2则常用规则或描述逻辑。1通常允许更高效和可扩展的推理算法，并且在数据不完整且一些蕴含有价值的情况下很有用。2则常用于专业领域，尤其是缺了蕴含会带来不良影响的领域，如医药领域。</li></ol><h3 id="rule"><a class="markdownIt-Anchor" href="#rule"></a> Rule</h3><p>一条规则由<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>o</mi><mi>d</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">body</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.03588em">y</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">head</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span></span></span></span>组成，二者都是模板。在一张图中，通过body匹配到的子图对应替换成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">head</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span></span></span></span>所能匹配的形式即可得到一个蕴含。除此之外，还要求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">head</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span></span></span></span>中出现的变量必须是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>o</mi><mi>d</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">body</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.03588em">y</span></span></span></span>出现变量的子集。<br>下标给出了部分规则：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E8%A7%84%E5%88%99.jpg" alt="规则" title="规则"><br>然而，这些规则并不是完备的(完备的定义放在形式化定义里面)，比如某个类肯定是自身的子类，但是匹配子类的规则肯定不会匹配到每个类。本体中的各种特征所对应的规则被定义成OWL2 RL/RDF，并且这些也是不完备的。<br>有多种方式可以利用推导补全图。Materialisation递归的将规则作用于数据图，并将替换后的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">head</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span></span></span></span>添加进原图中，直到图不再变化。尽管通过诸如Rete网络的优化器或者MapReduce的分布式框架可以增强Materialisation的效率和可扩展性，但基于规则和数据，其结果可能会变得过大以至于难以管理。<br>另一种利用规则的方法是重写query。即给定一个query，其会将其按照规则扩展成一组查询。例如在图中已知<code>[A]--subc.of-&gt;[B]</code>，此时给定一个query<code>[?x]--type-&gt;[B]</code>，规则会将其扩展成<code>[?x]--type-&gt;[B]</code><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∪</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord">∪</span></span></span></span><code>[?x]--type-&gt;[A]</code>。再给一个更复杂的例子，对于<a href="#%E6%9F%A5%E8%AF%A2%E8%8A%82%E6%97%A5">这个query</a>给定下图后其可以被扩展成如下形式：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E9%87%8D%E5%86%99%E6%9F%A5%E8%AF%A2.jpg" alt="重写查询" title="重写查询"><br>但并不是所有的OWL特征都支持这种方式。</p><p>有些规则是无法被本体特征所捕捉到的，例如下面这个带环的规则：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%B8%A6%E7%8E%AF%E8%A7%84%E5%88%99.jpg" alt="带环规则" title="带环规则"><br>或基于或独立于本体语言，许多语言可以用于描述规则，例如<code>Notation3</code>(<code>N3</code>), <code>Rule Interchange Format</code>(<code>RIF</code>), <code>Semantic Web Rule Language</code>(<code>SWRL</code>), 和 <code>SPARQL Inferencing Notation</code>(<code>SPIN</code>)。在<code>SPIN</code>语言中，规则以图的形式表达并被嵌入到数据图中。</p><h4 id="形式化定义-13"><a class="markdownIt-Anchor" href="#形式化定义-13"></a> 形式化定义</h4><p>一条规则被定义为一个二元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">,</mo><mi>H</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R \coloneqq (B, H)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.08125em">H</span><span class="mclose">)</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05017em">B</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.08125em">H</span></span></span></span>均为图模式并且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext mathvariant="bold">Var</mtext><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo><mo>⊆</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">\textbf{Var}(H) \subseteq B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord textbf">Var</span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.08125em">H</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05017em">B</span></span></span></span>我们称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05017em">B</span></span></span></span>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>o</mi><mi>d</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">body</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:.03588em">y</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.08125em">H</span></span></span></span>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">head</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span></span></span></span></p><p>给定一条规则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>=</mo><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">,</mo><mi>H</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R = (B, H)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.08125em">H</span><span class="mclose">)</span></span></span></span>和一个图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>，将规则作用在图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>后的图被定义为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><msub><mo>⋃</mo><mrow><mi>μ</mi><mo>∈</mo><mi>B</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow></msub><mi>μ</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(G) \coloneqq \bigcup_{\mu \in B(G)}\mu(H)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.22471em;vertical-align:-.47471em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">⋃</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.22528999999999993em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">μ</span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">G</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.47471em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.08125em">H</span><span class="mclose">)</span></span></span></span></p><p>给定一组规则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">R</mi><mo><mi mathvariant="normal">≔</mi></mo><mrow><msub><mi>R</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>R</mi><mi>n</mi></msub></mrow></mrow><annotation encoding="application/x-tex">\mathcal{R} \coloneqq {R_1, ..., R_n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal">R</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span>和一个图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>，将这一组规则作用在图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>后的图被定义为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><msub><mo>⋃</mo><mrow><mi>R</mi><mo>∈</mo><mi mathvariant="script">R</mi></mrow></msub><mi>R</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(G) \coloneqq \bigcup_{R \in \mathcal{R}}R(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.07708em;vertical-align:-.32708000000000004em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">⋃</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.17862099999999992em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.00773em">R</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathcal mtight">R</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.32708000000000004em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>，并定义如下表示:</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="script">R</mi><mo>+</mo></msup><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><mi mathvariant="script">R</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>∪</mo><mi>G</mi></mrow><annotation encoding="application/x-tex">\mathcal{R}^+(G) \coloneqq \mathcal{R}(G) \cup G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-.25em"></span><span class="mord"><span class="mord"><span class="mord mathcal">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathcal">R</span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="script">R</mi><mn>1</mn></msup><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><msup><mi mathvariant="script">R</mi><mo>+</mo></msup><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{R}^1(G) \coloneqq \mathcal{R}^+(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-.25em"></span><span class="mord"><span class="mord"><span class="mord mathcal">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-.25em"></span><span class="mord"><span class="mord"><span class="mord mathcal">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="script">R</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><mi mathvariant="script">R</mi><mo stretchy="false">(</mo><msup><mi mathvariant="script">R</mi><mi>k</mi></msup><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{R}^{k+1}(G) \coloneqq \mathcal{R}(\mathcal{R}^{k}(G))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991079999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord"><span class="mord mathcal">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathcal">R</span></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathcal">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">R</mi></mrow><annotation encoding="application/x-tex">\mathcal{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal">R</span></span></span></span></span>作用于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">G</span></span></span></span>的最终模型被定义为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="script">R</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo><mi mathvariant="normal">≔</mi></mo><msub><mo>⋃</mo><mrow><mi>k</mi><mo>∈</mo><msup><mi mathvariant="double-struck">N</mi><mo>+</mo></msup></mrow></msub><msup><mi mathvariant="script">R</mi><mi>k</mi></msup><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{R}^*(G) \coloneqq \bigcup_{k \in \Bbb{N}^+}\mathcal{R}^k(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord"><span class="mord mathcal">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.688696em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.176188em;vertical-align:-.32708000000000004em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-.0000050000000000050004em">⋃</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.19215499999999996em"><span style="top:-2.40029em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7026642857142857em"><span style="top:-2.786em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.32708000000000004em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord"><span class="mord mathcal">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span></li></ul><p>正确性：若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>G</mi><mo>:</mo><mi>G</mi><msub><mo>⊨</mo><mi mathvariant="normal">Φ</mi></msub><mi mathvariant="script">R</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\forall G: G \models_{\Phi}\mathcal{R}(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">∀</span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.999em;vertical-align:-.249em"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel">⊨</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Φ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathcal">R</span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>，则称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">R</mi></mrow><annotation encoding="application/x-tex">\mathcal{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal">R</span></span></span></span></span>在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>下是正确的<br>完备性：若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∄</mi><mi>e</mi><mo>:</mo><mi>G</mi><msub><mo>⊨</mo><mi mathvariant="normal">Φ</mi></msub><mi>e</mi><mo>∧</mo><mi>e</mi><mi mathvariant="normal">∉</mi><msup><mi mathvariant="script">R</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\nexists e: G \models_\Phi e \land e \notin \mathcal{R}^*(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68889em;vertical-align:0"></span><span class="mord amsrm">∄</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.999em;vertical-align:-.249em"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel">⊨</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Φ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.75em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:.05555555555555555em"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.25em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord"><span class="mord mathcal">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.688696em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>，则称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">R</mi></mrow><annotation encoding="application/x-tex">\mathcal{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal">R</span></span></span></span></span>在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Φ</span></span></span></span>下是完备的</p><h3 id="description-logics描述逻辑"><a class="markdownIt-Anchor" href="#description-logics描述逻辑"></a> Description Logics(描述逻辑)</h3><p>描述逻辑(DLs)最开始是作为一种形式化框架和语义网络的方法被引入的。由于到语义网络是知识图谱的前身，因此DLs对OWL产生了极大的影响，DLs也因此在知识图谱的形式逻辑中占有重要地位。<br>DLs提供的是一类逻辑而非特定的逻辑。其最开始是一阶逻辑的受限部分，用于诸如判定蕴含等可判定推理任务。对其施加不同的限制可以平衡表达能力和计算复杂度。<br>DLs基于三种元素：个体(individuals)、类(classes)、属性(properties)。DLs的声明被称为公理(axioms)。断言公理(assertional axioms)既可以是一元的(声明个体属于哪个类)，也可以是二元的(声明两个个体之间满足什么属性关系)。这些断言公理的集合被称为Assertional Box(A-Box)。DLs还引入逻辑符号来声明类公理(组成了Terminology Box(T-Box))和属性公理(组成了Role Box(R-Box))。筑这些逻辑符号除了用于声明类之间和属性之间的关系外，还能通过存在术语定义新的类。<br>DLs的特征和OWL的特征很像，OWL2 DL就是OWL的受限部分以保证可判定性。同样，为了保证判定性，OWL中的counting和chain特征一般都不会被DLs所使用。<br>表达性的 DL 支持复杂的蕴涵，包括存在性、普遍性、计数等。确定这些蕴涵的常用策略是将蕴涵减少至其为可满足问题，其决定了一个本体是否是一致的。一些诸如tableau的方法可以帮助检查可满足性，通过使用类似之前提到的Materialisation策略的方式构建模型，但需要额外地进行一些操作：在涉及析取时需要将模型分支；在涉及到存在时需要引入新元素等。如果模型构建完成，该过程会总结出原始的定义是否可以满足。尽管这种策略适用于复杂领域建模，但由于计算复杂度过高，其通常不会用于大规模数据。</p><h4 id="形式化定义-14"><a class="markdownIt-Anchor" href="#形式化定义-14"></a> 形式化定义</h4><p>DL knowledge base被定义为一个三元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>T</mi><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K \coloneqq (A, T, R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07153em">K</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span></span></span></span>表示A-Box，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.13889em">T</span></span></span></span>表示T-Box，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>表示R-Box。<br>DL的语义通过“解释”来说明，这里的解释与之前提到过的有些许不同<br>DL的解释被定义成一个二元组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo><mi mathvariant="normal">≔</mi></mo><mo stretchy="false">(</mo><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup><mo separator="true">,</mo><msup><mo>⋅</mo><mi>I</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I \coloneqq (\Delta^I, \cdot^I)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\Delta^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>是一些个体的集合，而<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\cdot^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>是一个映射，若用分别用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>C</mi><mo separator="true">,</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">a, C, R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>表示个体、类和属性，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\cdot^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>需要满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mi>I</mi></msup><mo>∈</mo><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup><mo separator="true">,</mo><msup><mi>C</mi><mi>I</mi></msup><mo>⊆</mo><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup><mo separator="true">,</mo><msup><mi>R</mi><mi>I</mi></msup><mo>⊆</mo><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">a^I \in \Delta^I, C^I \subseteq \Delta^I, R^I \subseteq \Delta^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.880431em;vertical-align:-.0391em"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.035771em;vertical-align:-.19444em"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.035771em;vertical-align:-.19444em"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span><br>DL的语义如下表(#A表示集合A的基数)：<br><strong>Class Definitions</strong></p><table><thead><tr><th style="text-align:left"><strong>Name</strong></th><th style="text-align:left"><strong>Syntax</strong></th><th style="text-align:left"><strong>Semantics</strong>(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\cdot^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>)</th></tr></thead><tbody><tr><td style="text-align:left">Atomic Class</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault">A</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mi>I</mi></msup><mo stretchy="false">(</mo><mo>⊆</mo><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^I(\subseteq \Delta^I)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td></tr><tr><td style="text-align:left">Top Class</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">⊤</mi></mrow><annotation encoding="application/x-tex">\top</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">⊤</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\Delta^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Bottom Class</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">⊥</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">⊥</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\varnothing</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66334em;vertical-align:-.08167em"></span><span class="mord amsrm">∅</span></span></span></span></td></tr><tr><td style="text-align:left">Class Negation</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">¬</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">\lnot C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:.07153em">C</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup><mo>∖</mo><msup><mi>C</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\Delta^I \setminus C^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∖</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Class Intersection</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>⊓</mo><mi>D</mi></mrow><annotation encoding="application/x-tex">C \sqcap D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊓</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">D</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>C</mi><mi>I</mi></msup><mo>∩</mo><msup><mi>D</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">C^I \cap D^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Class Union</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>⊔</mo><mi>D</mi></mrow><annotation encoding="application/x-tex">C \sqcup D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊔</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">D</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>C</mi><mi>I</mi></msup><mo>∪</mo><msup><mi>D</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">C^I \cup D^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Nominal</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{a_1, ..., a_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msubsup><mi>a</mi><mn>1</mn><mi>I</mi></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msubsup><mi>a</mi><mi>n</mi><mi>I</mi></msubsup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{a_1^I, ..., a_n^I\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-2.4518920000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.24810799999999997em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-2.4530000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.247em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></td></tr><tr><td style="text-align:left">Existential Restriction</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∃</mi><mi>R</mi><mi mathvariant="normal">.</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">\exists R.C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:.07153em">C</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∃</mi><mi>y</mi><mo>:</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>R</mi><mi>I</mi></msup><mo>∧</mo><mi>y</mi><mo>∈</mo><msup><mi>C</mi><mi>I</mi></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x \vert \exists y:(x, y)\in R^I \land y \in C^I\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mord">∣</span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.7335400000000001em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></td></tr><tr><td style="text-align:left">Universal Restriction</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>R</mi><mi mathvariant="normal">.</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">\forall R.C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:.07153em">C</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∀</mi><mi>y</mi><mo>:</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>R</mi><mi>I</mi></msup><mo>⇒</mo><mi>y</mi><mo>∈</mo><msup><mi>C</mi><mi>I</mi></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x \vert \forall y:(x, y) \in R^I \Rightarrow y \in C^I\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mord">∣</span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.7335400000000001em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></td></tr><tr><td style="text-align:left">Self Restriction</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∃</mi><mi>R</mi><mi mathvariant="normal">.</mi><mi>S</mi><mi>e</mi><mi>l</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">\exists R.Self</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault" style="margin-right:.10764em">f</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>R</mi><mi>I</mi></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x \vert (x, x) \in R^I\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mord">∣</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></td></tr><tr><td style="text-align:left">Number Restriction</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋆</mo><mtext> </mtext><mi>n</mi><mtext> </mtext><mi>R</mi><mo stretchy="false">(</mo><mo>⋆</mo><mo>∈</mo><mo stretchy="false">{</mo><mo>≥</mo><mo separator="true">,</mo><mo>≤</mo><mo separator="true">,</mo><mo>=</mo><mo stretchy="false">}</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\star \,n \,R(\star \in \{\geq, \leq, =\})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">⋆</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord">⋆</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mrel">≥</span></span><span class="base"><span class="strut" style="height:.8304100000000001em;vertical-align:-.19444em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span></span><span class="base"><span class="strut" style="height:.56131em;vertical-align:-.19444em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mclose">}</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">#</mi><mo stretchy="false">{</mo><mi>y</mi><mo>:</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>R</mi><mi>I</mi></msup><mo stretchy="false">}</mo><mo>⋆</mo><mi>n</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x \vert \#\{y:(x, y) \in R^I\}\star n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mord">∣</span><span class="mord">#</span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">}</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋆</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">n</span><span class="mclose">}</span></span></span></span></td></tr><tr><td style="text-align:left">Qualified Number Restriction</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋆</mo><mtext> </mtext><mi>n</mi><mtext> </mtext><mi>R</mi><mi mathvariant="normal">.</mi><mi>C</mi><mo stretchy="false">(</mo><mo>⋆</mo><mo>∈</mo><mo stretchy="false">{</mo><mo>≥</mo><mo separator="true">,</mo><mo>≤</mo><mo separator="true">,</mo><mo>=</mo><mo stretchy="false">}</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\star \,n \,R.C(\star \in \{\geq, \leq, =\})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">⋆</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="mopen">(</span><span class="mord">⋆</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mrel">≥</span></span><span class="base"><span class="strut" style="height:.8304100000000001em;vertical-align:-.19444em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span></span><span class="base"><span class="strut" style="height:.56131em;vertical-align:-.19444em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mclose">}</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">#</mi><mo stretchy="false">{</mo><mi>y</mi><mo>:</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>R</mi><mi>I</mi></msup><mo>∧</mo><msup><mi>R</mi><mi>I</mi></msup><mo stretchy="false">}</mo><mo>⋆</mo><mi>n</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x \vert \#\{y:(x, y) \in R^I \land R^I\}\star n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mord">∣</span><span class="mord">#</span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">}</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋆</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">n</span><span class="mclose">}</span></span></span></span></td></tr></tbody></table><p><strong>Class Axioms(T-Box)</strong></p><table><thead><tr><th style="text-align:left"><strong>Name</strong></th><th style="text-align:left"><strong>Syntax</strong></th><th style="text-align:left"><strong>Semantics</strong>(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\cdot^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>)</th></tr></thead><tbody><tr><td style="text-align:left">Class Inclusion</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>⊑</mo><mi>D</mi></mrow><annotation encoding="application/x-tex">C \sqsubseteq D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊑</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">D</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>C</mi><mi>I</mi></msup><mo>⊆</mo><msup><mi>D</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">C^I \subseteq D^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.977301em;vertical-align:-.13597em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><p><strong>Relation Definitions</strong></p><table><thead><tr><th style="text-align:left"><strong>Name</strong></th><th style="text-align:left"><strong>Syntax</strong></th><th style="text-align:left"><strong>Semantics</strong>(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\cdot^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>)</th></tr></thead><tbody><tr><td style="text-align:left">Relation</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>R</mi><mi>I</mi></msup><mo stretchy="false">(</mo><mo>⊆</mo><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup><mo>×</mo><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R^I(\subseteq \Delta^I \times \Delta^I)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.924661em;vertical-align:-.08333em"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td></tr><tr><td style="text-align:left">Inverse Relation</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>R</mi><mo>−</mo></msup></mrow><annotation encoding="application/x-tex">R^-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.771331em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>R</mi><mi>I</mi></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{(y, x)\vert (x, y) \in R^I\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mord">∣</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></td></tr><tr><td style="text-align:left">Universal Relation</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.10903em">U</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup><mo>×</mo><msup><mi mathvariant="normal">Δ</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\Delta^I \times \Delta^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.924661em;vertical-align:-.08333em"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><p><strong>Relation Axioms(R-Box)</strong></p><table><thead><tr><th style="text-align:left"><strong>Name</strong></th><th style="text-align:left"><strong>Syntax</strong></th><th style="text-align:left"><strong>Semantics</strong>(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\cdot^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>)</th></tr></thead><tbody><tr><td style="text-align:left">Relation Inclusion</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>⊑</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">R \sqsubseteq S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊑</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>R</mi><mi>I</mi></msup><mo>⊆</mo><msup><mi>S</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">R^I \subseteq S^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.977301em;vertical-align:-.13597em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Complex Relation Inclusion</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mn>1</mn></msub><mo>∘</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>∘</mo><msub><mi>R</mi><mi>n</mi></msub><mo>⊑</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">R_1 \circ ... \circ R_n \sqsubseteq S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.44445em;vertical-align:0"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊑</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>R</mi><mn>1</mn><mi>I</mi></msubsup><mo>∘</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>∘</mo><msubsup><mi>R</mi><mi>n</mi><mi>I</mi></msubsup><mo>⊑</mo><msup><mi>S</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">R_1^I \circ ... \circ R_n^I \sqsubseteq S^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0894389999999998em;vertical-align:-.24810799999999997em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-2.4518920000000004em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.24810799999999997em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.44445em;vertical-align:0"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.088331em;vertical-align:-.247em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-2.4530000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.247em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊑</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Transitive Relations</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Trans(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>R</mi><mi>I</mi></msup><mo>∘</mo><msup><mi>R</mi><mi>I</mi></msup><mo>⊆</mo><msup><mi>R</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">R^I \circ R^I \subseteq R^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.977301em;vertical-align:-.13597em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Functional Relations</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mi>u</mi><mi>n</mi><mi>c</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Func(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.13889em">F</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo><mo>⊆</mo><mi>R</mi><mo>⇒</mo><mi>y</mi><mo>=</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">\{(x, y), (x, z)\} \subseteq R \Rightarrow y = z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="mclose">)</span><span class="mclose">}</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.04398em">z</span></span></span></span></td></tr><tr><td style="text-align:left">Reflexive Relations</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>e</mi><mi>f</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ref(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mo>:</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>R</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\forall x:(x, x) \in R^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">∀</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Irreflexive Relations</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>f</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Irref(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mo>:</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∉</mi><msup><mi>R</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\forall x:(x, x) \notin R^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">∀</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.75em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:.05555555555555555em"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.25em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Symmetric Relations</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>y</mi><mi>m</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Sym(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>R</mi><mi>I</mi></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mi>R</mi><mo>−</mo></msup><msup><mo stretchy="false">)</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">R^I = (R^-)^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Asymmetric Relations</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>s</mi><mi>y</mi><mi>m</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Asym(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>R</mi><mi>I</mi></msup><mo>∩</mo><mo stretchy="false">(</mo><msup><mi>R</mi><mo>−</mo></msup><msup><mo stretchy="false">)</mo><mi>I</mi></msup><mo>=</mo><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">R^I \cap (R^-)^I = \varnothing</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.66334em;vertical-align:-.08167em"></span><span class="mord amsrm">∅</span></span></span></span></td></tr><tr><td style="text-align:left">Disjoint Relations</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>i</mi><mi>s</mi><mi>j</mi><mo stretchy="false">(</mo><mi>R</mi><mo separator="true">,</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Disj(R, S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:.05724em">j</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>R</mi><mi>I</mi></msup><mo>∩</mo><msup><mi>S</mi><mi>I</mi></msup><mo>=</mo><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">R^I \cap S^I = \varnothing</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.66334em;vertical-align:-.08167em"></span><span class="mord amsrm">∅</span></span></span></span></td></tr></tbody></table><p><strong>Assertional Definitions</strong></p><table><thead><tr><th style="text-align:left"><strong>Name</strong></th><th style="text-align:left"><strong>Syntax</strong></th><th style="text-align:left"><strong>Semantics</strong>(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\cdot^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>)</th></tr></thead><tbody><tr><td style="text-align:left">Individual</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">a^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><p><strong>Assertional Axioms(A-Box)</strong></p><table><thead><tr><th style="text-align:left"><strong>Name</strong></th><th style="text-align:left"><strong>Syntax</strong></th><th style="text-align:left"><strong>Semantics</strong>(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mo>⋅</mo><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">\cdot^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mbin">⋅</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span>)</th></tr></thead><tbody><tr><td style="text-align:left">Relation Assertion</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(a, b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msup><mi>a</mi><mi>I</mi></msup><mo separator="true">,</mo><msup><mi>b</mi><mi>I</mi></msup><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>R</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">(a^I, b^I) \in R^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Negative Relation Assertion</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">¬</mi><mi>R</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lnot R(a, b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msup><mi>a</mi><mi>I</mi></msup><mo separator="true">,</mo><msup><mi>b</mi><mi>I</mi></msup><mo stretchy="false">)</mo><mi mathvariant="normal">∉</mi><msup><mi>R</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">(a^I, b^I) \notin R^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.75em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:.05555555555555555em"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.25em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Class Assertion</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mi>I</mi></msup><mo>∈</mo><msup><mi>C</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">a^I \in C^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.880431em;vertical-align:-.0391em"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Equality</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>=</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a = b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">b</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mi>I</mi></msup><mo>=</mo><msup><mi>b</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">a^I = b^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td style="text-align:left">Inequality</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi mathvariant="normal">≠</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">a \neq b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69444em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="rlap"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.19444em"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">b</span></span></span></span></td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mi>I</mi></msup><mi mathvariant="normal">≠</mi><msup><mi>b</mi><mi>I</mi></msup></mrow><annotation encoding="application/x-tex">a^I \neq b^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.035771em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.69444em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="rlap"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.19444em"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8413309999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8413309999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.07847em">I</span></span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><p>当且仅当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07153em">K</span></span></span></span>中所有句法公理在上表中对应的语义在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>下都成立时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07153em">K</span></span></span></span>，我们称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07153em">K</span></span></span></span>的一个模型。<br>文中给出的例子如下：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/DL%E4%BE%8B%E5%AD%90.jpg" alt="DL例子" title="DL例子"></p><p>类似的，我们可以定义DL knowledge base之间的蕴含关系：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">K_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>蕴含<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">K_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>当且仅当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">K_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>的所有模型也是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">K_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>的模型，记为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub><mo>⊨</mo><msub><mi>K</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">K_1 \models K_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.999em;vertical-align:-.249em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊨</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>。同样，判断蕴含仍是不可判定问题，我们需要减少停机问题的实例。因此，我们只采用上表中的部分特征来在表达能力和计算复杂性之间取舍。大部分DLs都基于如下的基本DL：<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">A</mi><mi mathvariant="script">L</mi><mi mathvariant="script">C</mi></mrow><annotation encoding="application/x-tex">\mathcal{ALC}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal">A</span><span class="mord mathcal">L</span><span class="mord mathcal" style="margin-right:.05834em">C</span></span></span></span></span> (Attributive Language with Complement), 支持 atomic classes, top class, bottom classes, class intersection, class union, class negation, universal restrictions, existential restrictions, relation 和 class assertions<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal{S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.075em">S</span></span></span></span></span>在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">A</mi><mi mathvariant="script">L</mi><mi mathvariant="script">C</mi></mrow><annotation encoding="application/x-tex">\mathcal{ALC}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal">A</span><span class="mord mathcal">L</span><span class="mord mathcal" style="margin-right:.05834em">C</span></span></span></span></span>的基础上扩展了transitive closure<br>基础的DL可以添加如下扩展：<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">H</mi></mrow><annotation encoding="application/x-tex">\mathcal{H}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.00965em">H</span></span></span></span></span>添加了：relation inclusion.<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">R</mi></mrow><annotation encoding="application/x-tex">\mathcal{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal">R</span></span></span></span></span>添加了：有限的complex relation inclusion, relation reflexivity, relation irreflexivity, relation disjointness 和 universal relation.<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">O</mi></mrow><annotation encoding="application/x-tex">\mathcal{O}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.02778em">O</span></span></span></span></span>添加了：有限的nomimals.<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">I</mi></mrow><annotation encoding="application/x-tex">\mathcal{I}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.07382em">I</span></span></span></span></span>添加了：inverse relations.<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">F</mi></mrow><annotation encoding="application/x-tex">\mathcal{F}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.09931em">F</span></span></span></span></span>添加了：有限的functional properties.<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">N</mi></mrow><annotation encoding="application/x-tex">\mathcal{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.14736em">N</span></span></span></span></span>添加了：有限的number restrictions<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">Q</mi></mrow><annotation encoding="application/x-tex">\mathcal{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78055em;vertical-align:-.09722em"></span><span class="mord"><span class="mord mathcal">Q</span></span></span></span></span>添加了：有限的qualified number restrictions 给定<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">⊤</mi></mrow><annotation encoding="application/x-tex">\top</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">⊤</span></span></span></span>后归入<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">N</mi></mrow><annotation encoding="application/x-tex">\mathcal{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.14736em">N</span></span></span></span></span>.<br>为了表达具体有哪些限制，类比正则表达式，使用<code>[a|b]</code>表示或；<code>[a][b]</code>表示连接。例如<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi mathvariant="script">A</mi><mi mathvariant="script">L</mi><mi mathvariant="script">C</mi><mi mathvariant="normal">∣</mi><mi mathvariant="script">S</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">∣</mi><mi mathvariant="script">R</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi mathvariant="script">O</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi mathvariant="script">I</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi mathvariant="script">F</mi><mi mathvariant="normal">∣</mi><mi mathvariant="script">N</mi><mi mathvariant="normal">∣</mi><mi mathvariant="script">Q</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathcal{[ALC|S][H |R][O][I][F|N|Q]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mopen">[</span><span class="mord mathcal">A</span><span class="mord mathcal">L</span><span class="mord mathcal" style="margin-right:.05834em">C</span><span class="mord">∣</span><span class="mord mathcal" style="margin-right:.075em">S</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathcal" style="margin-right:.00965em">H</span><span class="mord">∣</span><span class="mord mathcal">R</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathcal" style="margin-right:.02778em">O</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathcal" style="margin-right:.07382em">I</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathcal" style="margin-right:.09931em">F</span><span class="mord">∣</span><span class="mord mathcal" style="margin-right:.14736em">N</span><span class="mord">∣</span><span class="mord mathcal">Q</span><span class="mclose">]</span></span></span></span></span>就包括了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">A</mi><mi mathvariant="script">L</mi><mi mathvariant="script">C</mi><mi mathvariant="script">O</mi><mo separator="true">,</mo><mi mathvariant="script">A</mi><mi mathvariant="script">L</mi><mi mathvariant="script">C</mi><mi mathvariant="script">H</mi><mi mathvariant="script">I</mi><mo separator="true">,</mo><mi mathvariant="script">S</mi><mi mathvariant="script">H</mi><mi mathvariant="script">I</mi><mi mathvariant="script">F</mi><mo separator="true">,</mo><mi mathvariant="script">S</mi><mi mathvariant="script">R</mi><mi mathvariant="script">O</mi><mi mathvariant="script">I</mi><mi mathvariant="script">Q</mi></mrow><annotation encoding="application/x-tex">\mathcal{ALCO, ALCHI,SHIF, SROIQ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathcal">A</span><span class="mord mathcal">L</span><span class="mord mathcal" style="margin-right:.05834em">C</span><span class="mord mathcal" style="margin-right:.02778em">O</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathcal">A</span><span class="mord mathcal">L</span><span class="mord mathcal" style="margin-right:.05834em">C</span><span class="mord mathcal" style="margin-right:.00965em">H</span><span class="mord mathcal" style="margin-right:.07382em">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathcal" style="margin-right:.075em">S</span><span class="mord mathcal" style="margin-right:.00965em">H</span><span class="mord mathcal" style="margin-right:.07382em">I</span><span class="mord mathcal" style="margin-right:.09931em">F</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathcal" style="margin-right:.075em">S</span><span class="mord mathcal">R</span><span class="mord mathcal" style="margin-right:.02778em">O</span><span class="mord mathcal" style="margin-right:.07382em">I</span><span class="mord mathcal">Q</span></span></span></span></span>等。OWL2 DL与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">S</mi><mi mathvariant="script">P</mi><mi mathvariant="script">O</mi><mi mathvariant="script">I</mi><mi mathvariant="script">Q</mi></mrow><annotation encoding="application/x-tex">\mathcal{SPOIQ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78055em;vertical-align:-.09722em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.075em">S</span><span class="mord mathcal" style="margin-right:.08222em">P</span><span class="mord mathcal" style="margin-right:.02778em">O</span><span class="mord mathcal" style="margin-right:.07382em">I</span><span class="mord mathcal">Q</span></span></span></span></span>大致相同。但由于DL不能处理chains和countings，DL所能处理的图只能是OWL的子集。</p><h1 id="inductive-knowledge"><a class="markdownIt-Anchor" href="#inductive-knowledge"></a> Inductive Knowledge</h1><p>归纳知识是从给定的一组输入中观察概括模式，然后用于生成新的但可能不精确的结果。例如我们可以从关于航班和地理信息的图中观察到所有的国家的首都都有国际航班，因此我们可以归纳出一个结论“所有国家的首都都有国际航班”，这个结论并不一定对，比如列支敦士登的首都瓦杜兹市就没有。因此归纳的知识需要衡量置信水平。归纳知识既包含用于编码模式的模型，也包括这些模型所做的预测。经管这玩意经常出错，但其仍有高的价值。<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%9F%A5%E8%AF%86%E5%BD%92%E7%BA%B3%E6%8A%80%E6%9C%AF%E6%A6%82%E8%BF%B0.jpg" alt="知识归纳技术概述" title="知识归纳技术概述"><br>上图给出了本篇涉及到的技术。在无监督模型中，图分析(Graph Analytics)占了相关工作很大的比重，其可以使用常见算法实现社区和聚类的捕捉以及中心点/边的查找。embeddingn则使用自监督学习学到了一个低纬数字模型。这个模型描述了边到置信得分的一个映射。图的结构也可以直接用于监督学习，如GNN。除此之外，还可以利用自监督学习习得符号模型(以规则或公理存在的逻辑表达式)。</p><h2 id="graph-analytics图分析"><a class="markdownIt-Anchor" href="#graph-analytics图分析"></a> Graph Analytics(图分析)</h2><p>分析是发现、解释和交流数据集中固有的有意义模式的过程。图分析是将分析过程应用于图模型的数据。图的性质使其自然适用于某些分析方法，这些方法基于图的拓扑得到关于节点和边的结论，例如图的节点时怎样连接的。因此，图分析从图论和网络分析等相关领域汲取了很多技术，并且用于社交网络、Web、互联网路由、交通网络、生态系统、蛋白质相互作用、语言共现等方向中。<br>用本文中常用的旅行举例，可以从图中提取如下知识：服务大多数旅客的交通枢纽(查找关键节点)；同一游客的景点分组(社区分析)；在罢工或者路线故障下无法到达的地方(连通性)；以及相似的景点(节点相似性)。鉴于这类分析往往需要一个复杂的大型图，文中给出了一个更简洁的例子，即下图。此图说明了智利一些热门旅游目的地的交通连接。<br><span id="归纳例图"><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%9B%BE%E5%88%86%E6%9E%90%E4%BE%8B%E5%9B%BE.jpg" alt="图分析例图" title="图分析例图"></span></p><p>本部分首先讨论图分析所需的关键技术，然后是在实践中用于计算此类分析的框架和语言。鉴于许多传统的图算法都是针对无标记图的，我们需要将其扩展成能在DelG上使用的算法。最后文中讨论了图分析与查询推理之间的潜在联系。</p><h3 id="techniques"><a class="markdownIt-Anchor" href="#techniques"></a> Techniques</h3><ul><li>中心性：图中最重要的点或边称为中心。具体的节点中心度量技术包括：度中心性、中介中心性、接近中心性、特征向量中心性、PageRank、HITS算法、Katz算法等。中介中心性也可用于边。节点中心性可用于寻找交通枢纽；边中心性可用于找到最短路依赖的边来预测交通。</li><li>社区检测：用于查找图中的社区(与图中其他部分相比，内部连接更紧密的子图).社区检测算法包括：最小割算法、变迁传播、Louvain社区发现算法等。社区检测可以用于查找<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>中左侧(智利北部)、右侧(智利南部)以及中心(有机场的城市)的社区。</li><li>连接性：旨在估计图的连接程度，例如图中元素的弹性和(不)可达性。具体技术包括：图密度测量或k-连通性；强连通分量和弱连通分量检测、计算生成数或最小割等。在<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>中，这样的分析可以告诉我们去往哪些目的地的线路是脆弱的，即某条线路出问题就会导致不可达。</li><li>节点相似性：旨在通邻域内的连接方式查找相似节点。节点相似度矩阵可以通过结构等价、随机游走、扩散核等来计算。这些方法帮助理解节点，并给出他们在哪些地方相似。</li></ul><p>上述技术只接受一个图作为输入(节点相似性除外，他也可以接受其他形式的输入)，其他的技术可以进一步接受一个或一对节点与图一起作为输入的情况。</p><ul><li>路径查找：用于查找路径，特别是给定的两点间的路径。实际应用中存在各种限制，包括不经过同一节点两次的简单路径；经过最少边的最短路；限制经过的边的标签的常规路径等。</li></ul><p>大多数此类技术都适用于没有标签的简单图或者有向图。后面会讨论其在更复杂图上的应用，以及其如何与推理和查询等技术相结合。</p><h3 id="frameworks"><a class="markdownIt-Anchor" href="#frameworks"></a> Frameworks</h3><p>现在已经有很多针对大型图的框架，通常是在分布式的环境中。例如<code>Apache Spark</code>(<code>GraphX</code>)、<code>GraphLab</code>、<code>Pregel</code>、<code>Singal-Collect</code>和<code>Shark</code>等。这些并行图框架基于有向图的收缩抽象(个人觉得这个收缩意思是跟心脏跳动一样，第一阶段是血液流入心脏，第二阶段是流出)，其中节点直接可以通过边传递消息。这些框架的计算采用迭代算法，在每轮迭代中，每个节点首先通过入边接受消息，再综合现有状态进行计算，并在迭代结束的时候通过出边将计算结果以消息的形式传递出去。然后这些框架在正在运行的数据图的上层定义收缩计算抽象：数据图的点和边到收缩图的点和边的映射。<br>假设我们要计算通过<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>中的路线最容易(或最不容易)到的地方。这里最适合采用中心性，因此我们选择PageRank算法，它计算游客在给定步数后随机跟随<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>中的路线到达特定地点的概率。利用分布式框架可以在大型图上实现PageRank算法。<br><span id="PageRank"><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/PageRank%E7%A4%BA%E4%BE%8B.jpg" alt="PageRank示例" title="PageRank示例"></span></p><p>上图给出了在<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>的子图上使用PageRank算法的一次迭代。每个节点的分数被初始化为了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><mi>V</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mn>6</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{|V|} = \frac{1}{6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-.52em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.845108em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathdefault mtight" style="margin-right:.22222em">V</span><span class="mord mtight">∣</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.52em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.845108em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，并且假设游客从每个点出发的概率相等。在message阶段(MSG)，每个节点v通过出边向外发送分数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>d</mi><msub><mi>R</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∣</mi><mi>E</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{dR_i(v)}{|E(v)|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-.52em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathdefault mtight" style="margin-right:.05764em">E</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mclose mtight">)</span><span class="mord mtight">∣</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.485em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3280857142857143em"><span style="top:-2.357em;margin-left:-.00773em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:.03588em">v</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.52em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">d</span></span></span></span>是一个用于保证收敛的常量(一般情况下<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>=</mo><mn>0.85</mn></mrow><annotation encoding="application/x-tex">d = 0.85</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">8</span><span class="mord">5</span></span></span></span>，用于表示游客移动到另一个地方的概率)；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_i(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span></span></span></span>表示在第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span></span></span></span>次迭代时点<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span></span></span></span>的分数(表示游客在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span></span></span></span>论跳转后位于点<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span></span></span></span>的概率)；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mi>E</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|E(v)|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span>表示出边的数量(个人猜测用于归一化)。在Aggregation阶段(AGG)每个节点<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">v</span></span></span></span>将所有入边发来的消息求和，再加上<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mn>1</mn><mo>−</mo><mi>d</mi></mrow><mrow><mi mathvariant="normal">∣</mi><mi>V</mi><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{1-d}{|V|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.400108em;vertical-align:-.52em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8801079999999999em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathdefault mtight" style="margin-right:.22222em">V</span><span class="mord mtight">∣</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.52em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_{i+1}(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.311664em"><span style="top:-2.5500000000000003em;margin-left:-.00773em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.03588em">v</span><span class="mclose">)</span></span></span></span>。之后不断迭代上述过程直到达到终止条件。<br>虽然上述的例子是针对PageRank的，但收缩抽象可以用于各种图分析，包括之前提到的那些。这个框架中的算法由在MSG计算消息值的函数和在AGG积累消息值的函数组成。这些框架需要解决分发、消息传递、容错等问题。然而，这些基于邻居间消息传递的框架有着局限：不是所有类型的分析都可以在这种框架下表达(Formally Xu等人已经证明这样的框架与不完整的Weisfeiler-LEhman图同构测试一样强大)。因此框架可以允许附加功能，例如增加在所有节点上执行全局计算的全局步骤，使结果可以为每个节点所使用；或者增加允许在计算过程中增删节点和边的突变步骤。</p><h3 id="analytics-on-data-graph"><a class="markdownIt-Anchor" href="#analytics-on-data-graph"></a> Analytics on data graph</h3><p>正如前文所述，大部分前文给出的分析方法都只适用于边上没有元数据(标签和属性)的图。下面有一些策略可以使这些算法应用到这类图上：</p><ul><li>将经过选择的一部分数据图的子图投影到一个无标签的简单有向图上，投影前的数据图已经将边上的元数据删除。例如，<a href="#PageRank">介绍PageRank时所用的图</a>就很可能是从更大的图中由边标签<code>bus</code>和<code>flight</code>诱导出的子图，然后再删除这些标签。</li><li>可以将边上的元数据通过某种函数转变成数值数据，并以权重的形式保存在边上。上述的算法都很容易扩展到带权图中。举个例子，仍是使用<a href="#PageRank">介绍PageRank时用的图</a>为例，我们可以将原标签的<code>bus</code>和<code>flight</code>转换成耗时(或价格)这样的数据，然后据此计算最短路。在没有外部信息可以辅助时，我们可以将所有<code>bus</code>都映射为一种权重，而将<code>flight</code>映射为另一种权重。</li><li>亦或者将图转化为低元模型(前文有介绍，图可以视为三元模型)。转化可能是有受损的(无法还原)或者无损的(可以还原)。下图给出了从DelG到有向图的有损和无损转化的例子。<img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%9C%89%E6%8D%9F%E5%92%8C%E6%97%A0%E6%8D%9F%E8%BD%AC%E5%8C%96.jpg" alt="有损和无损转化" title="有损和无损转化"><br>在有损转化中，我们并不知道原图是否有<code>[lquique]--flight-&gt;[Arica]</code>；无损转化则必须引入新节点来维护原图的信息。这两种转化方式都保留了原图的方向性。</li><li>定制则涉及修改分析过程以合并边上的元数据，例如基于路径表达式的路径查找。其他例子可能包括节点相似性的结构度量：在考虑公共邻居的基础上，还需要考虑由具有相同标签的边所连接的公共邻居，或聚合中心度量，以捕获按标签分组的边的重要性。</li></ul><p>采用不同的策略分析数据会导致分析的结果有着巨大的差异。这种选择可能是一个不平凡的先验选择，并且可能需要经验验证。需要更多的研究来了解这些策略对不同分析技术的普遍影响。</p><h3 id="analytics-with-queries"><a class="markdownIt-Anchor" href="#analytics-with-queries"></a> Analytics with queries</h3><p>正如前文所述，现有很多用于图的查询语言，人们会考虑查询语言和分析相互补充的多种方式。首先，我们可以使用查询语言来投影或者转化适合特定任务的图，例如从更大的图中提取出<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>。<code>SPARQL</code>、<code>Cypher</code>和<code>G-CORE</code>支持将查询结果导出为图，因此这些语言可以用于为具体分析提取子图。这些语言还可以用于表达一些有限的(非递归)分析，其aggregations可以用于就算度中心性。这些语言也可能内置一些分析，例如<code>Cypher</code>允许查询最短路。另一方面，分析可以在优化方面为查询过程做贡献。例如，连接性分析可以帮助将大型图分布在多台机器上进行查询(最小割)。分析还被用于在大型图上对查询结果排序，然后选择最重要的结果呈现给用户。<br>在某些应用场景中，我们还希望交替使用二者。例如，从旅游局发布的完整数据图中，考虑到将要发生罢工，航空公司的董事会希望找到罢工期间从圣地亚哥出发无法乘坐公共交通工具无法参加的活动。首先我们可以查询除了本公司航班外的运输网络，然后通过分析技术找到和圣地亚哥强连接的地方，再通过查询找到对应日期的活动。虽然可以使用诸如<code>Gremlin</code>、<code>GraphX</code>或<code>R</code>的命令式语言解决这个问题，但有更多的声明性语言正在探索如何更简洁表达这种任务，例如扩展具有递归查找能力的查询语言，将线性代数和关系代数结合等等。</p><h3 id="analytics-with-entailment"><a class="markdownIt-Anchor" href="#analytics-with-entailment"></a> Analytics with entailment</h3><p>知识图谱往往与语义网络或者定义了专业术语语义的本体相联系，二者带来了蕴含。在有蕴含和没蕴含的情况下分析可能会带来截然不同的结果。例如，<code>[Santa Lucia]--host-&gt;[EID15]</code>和<code>[EID15]--venue-&gt;[Santa Lucia]</code>在语义上是等价的，因为<code>[hosts]--inv.of-&gt;[venue]</code>。然而，在和边的方向有关的分析中，二者并不等价。只包括其中一种或者二种都有的情况分析结果会有差异。据论文作者所知，带蕴含的分析这个领域还待开发，有着很多有趣的问题。在这种思路下，研究在语义等价图上产生相同结果的不变语义分析，从而使得分析知识图谱的语义而非拓扑结构可能是很有意义的。例如，不变语义分析在遇到上例时，不管遇到那种情况都会产生相同的结果。</p><h2 id="knowledge-graph-embeddings"><a class="markdownIt-Anchor" href="#knowledge-graph-embeddings"></a> Knowledge Graph Embeddings</h2><p>近几年机器学习算法取得了重大成就。在知识图谱中，机器学习算法既可以直接用于提炼知识图谱，又可以作为下游任务，例如推荐、信息提取、问答、松弛查询、模糊查询等。然而，传统的机器学习算法要求输入是向量或者矩阵，因此需要将数据图——或者说点和边嵌入到向量当中。<br>最开始的尝试是独热向量，一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mi>L</mi><mi mathvariant="normal">∣</mi><mo>⋅</mo><mi mathvariant="normal">∣</mi><mi>V</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|L|\cdot|V|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∣</span><span class="mord mathdefault">L</span><span class="mord">∣</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mord">∣</span></span></span></span>维的向量，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mi>L</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|L|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∣</span><span class="mord mathdefault">L</span><span class="mord">∣</span></span></span></span>表示边标签的数量，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mi>V</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|V|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:.22222em">V</span><span class="mord">∣</span></span></span></span>表示节点数量。若某个节点或标签的编号为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span></span></span></span>，则在其对应的独热向量中，只有第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span></span></span></span>维的值是1，其余都是0。独热向量往往会打来极大的稀疏矩阵，这对大部分的机器学习算法都是无益的。<br>知识图谱嵌入技术的主要目的是将数据图用连续低维空间中的稠密数据进行表示，以供机器学习算法使用。一般维度适合的取值范围为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>50</mn><mo>≤</mo><mi>d</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">50 \leq d \leq 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78041em;vertical-align:-.13597em"></span><span class="mord">5</span><span class="mord">0</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83041em;vertical-align:-.13597em"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。一般知识图谱嵌入分为两部分：实体嵌入，用一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">d</span></span></span></span>维向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">e</span></span></span></span>表示一个节点；关系嵌入，用一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">d</span></span></span></span>维向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span></span></span></span>表示一个边标签。这些向量的设计目标是抽象表示图并且保留图中的潜在结构。有很多方法可以实现知识图谱嵌入。通常来说，给定一条边<code>[s]--p-&gt;[o]</code>，一种特定的嵌入方法定义了一个评价函数，它接受<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo separator="true">,</mo><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_s, r_p, e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>(分别表示<code>s</code>, <code>p</code>, <code>o</code>的嵌入结果)作为输入，并计算边的合理性——即边是正确的可能性。给定一个数据图，其优化目标是求得最大化评价函数之和所对应的嵌入，即最大化正边(一般是图中出现的边)而最小化负边(一般是修改图中边和点或边标签的边，其不在图中)。可以将生成的嵌入视为通过自监督学习得到的模型，该模型对图中的(潜在)特征进行编码，将边映射到似然得分。<br>嵌入结果可以用于许多低级任务，这些任务涉及到计算图的节点和边标签。第一，我们可以使用评价函数为边设置置信度。第二，为了进行连接预测，评价函数可以用于补全缺失的点和标签，例如，我们想在<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>中找到哪个节点最适合补全<code>[Grey Glacier]--bus-&gt;[?]</code>。第三，嵌入模型通常会将相似的向量分配给相似的节点和边标签，因此其可以用于相似度的度量，这对于查重和推荐有用。<br>同样，现在已经有大量的知识图谱嵌入技术。首先，论文讨论了采用几何视角的变换模型，其中边标签将边的起点变换为了终点。然后，论文讨论了张量模型，其提取了近似于图的结构的潜在特征。然后，文中讨论了神经网络模型，其使用神经网络最大化似然得分。最后，文章讨论了基于现有词嵌入模型的语言模型，其可以从输入文本中得到类似结构的图。</p><h4 id="形式化定义-15"><a class="markdownIt-Anchor" href="#形式化定义-15"></a> 形式化定义</h4><p>妈耶，关于嵌入的定义怎么这么老多，全是些数学运算定义，甚至还有向量和矩阵的定义，不写了不写了。就把各种模型的优化目标和限制条件放在下面得了。<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%B5%8C%E5%85%A5%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BC%98%E5%8C%96%E7%9B%AE%E6%A0%87%E5%92%8C%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6.jpg" alt="嵌入模型的优化目标和约束条件" title="嵌入模型的优化目标和约束条件"></p><h3 id="translational-models"><a class="markdownIt-Anchor" href="#translational-models"></a> Translational Models</h3><p>变换模型将边的标签视为一种变换——将边的起点变换为终点，例如：<code>[s]--p-&gt;[o]</code>中，<code>p</code>就被视为<code>[s]</code>到<code>[o]</code>的一个变换。这种方法最基本的模型就是TransE。对于所有的正边<code>[s]--p-&gt;[o]</code>，TransE希望学得向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo separator="true">,</mo><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_s, r_p, e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>使得<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub><mo>+</mo><msub><mi>r</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">e_s + r_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>尽可能接近<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>；对于负边则相反，其希望<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub><mo>+</mo><msub><mi>r</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">e_s + r_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>尽可能远离<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>。下图给出了TransE的一个简单例子，其将图嵌入一个二维空间中：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/TransE.jpg" alt="TransE" title="TransE"><br>为了清楚起见，图中的向量保持与原图相似的方向。例如图中，<code>[Santiago]</code>的向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mrow><mi>S</mi><mi mathvariant="normal">.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">e_{S.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.05764em">S</span><span class="mord mtight">.</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>加上<code>north of</code>的向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mrow><mi>n</mi><mi>o</mi><mi mathvariant="normal">.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">r_{no.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">o</span><span class="mord mtight">.</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>得到了<code>Curico</code>的向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mrow><mi>C</mi><mi mathvariant="normal">.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">e_{C.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.07153em">C</span><span class="mord mtight">.</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>。同样，我们也可以利用嵌入结果去预测边：例如，我想要知道哪个顶点是<code>[Antofagasta]--west of-&gt;[?]</code>的终点，我们可以计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mrow><mi>A</mi><mi mathvariant="normal">.</mi></mrow></msub><mo>+</mo><msub><mi>r</mi><mrow><mi>w</mi><mi>o</mi><mi mathvariant="normal">.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">e_{A.} + r_{wo.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="mord mtight">.</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02691em">w</span><span class="mord mathdefault mtight">o</span><span class="mord mtight">.</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>来预测，其结果是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mrow><mi>T</mi><mi mathvariant="normal">.</mi></mrow></msub></mrow><annotation encoding="application/x-tex">e_{T.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">T</span><span class="mord mtight">.</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，即<code>[Toconao]</code>。<br>TransE过于简陋，它只在如上图的特殊情况下有着极好的效果。例如：<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>中<code>bus</code>是一个及其常见的关系，在这种情况下，TransE将为所有的<code>bus</code>的终点分配相似的向量，这在考虑其他边存在时很可能是不可行的。TransE也倾向于给成环的一对关系分配零向量，因为其方向性相互抵消。现已提出很多方法用于解决这些问题，例如：TransH使用不同的超平面表示不同的关系；TransR推广了TransH，其将<code>[s]</code>和<code>[o]</code>投影到关于<code>p</code>的向量空间中；TransD简化了TransR，其将实体和关系与一个辅助向量绑定，这个辅助向量用于将实体投影到对应关系的向量空间中；TransE则将图嵌入复数空间中，这使得嵌入结果可以捕捉到关系的更多信息，例如方向性、对称性、反对称、反转和合成。嵌入也可以使用非欧空间，例如MuRP就将实体嵌入到庞加莱球模型的双曲空间中，其曲率为分离实体提供了更多空间。</p><h3 id="tensor-decomposition-models"><a class="markdownIt-Anchor" href="#tensor-decomposition-models"></a> Tensor decomposition models</h3><p>第二种方法基于张量分解。张量分解将张量分解为特定的一组基，这些基通过特定的运算可以还原或近似表示原来的张量(可以还原的例如线性基，近似表示的例如PCA，特定的运算除了线性的运算，有其他的，如傅里叶变换)。这些基张量可以认为是驳捕捉到了原始数据底层的特征。虽然张量分解有很多方法，但这里主要介绍秩分解。<br>张量的秩的概念和矩阵的秩的概念有所不同，首先介绍什么是单秩张量。给定一个张量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">A</mi><mo>∈</mo><msup><mi>R</mi><mrow><msub><mi>n</mi><mn>1</mn></msub><mo>×</mo><msub><mi>n</mi><mn>2</mn></msub><mo>×</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>×</mo><msub><mi>n</mi><mi>d</mi></msub></mrow></msup></mrow><annotation encoding="application/x-tex">\mathcal{A} \in R^{n_1 \times n_2 \times ... \times n_d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.72243em;vertical-align:-.0391em"></span><span class="mord"><span class="mord mathcal">A</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.771331em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3487714285714287em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15122857142857138em"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>，若这个张量可以表示为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">d</span></span></span></span>的向量的外积，则这个张量的秩为1，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi mathvariant="script">A</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">rank(\mathcal{A}) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mopen">(</span><span class="mord"><span class="mord mathcal">A</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>。然而，不是所有张量都是单秩张量；但对于这些张量来说，其可以表示为多个单秩张量的和，这些张量的秩就被定义为所需的单秩张量的最少个数。因此，对于任意的一个张量，我们都可以把其分解成多个单秩张量的和，这个分解过程称为CP分解。现有很多算法可以用于CP分解，如交替最小二乘法、Jennrich算法和张量幂法。<br>通过类似的原理可以将图分解得到嵌入。对于任意一张图，其可以表示成一个三维独热张量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">G</mi><mo>∈</mo><msup><mi>R</mi><mrow><mi mathvariant="normal">∣</mi><mi>V</mi><mi mathvariant="normal">∣</mi><mo>×</mo><mi mathvariant="normal">∣</mi><mi>L</mi><mi mathvariant="normal">∣</mi><mo>×</mo><mi mathvariant="normal">∣</mi><mi>V</mi><mi mathvariant="normal">∣</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathcal{G} \in R^{|V| \times |L| \times |V|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78055em;vertical-align:-.09722em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.0593em">G</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8879999999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8879999999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathdefault mtight" style="margin-right:.22222em">V</span><span class="mord mtight">∣</span><span class="mbin mtight">×</span><span class="mord mtight">∣</span><span class="mord mathdefault mtight">L</span><span class="mord mtight">∣</span><span class="mbin mtight">×</span><span class="mord mtight">∣</span><span class="mord mathdefault mtight" style="margin-right:.22222em">V</span><span class="mord mtight">∣</span></span></span></span></span></span></span></span></span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="script">G</mi><msup><mo stretchy="false">)</mo><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">(\mathcal{G})^{ijk} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991079999999998em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:.0593em">G</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:.05724em">j</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>表示第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span></span></span></span>个节点连接到第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span></span></span></span>个节点，且边标签为第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.85396em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.05724em">j</span></span></span></span>个标签。正如上述内容，这种张量体积极大，因此可以使用秩分解。CP分解会计算一系列向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>z</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>d</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>d</mi></msub><mo separator="true">,</mo><msub><mi>z</mi><mi>d</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_1, y_1, z_1, ..., x_d, y_d, z_d)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>使得<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">G</mi><mo>≈</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>d</mi></msubsup><msub><mi>x</mi><mi>i</mi></msub><mo>⊗</mo><msub><mi>y</mi><mi>i</mi></msub><mo>⊗</mo><msub><mi>z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{G} \approx \sum \limits_{i=1}^d x_i \otimes y_i \otimes z_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78055em;vertical-align:-.09722em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.0593em">G</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.513782em;vertical-align:-.9776689999999999em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5361130000000003em"><span style="top:-2.122331em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0000050000000003em"><span class="pstrut" style="height:3em"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9776689999999999em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>(其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⊗</mo></mrow><annotation encoding="application/x-tex">\otimes</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord">⊗</span></span></span></span>表示外积)，正如下图展示的那样。<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/CP%E5%88%86%E8%A7%A3.jpg" alt="CP分解" title="CP分解"><br>令<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo separator="true">,</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X, Y, Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.07847em">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.07153em">Z</span></span></span></span>分别表示矩阵<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>d</mi></msub><mo stretchy="false">}</mo><mo separator="true">,</mo><mo stretchy="false">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>y</mi><mi>d</mi></msub><mo stretchy="false">}</mo><mo separator="true">,</mo><mo stretchy="false">{</mo><msub><mi>z</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>z</mi><mi>d</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x_1, ..., x_d\}, \{y_1, ..., y_d\}, \{z_1, ..., z_d\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.04398em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.22222em">Y</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span></span></span></span>行表示第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span></span></span></span>个关系的嵌入，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07847em">X</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.07153em">Z</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.85396em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.05724em">j</span></span></span></span>行分别表示第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.85396em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.05724em">j</span></span></span></span>个实体的两种嵌入，然而我们只需要一种。<br>DistMult是一种基于秩分解的知识图谱嵌入开创性方法。在DistMult里，每个实体和关系与一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">d</span></span></span></span>维向量关联，而对于边<code>[s]--p-&gt;[o]</code>，其得分被定义为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>d</mi></msubsup><mo stretchy="false">(</mo><msub><mi>e</mi><mi>s</mi></msub><msub><mo stretchy="false">)</mo><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mi>p</mi></msub><msub><mo stretchy="false">)</mo><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>e</mi><mi>o</mi></msub><msub><mo stretchy="false">)</mo><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\sum \limits_{i=1}^d (e_s)_i(r_p)_i(e_o)_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.513782em;vertical-align:-.9776689999999999em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5361130000000003em"><span style="top:-2.122331em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0000050000000003em"><span class="pstrut" style="height:3em"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9776689999999999em"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>。优化目标为最大化正边的得分并最小化负边的得分。这种方法等价于CP分解，但其使用了两次实体的嵌入结果，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">G</mi><mo>≈</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>d</mi></msubsup><msub><mi>x</mi><mi>i</mi></msub><mo>⊗</mo><msub><mi>y</mi><mi>i</mi></msub><mo>⊗</mo><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{G} \approx \sum \limits_{i=1}^d x_i \otimes y_i \otimes x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78055em;vertical-align:-.09722em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.0593em">G</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.513782em;vertical-align:-.9776689999999999em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5361130000000003em"><span style="top:-2.122331em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0000050000000003em"><span class="pstrut" style="height:3em"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9776689999999999em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>。这种方法的缺点是无法考虑方向性，以为<code>[s]--p-&gt;[o]</code>和<code>[o]--p-&gt;[s]</code>的得分相同。<br>RESCAL算法采用矩阵嵌入关系而不是向量，这样的好处是可以在各个维度上组合来自<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">e_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>的值并且考虑了方向性，但缺点是占用空间大。HolE算法仍采用向量表示，但采用了循环相关算子(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>⋆</mo><mi>y</mi><msub><mo stretchy="false">)</mo><mi>k</mi></msub><mo><mi mathvariant="normal">≔</mi></mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>a</mi></msubsup><msub><mi>x</mi><mi>i</mi></msub><msub><mi>y</mi><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mi>i</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext> </mtext><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">(x \star y)_k \coloneqq \sum \limits_{i=1}^a x_iy_{((k+i-2) mod \, a) + 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋆</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel"><span class="mop" style="position:relative;top:-.03472em">:</span></span><span class="mrel"><span class="mspace" style="margin-right:-.06666666666666667em"></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:2.329066em;vertical-align:-.9776689999999999em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3513970000000004em"><span style="top:-2.122331em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0000050000000003em"><span class="pstrut" style="height:3em"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9776689999999999em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.34480000000000005em"><span style="top:-2.5198em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:.03148em">k</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">2</span><span class="mclose mtight">)</span><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">d</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mathdefault mtight">a</span><span class="mclose mtight">)</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3551999999999999em"><span></span></span></span></span></span></span></span></span></span>)来组合他们。这个算子不满足交换律，因此方向相关。ComplEx将关系嵌入复数空间中，这样打破了DistMult评价函数的对称性，并且保持了较低的参数量。SimplE则使用原始的CP分解，然后计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo separator="true">,</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X, Y, Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.07847em">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.22222em">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.07153em">Z</span></span></span></span>的平均值以计算最终得分。TuckER实现了另一种分解方法，称为Tucker分解。其将图对应的张量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">G</mi></mrow><annotation encoding="application/x-tex">\mathcal{G}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78055em;vertical-align:-.09722em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.0593em">G</span></span></span></span></span>分解成一个核张量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">T</mi></mrow><annotation encoding="application/x-tex">\mathcal{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.25417em">T</span></span></span></span></span>和三个矩阵<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">A</mi><mo separator="true">,</mo><mi mathvariant="script">B</mi><mo separator="true">,</mo><mi mathvariant="script">C</mi></mrow><annotation encoding="application/x-tex">\mathcal{A, B, C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathcal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathcal" style="margin-right:.03041em">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathcal" style="margin-right:.05834em">C</span></span></span></span></span>，有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">G</mi><mo>≈</mo><mi mathvariant="script">T</mi><mo>⊗</mo><mi mathvariant="script">A</mi><mo>⊗</mo><mi mathvariant="script">B</mi><mo>⊗</mo><mi mathvariant="script">C</mi></mrow><annotation encoding="application/x-tex">\mathcal{G} \approx \mathcal{T} \otimes \mathcal{A} \otimes \mathcal{B} \otimes \mathcal{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.78055em;vertical-align:-.09722em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.0593em">G</span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.25417em">T</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord"><span class="mord mathcal">A</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.03041em">B</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.05834em">C</span></span></span></span></span>。实体的嵌入从<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">A</mi><mo separator="true">,</mo><mi mathvariant="script">C</mi></mrow><annotation encoding="application/x-tex">\mathcal{A, C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathcal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathcal" style="margin-right:.05834em">C</span></span></span></span></span>中选择，关系的嵌入从<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">B</mi></mrow><annotation encoding="application/x-tex">\mathcal{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.03041em">B</span></span></span></span></span>中来。现在TuckER在这方面的排行榜上排第一。</p><h3 id="neural-models"><a class="markdownIt-Anchor" href="#neural-models"></a> Neural models</h3><p>上述方法的缺点是只考虑了线性空间，所有的操作都是线性或者双线性的。而基于神网络的方法则使用非线性的评价函数。<br>最早的基于神经网络的模型是语义匹配能量模型SME。SME学习两个参数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02691em">w</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">w'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，共评价函数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mi>x</mi></msub><mo stretchy="false">(</mo><msub><mi>e</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo stretchy="false">)</mo><mo>⋅</mo><msub><mi>g</mi><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>e</mi><mi>o</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_x(e_s, r_p) \cdot g_{w'}(e_o, r_p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.10764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32797999999999994em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6828285714285715em"><span style="top:-2.786em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mi>w</mi></msub></mrow><annotation encoding="application/x-tex">f_w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.10764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02691em">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>g</mi><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup></msub></mrow><annotation encoding="application/x-tex">g_{w'}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32797999999999994em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6828285714285715em"><span style="top:-2.786em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>既可以是线性的，也可以是非线性的。另一个早期提出的方法是神经张量网络NTN。NTN维护一个内部权重张量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">W</mi></mrow><annotation encoding="application/x-tex">\mathcal{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">W</span></span></span></span></span>，这个张量和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">e_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>的外积<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub><mo>⊗</mo><mi mathvariant="script">W</mi><mo>⊗</mo><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_s \otimes \mathcal{W} \otimes e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.73333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">W</span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">r_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>一起被送入一个复杂的评价函数。由于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">W</mi></mrow><annotation encoding="application/x-tex">\mathcal{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord"><span class="mord mathcal" style="margin-right:.08222em">W</span></span></span></span></span>的参数量太大，NTN不易扩展。多层感知机MLP是一种简单的模型，其将<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo separator="true">,</mo><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_s, r_p, e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>拼接起来一并送入隐藏层中用于计算似然得分。<br>许多最近的模型则采用了卷积核。ConvE按行优先原则将向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">e_s, r_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>整理成矩阵(等价于torch.view)，然后将二者拼接起来送入卷积层中，卷积层返回一个特征图。这个特征图被展开成向量并线性变换到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">d</span></span></span></span>维，再与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">e_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>内积求得似然得分。他的缺点是认为引入了一个二维结构。HypER也是一个使用卷积的模型，但其使用全连接层作用于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">r_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>并用于生成与关系相关的卷积过滤器，这个过滤器直接作用于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">e_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>上来获取特征图。后面的过程就和ConvE相同了。</p><h3 id="language-models"><a class="markdownIt-Anchor" href="#language-models"></a> Language models</h3><p>最早嵌入技术是用于自然语言处理的，最具代表性的模型为word2vec和GloVe。这两种方法都基于大量的训练语料，从中习得嵌入，并且在相似上下文中出现的词其嵌入向量也相似。word2vec采用神经网络进行训练，其既可以根据上下文预测中间的词(词袋模型)；也可以预测某个词周围的词(skip-gram)。GloVe则将回归模型作用于共现矩阵。这两种方法得到的embedding广泛应用于自然语言处理任务中。<br>我们可以将上述方法迁移到知识图谱嵌入中。然而，自然语言是任意长度的词序列，但图是一个三元组集合。RDF2vec模型将图转变成了“句子”，其在图上随机游走并记录下经过的路，这些路被称为“句子”并被送入word2vec中。RDF2vec还有另一种方法生成序列，即从规范标记的子树的根节点出发。KGloVe模型则和GloVe模型很像，其使用PageRank替代了共现矩阵。</p><h3 id="entailment-aware-models"><a class="markdownIt-Anchor" href="#entailment-aware-models"></a> Entailment-aware models</h3><p>上述的嵌入算法都只考虑了数据图本身，那如果给定了本体或者规则呢？这些推理知识可以用于提升嵌入效果。一种是使用约束规则改善嵌入的预测，例如：在UNA下定义函数和反函数作为约束。举个栗子：如果一个活动只能在一个地点举办，那如果某个活动在多地举办，它的似然得分就会偏低。<br>大部分最近的方法都考虑了数据图和规则。KALE使用变换模型计算嵌入，但添加了t范数模糊逻辑规则。例如现有规则<code>[?x]--bus-&gt;[?y]</code><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">⇒</span></span></span></span><code>[?x]--connects to-&gt;[?y]</code>，那如果图中我们已经有了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub><mo>:</mo></mrow><annotation encoding="application/x-tex">e_1:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span></span></span></span><code>[a]--bus-&gt;[b]</code>，就必有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mn>2</mn></msub><mo>:</mo></mrow><annotation encoding="application/x-tex">e_2:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span></span></span></span><code>[a]--connects to-&gt;[b]</code>，假设二者的似然得分为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">p_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>(使用标准的嵌入得到的)，那t范数模糊逻辑会建议将更新为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><msub><mi>p</mi><mn>2</mn></msub><mo>−</mo><msub><mi>p</mi><mn>1</mn></msub><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">p_1 p_2 - p_1 + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>。(相当于网络多加了一层用于计算真实得分)，之后<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">e_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>会以更新后的得分参与后续的embedding学习，这样会给予正边和positive ground rules更高的得分。Guo等人后来提出了RUGE，其使用联合模型(ground rules(主要是软规则)和似然得分)对齐没见过的边的得分。<br>然而生成ground rules开销很大。一种替代算法FSL观察到在简单规则中，子关系(<code>bus</code>)的似然得分一定低于父关系(<code>connect to</code>)的似然得分。对这些规则，FSL建议在避免违反此不等式的情况下训练关系嵌入。但FSL仅支持简单规则，而KALE支持复杂规则。</p><h2 id="graph-neural-networks"><a class="markdownIt-Anchor" href="#graph-neural-networks"></a> Graph Neural Networks</h2><p>嵌入的目的是将图映射成一个稠密的数据表示从而送入机器学习的方法中，另一种思路则是定制专门处理图类型的数据的方法。大多数这类方法都基于神经网络，因为其之间有着天然的对应关系：神经网络的神经元对应着节点，权重对应着边标签，二者又都是有向图。然而，神经网络的拓扑结构往往是同质的，数据图则是异质的。<br>GNN是一种基于数据图拓扑结构的神经网络，通常其学习从输入特征到输出特征的映射，是一种监督学习的方式。与embedding不同的是，GNN允许针对任务端到端地监督学习，即给定一个标记数据集，GNN可以自动对图中的元素分类，甚至可以对图本身进行分类。GNN已被用于对化合物的结构图编码，分类图像中的对象、文档，预测交通，构建推荐系统，验证软件等任务中。</p><h3 id="recursive-graph-neural-networks循环图神经网络recgnn"><a class="markdownIt-Anchor" href="#recursive-graph-neural-networks循环图神经网络recgnn"></a> Recursive graph neural networks(循环图神经网络RecGNN)</h3><p>RecGNN是GNN的一种开创性方法，其在概念上类似于<a href="#PageRank">PageRank</a>所代表的收缩模型，即消息在邻居之间传递以递归计算某些结果。与收缩模型不同的是，我们并没有给定MSG阶段的函数，而是让模型自己学习并将其用于其他数据上。<br>在一篇开创性的论文中，Scarselli等人提出了GNN的定义，它以有向图为输入，其中节点和边可以与捕捉到标签或权重的特征向量关联，这些特征向量在整个学习过程中保持不变。每个节点又和一个初始向量关联，而这个初始向量会在每轮迭代中根据邻居的信息更新，更新遵守一个名为转换函数的参数函数。模型中的第二个参数函数——输出函数则使用最终的开始向量和特征向量计算最终输出。这个过程循环执行直到收敛。这两个参数函数都可以使用神经网络实现，即根据标注数据集自动学习转换函数和输出函数的参数。因此这个模型被视为RNN架构。为了确保结果收敛，其限制了转换函数，即每次使用后点在空间上更加接近。<br>举个例子，限制我们希望建一个新的旅游信息问讯处，正愁建在哪。一种比较好的策略是部署到客流量大的热门目的地的交通枢纽中。沿着这个思路，下图给出了<a href="#%E5%BD%92%E7%BA%B3%E4%BE%8B%E5%9B%BE">例图</a>d一个子图所对应的GNN结构，图中高亮了<code>[Punta Arenas]</code>及其邻居<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/RecGNN.jpg" alt="RecGNN" title="RecGNN"><br>在这个图中，节点和特征向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>n</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">n_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>和隐状态<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>h</mi><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">h_x^{(t)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.161392em;vertical-align:-.11659199999999997em"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em"><span style="top:-2.5834080000000004em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span><span style="top:-3.2198em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">t</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.11659199999999997em"><span></span></span></span></span></span></span></span></span></span>关联，边则和特征向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mrow><mi>x</mi><mtext> </mtext><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">a_{x\,y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.716668em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mathdefault mtight" style="margin-right:.03588em">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>关联。节点的特征向量既可以对节点的类型进行独热编码，又可以对每年访问的游客数等统计信息编码；同样，边的特征既可以对边标签独热编码，也可以对每年卖出多少票或距离等统计信息编码。隐状态可以随机初始化。上图的右图表示变换函数和输出函数。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>表示节点<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">x</span></span></span></span>的邻居；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mi>w</mi></msub><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_w(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.10764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02691em">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span>表示参数为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02691em">w</span></span></span></span>的转换函数；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>g</mi><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup></msub><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g_{w'}(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32797999999999994em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.6828285714285715em"><span style="top:-2.786em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span>表示参数为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">w'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>的输出函数。为了训练模型，我们可以标记已经有旅游咨询处的地方和没有的地方。这些标记信息可以是来自图中的，也可以是人工添加的。GNN将学习参数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02691em">w</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>w</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">w'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.751892em;vertical-align:0"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.751892em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，并将其用于后来节点的预测。<br>GNN十分灵活，并且可以根据多种方式调整，比如：定义不同的邻居(只考虑出边或者两跳之内的等)；允许节点对通过有不同向量的多条边连接；为每个节点单独分配转换函数和输出函数的参数；为边添加状态和输出等等。</p><h3 id="convolutional-graph-neural-network卷积图神经网络convgnn"><a class="markdownIt-Anchor" href="#convolutional-graph-neural-network卷积图神经网络convgnn"></a> Convolutional graph neural network(卷积图神经网络ConvGNN)</h3><p>CNN在有关图片的机器学习任务中有着广泛的应用。其思想是利用卷积核在图像的局部区域上提取特征。当卷积核作用于所有局部区域时，卷积输出整个图像的特征图。并且不同的卷积核可以捕捉不同的特征，卷积核也可以通过学习得到。<br>注意GNN和CNN之间的对比：他们都作用于输入的一小块区域(节点及其邻居组成的子图)。在这种想法下提出了ConvGNN，其转换函数是通过卷积实现的。这里的关键是如何定义图的局部区域。与像素点不同，图的邻居数量不定，这带来了一个挑战：CNN可以使用一个卷积核对图像中所有局部区域提取特征，但ConvGNN不易实现。解决方案包括成使用光谱或空间表示图以获得更规则的结构。或者使用注意力机制来学习对当前节点最重要的特征。<br>除了架构以外，RecGNN和ConvGNN还有两个主要区别：首先RecGNN将邻居的信息聚集到点上以求得收敛。而ConvGNN通常使用固定数量的卷积层；其次，RecGNN在统一的不重中使用相同的函数参数，但ConvGNN的不同卷积层可以在每个不同的步骤中使用不同的内核或权重。</p><h2 id="symbolic-learning"><a class="markdownIt-Anchor" href="#symbolic-learning"></a> Symbolic Learning</h2><p>上述技术都是学习参数表示的模型，这类模型一般难以解释或理解。比如，embedding会告诉你某条边很合理，但不会告诉你为什么觉得他合理，合理的原因可以位于参数矩阵中。这类方法也会遇到类似于“未登录词”的问题，即其无法对没见过的节点和面得出结果。当遇到新的节点时，为了适应这个新节点，整个模型都要重新训练。<br>另一种(有时是互补的)方法是采用符号学习，使用逻辑语言假设与解释一组给定的枕边和负边。这些边通常以自动的方式从知识图谱中生成(类似于embedding中的情况)。这些假设可作为可解释的模型用于进一步的演绎推理。<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%AC%A6%E5%8F%B7%E5%AD%A6%E4%B9%A0.jpg" alt="符号学习" title="符号学习"><br>如上图所示，我们可以从中得到规则<code>[?x]--flight-&gt;[?y]</code><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">⇒</span></span></span></span><code>[?y]--flight-&gt;[?x]</code>；或者可以学到一个DL公理<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>i</mi><mi>r</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi><mo>⊑</mo><mi>D</mi><mi>o</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>i</mi><mi>c</mi><mi>A</mi><mi>i</mi><mi>r</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi><mo>⊔</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>n</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>a</mi><mi>l</mi><mi>A</mi><mi>i</mi><mi>r</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">Airport \sqsubseteq DomesticAirport \sqcup InternationalAirport</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊑</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">A</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊔</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault">A</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">t</span></span></span></span>这些规则和公理可以用于之后的推理，并且可以为蕴含或预测得到的新知识提供可解释的模型，这进一步为领域专家提供了验证模型的机会。此外，规则和公理是量化的(全称命题和特称命题)，因此可以作用于没见过的例子。</p><h3 id="rule-mining"><a class="markdownIt-Anchor" href="#rule-mining"></a> Rule mining</h3><p>一般意义上的规则挖掘是从戴昂的背景知识集合中以规则的形式发现其中有意义的模式。在知识图谱上，我们驾驶一直一组正边和负边。通常正边是图中有点，而负边是通过给定的完整性假设定义的。规则挖掘的目的是识别新规则，这些规则需要从正边中大概率蕴含正边而小概率蕴含负边。<br>规则并不需要适应所有情况，而是需要考虑其和正边负边之间的关联程度。更具体来说，我们规则蕴含的边和一组正边(不包括蕴含的边本身)称为正蕴含。正蕴含的数量称为规则的支持度，而规则的正蕴含比率称为规则的置信度。此时挖掘的目标变成识别同时具有高支持度和高置信度的规则。事实上，关系集上的规则挖掘的技术早已在ILP中探索过了。然而，由于数据的规模和不完整数据(OWA)的频繁假设，知识图谱带来了新的挑战，其中已经有专门的技术来解决这一问题。<br>在处理不完整的知识图谱时，我们并不比清楚如何定义负边。一种常见的启发式方法是采用部分完整假设(PCA)，即认为正边是图中出现的边，负边是本身(<code>[x]--p-&gt;[y']</code>)不在图中但存在<code>[y]</code>使得<code>[x]--p-&gt;[y]</code>在图中的边(和embedding那一样)。PCA下的置信度是支持度与正边集和负边集之和的比例。<br>现在的目标是找到满足给定支持度和置信度阈值的规则。AMIE是一个有影响力的图规则挖掘系统，它采用PCA置信度并且自顶向下构建规则，head是形如<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">⇒</span></span></span></span><code>[?x]--p-&gt;[?y]</code>的规则。对于这种类型的head，考虑了三种类型的改进，每一种都在规则的主体中添加一条新的边。这些新的边的标签可能来自图中，也可能是没见过的新标签(称为fresh variables)。规则中出现过的标签(称为existing variables)或者图中的顶点。三种改进如下：</p><ul><li>添加一个有着existing variable和fresh variable的边</li><li>添加一条有着existing variable和图中顶点的边</li><li>添加一条有着两个existing variable的边</li></ul><p>这三者可以任意组合，从而产生指数搜索空间，其中规则需要满足给定的支持度和置信度阈值。为了提高效率，可以进行剪枝操作，如：这三种改进总会降低支持度，因此当一条搜索路径已经低于阈值时，就可以不再搜索。对生成的规则类型也有进一步的限制。首先，只考虑达到了某个固定大小的规则；其次，这个规则必须是封闭的(每个变量都需要出现在规则的两边)，这确保了安全性(即head中出现的变量也必须出现在body中)。为了确保封闭性，第三中改进只有在规则已经封闭的时候才能使用。<br>后来的工作建立在这些技术的基础之上。Gad-Elrab为了捕获基本规则中的异常，提出了一种学习非单调规则(body中有着否定边的规则)的方法。例如，这个方法得到了如下的规则：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/Gad-Elrab%E4%B8%BE%E4%BE%8B.jpg" alt="例子" title="例子"><br>其表明航班在同一个国家的两个城市之间往来，除非这个机场是国际机场。RuLES系统也能捕捉到非单调规则，但提出通过将合理性的分融入置信度中，以减轻PCA启发式搜索的局限性，因为蕴含的边并不在图中。在可用的情况下，知识图谱的完整性陈述可以用来代替PCA识别负边。沿着这个思路，CARL利用了关于关系基数的额外知识来改进负边集和候选规则的置信度。或者，在允许的情况下，本体可用于在OWA下推导逻辑上的负边。这个系统是Amato等人突出的，其利用本体相关的负边来确定进化算法生成的规则的置信度。<br>另一项研究是关于一种称为可微规则挖掘的技术，它允许端到端的学习。其核心思想是规则的body部分的连接可以被矩阵乘法所表示。具体来说，我们可以用一个邻接矩阵<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">A_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.969438em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>来表示关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">p</span></span></span></span>。现在我们就可以用矩阵乘法来表示边了。例如<code>[?x]--p-&gt;[?y]--q-&gt;[?z]</code>可以表示为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>p</mi></msub><mo>⋅</mo><msub><mi>A</mi><mi>q</mi></msub></mrow><annotation encoding="application/x-tex">A_p \cdot A_ q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.969438em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.969438em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.03588em">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span>。我们希望其中的1在head的邻接矩阵的对应位置中也为1。由于我们得到了所有边标签的邻接矩阵，因此我们需要学习单个规则的置信度，并学习满足阈值置信度的规则。沿着这个思路，NeuralLP模型采用注意力机制为body为变长路径的规则选择最终的边标签，并得到其置信度。DRUM也学习body为路径的规则，但观察到有的边标签更可能或更不可能在规则中和跟在其他标签后面。这个系统采用双向RNN为规则学习一系列关系和他们的置信度。但是这些可微规则挖掘技术目前进行阿玉学习body为路径的规则。</p><h3 id="axiom-mining"><a class="markdownIt-Anchor" href="#axiom-mining"></a> Axiom mining</h3><p>从知识图谱中还可以挖掘出使用如DL的逻辑语言可以描述的公理。具体的挖掘方法可以分为两类：特殊公理和通用公理。<br>在挖掘特殊公理的系统中，不相交公理是一个常见的挖掘对象。例如，我们可以挖掘出<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>o</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>i</mi><mi>c</mi><mi>A</mi><mi>i</mi><mi>r</mi><mi>p</mi><mi>o</mi><mi>i</mi><mi>r</mi><mi>t</mi><mo>⊓</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>n</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>a</mi><mi>l</mi><mi>A</mi><mi>i</mi><mi>r</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi><mo>≡</mo><mi mathvariant="normal">⊥</mi></mrow><annotation encoding="application/x-tex">DomesticAirpoirt \sqcap InternationalAirport \equiv \bot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.02778em">D</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">A</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊓</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault">A</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord">⊥</span></span></span></span>，这个公理指出一个机场不能同时是国内机场和国际机场。V<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>o</mi><mo>¨</mo></mover></mrow><annotation encoding="application/x-tex">\ddot{o}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66786em;vertical-align:0"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">o</span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.19444em">¨</span></span></span></span></span></span></span></span></span>lker等人提出的系统基于规则挖掘来挖掘不相交公理，其发掘出有着很多实例但交集很小甚至没有的一对类。T<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>o</mi><mo>¨</mo></mover></mrow><annotation encoding="application/x-tex">\ddot{o}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66786em;vertical-align:0"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">o</span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.19444em">¨</span></span></span></span></span></span></span></span></span>pper等人则通过余弦相似度来判断两个类的交集。为了计算余弦相似度，这个系统采用了tf-idf关联矩阵，其中的“文档”是每个类的实例，而“术语”指描述实例的属性。这两种系统是在类上挖掘不相交公理。Rizzo等人提出了一种可以在类的不同描述(比如<code>A附近有B</code>和<code>A是C的一种特例</code>)中挖掘不相交公理的系统。这个系统首先将图谱中的相似节点聚类到一起，然后提取术语聚类树，其中，每个叶子节点表示前面的一个聚类，非叶节点表示类的定义；左孩子要么是具有该类所有节点的聚类，要么是子类的定义；右孩子要么是该类中没有的节点的聚类，要么是不相交的类的描述。最后，针对树中的叶子节点对提出候选的不相交公理。<br>其他系统则用于学习通用公理。这类系统中的一个突出类别为DL学习器，他基于类学习(或概念学习)的算法，从给定的正节点和负节点中学习可以分割正负节点的类的逻辑描述。例如给定正节点集{<code>Iquique</code>, <code>Arica</code>}和负节点集{<code>Santiago</code>}，我们可以提取出公理<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∃</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi><mi>b</mi><mi>y</mi><mi mathvariant="normal">.</mi><mi>A</mi><mi>i</mi><mi>r</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi><mo>⊓</mo><mi mathvariant="normal">¬</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∃</mi><mi>c</mi><mi>a</mi><mi>p</mi><mi>i</mi><mi>t</mi><mi>a</mi><msup><mi>l</mi><mo>−</mo></msup><mi mathvariant="normal">.</mi><mi mathvariant="normal">⊤</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\exists nearby.Airport \sqcap \lnot(\exists capital^-. \top)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">∃</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mord">.</span><span class="mord mathdefault">A</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⊓</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-.25em"></span><span class="mord">¬</span><span class="mopen">(</span><span class="mord">∃</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault">p</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.771331em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">⊤</span><span class="mclose">)</span></span></span></span>(附近有机场的实体不是首都)，这里正节点都是公理的实例，负节点都不是。这中类描述的学习方法和上述AMIE学习规则的方法学习类似，其中包含用于从更一般的类移动到更特殊的类(反之亦然)的改进运算符、置信度计算函数和搜索策略。这个系统进一步支持了从评价函数中学习通用公理，这里的评价函数使用计数查询来确定在图中确实找到了预期边的比例。</p><h1 id="creation-and-enrichment"><a class="markdownIt-Anchor" href="#creation-and-enrichment"></a> Creation and Enrichment</h1><p>这部分主要讲的是创建知识图谱并之后从各种遗留的数据源中丰富知识图谱的主要技术。这些数据既可以是纯文本，也可以是结构化数据，甚至可以是介于二者之间的结构。创建时要的适当方法取决于参与者、领域、实际应用和可用数据源等。知识图谱的灵活性带来了一个特点——开始只需要一个核心，之后就可以逐渐的根据数据源逐渐扩展知识图(一般采用敏捷开发或现收现付的策略)。</p><h2 id="human-collaboration"><a class="markdownIt-Anchor" href="#human-collaboration"></a> Human Collaboration</h2><p>一种策略是人工创建和丰富知识图谱。这些编辑可以身处异处，利用协同开发平台以及反馈机制进行编辑。尽管人工的成本高昂，但一些注明的知识图谱主要基于人工编辑。然而，根据征集的方式不同，人工也存在很多缺点，主要是人工错误、分歧、偏见、故意破坏等。有时，需要人工验证和管理其他方式提取的知识图谱的补充，以定义来自其他数据源的高质量映射和高级模式等。</p><h2 id="text-sources"><a class="markdownIt-Anchor" href="#text-sources"></a> Text Sources</h2><p>文本语料库来源广泛，信息丰富，可以来自报纸、书籍、科学文章、社交媒体、电子邮件、网络爬虫等。然而，为了创建和丰富知识图谱，我们需要以高精度和高召回率的方式提取信息，这是一项艰巨的挑战。为了完成这项任务，我们需要借助自然语言处理和信息提取的研究成果。尽管文本提取框架的过程差异很大，但在下图说明了提取文本的四个核心任务。<br><span id="文本提取核心任务"><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E6%96%87%E6%9C%AC%E6%8F%90%E5%8F%96%E6%A0%B8%E5%BF%83%E4%BB%BB%E5%8A%A1.jpg" alt="文本提取核心任务" title="文本提取核心任务"></span></p><h3 id="pre-processing"><a class="markdownIt-Anchor" href="#pre-processing"></a> Pre-processing</h3><p>预处理的目的是利用多种技术将文本解析成原子术语和符号，<a href="#%E6%96%87%E6%9C%AC%E6%8F%90%E5%8F%96%E6%A0%B8%E5%BF%83%E4%BB%BB%E5%8A%A1">上图</a>展示的是Tokenisation。其他的预处理技术还包括：词性标注、依存分析、词义消歧(WSD)。具体采用那种技术主要取决于下游任务。</p><h3 id="named-entity-recognitionner"><a class="markdownIt-Anchor" href="#named-entity-recognitionner"></a> Named Entity Recognition(NER)</h3><p>命名实体识别的识别对象包括任务、机构、地点等等。现在有多种NER技术，其中许多现代方法基于词汇特征(如词性、依存分析树等)和词典(如常见姓名、国家地区、知名企业等)的学习框架。监督学习需要手动标注训练语料中的所有实体，而基于引导的方法只需要以小组实体的种子就可以从中找到模式，并用于未标记的文本。远程监督使用知识图中已知的实体作为种子学习检测相似实体。除了基于学习的光甲外，有事还会因为可控性和可预测性使用人工规则。被识别出来的实体生成新的候选节点，亦或是在EL中链接到现有节点。</p><h3 id="entity-linkingel"><a class="markdownIt-Anchor" href="#entity-linkingel"></a> Entity Linking(EL)</h3><p>实体链接任务用于从文本中挖掘现有节点与挖掘出的实体之间的关系。EL现在存在两个主要的挑战：第一，可能存在对同一实体的多种提及，这会导致将实体的描述被多个节点分割，因此识别各种别名和多语言标签非常重要；第二，同名的实体提及可以指向不同的实体。因此EL需要考虑消歧阶段，即提及和候选节点关联的时候，需要对候选节点排名，并选最可能的那个。这个阶段中可以使用上下文信息，或者先验知识。</p><h3 id="relation-extractionre"><a class="markdownIt-Anchor" href="#relation-extractionre"></a> Relation Extraction(RE)</h3><p>RE的任务是找到文本中实体之间的关系。最简单的情况是在一股固定关系类型的封闭环境中提取二元关系。传统的方法通常使用人工设计的模板，而现代方法更倾向于使用学习框架。既有着需要手动标记的监督学习方法，也有只需要一点种子的引导方法，以及在大型文本语料库中根据已有关系学习该关系的模板的远程监督方法。在开放环境下，二元的关系提取也可以采用无监督学习的方法来做(OIE)。<br>除了二元关系之外，现在还有很多提取n元关系的方法。这些方法大都基于框架语义，对于给定的动词，方法捕捉所涉及的实体以及他们之间如何相互关联。诸如FrameNet之类的资源用于为单词定义框架。解释、目的、地点、时间等框架元素是可选的，用于为关系添加上下文。其他RE方法基于话语表征理论DRT，它考虑事件的文本逻辑表示。<br>在封闭环境中提取的关系通常可以直接映射到知识图谱上，但在开放环境中提取的关系可能需要与知识图谱对齐。例如现在提取了关系<code>has flight to</code>，但知识图谱中并不存在这样的关系，这时就需要将其与<code>flight</code>对齐。具体的方法有：用于对齐多元关系的直接映射和规则；用于对齐OIE关系可以使用分布和基于依赖的相似计算，关联规则挖掘、马尔科夫聚类、语言技巧等。</p><h3 id="joint-tasks"><a class="markdownIt-Anchor" href="#joint-tasks"></a> Joint tasks</h3><p>虽然上述的四个主要任务可以用于从文本中构建知识图谱，但框架并不总是按这个顺序来的。一个趋势是结合相互依赖的任务(比如WSD与EL，NER与EL，NER与RE)，以最大化提高模型的效果。<br>文章推荐了Maynar的的数和Martínez-Rodríguez的最近的研究。</p><h2 id="markup-sources"><a class="markdownIt-Anchor" href="#markup-sources"></a> Markup Sources</h2><p>Web建立在相互连接的标记文档上，其中标记(也叫标签)用于分隔文档的元素(通常用于格式化的目的)。网上的大部分文档都是使用超文本标记语言HTML编写的。类似的还有维基百科使用的Wikitext，排版用的Tex，内容管理系统用Markdown。一种从标记文档中提取信息的方法是剥离标记，这样只剩下纯文本，就可以使用上面的方法提取了。然而，标记是十分有用的，上面提到的任务大部分都是在挖掘标签。标记文档的提取技术可以分为三大类：</p><ol><li>独立于特定格式的通用方法，通常基于将文档元素映射到输出的wrapper。</li><li>关注文档中特定形式的标记的方法，最常见的式网络表单(也包括列表、链接等)。</li><li>基于表单的方法，其根据深网的概念，提取网页底层数据。</li></ol><p>这些方法得益于给定网站的所有网页的规律，规律可能来源于约定俗成，也可能来源于重用的模板。</p><h3 id="wrapper-based-extration"><a class="markdownIt-Anchor" href="#wrapper-based-extration"></a> Wrapper-based extration</h3><p>雨多通用方法都基于wrapper，wrapper可以定位并提取标记文档中有用的信息。虽然传统的方法是人工定义wrapper，但这样无法适应网站的布局变化。一种现代的方法是利用远程监督，EL被用于识别并链接网页上的实体与知识图谱上的节点，这样标记中的路(在知识图谱中链接的许多对点)就可以被用于提取、标记并应用到其他例子中。</p><h3 id="web-table-extraction"><a class="markdownIt-Anchor" href="#web-table-extraction"></a> Web table extraction</h3><p>有些方法着眼于标记中的特殊结构，最常见的就是网页表格。然而，网页表格一般是为了方便人类理解，这往往会导致机器不易理解。除此之外，很多表格用于布局和页面结构(如导航栏)，而包含数据的表格可能遵循不同的格式，如关系表、列表、矩阵等。因此第一步是对表进行分类，以找到合适的提取方法。接下来，web表格可能报刊列跨度、行跨度、内表，还有崔志拆分以迎合人类的审美。因此，需要一个阶段来规范化表格，并完成识别标题、合并拆分表、取消嵌套表、转置表等操作。下一步可能要识别出主角(表格描述的主要实体)，这在网页的其他地方可以找到。最后，可以应用提取，将单元格和实体、具有类型的列和具有关系的列对关联。为了丰富知识图谱，最近的很多方法都会使用远程监督，首先将单元格链接到图中节点，由于之后生成候选类型和用于关系抽取。统计分布也对链接数字列有帮助。也有针对特殊表格专门设计的提取框架，例如DBpedia和YAGO专注于从维基百科的信息框表格中提取信息。</p><h3 id="deep-web-crawling"><a class="markdownIt-Anchor" href="#deep-web-crawling"></a> Deep Web crawling</h3><p>深网提供了丰富的信息来源，并且只能通过对网络表单的搜索来访问，因此需要深网爬虫技术。现在也有用于从深网中提取知识图谱的系统。这些方法通常会生成合理的表单输入(可能基于用户查询或从参考知识生成)，然后使用上述技术从响应中提取数据。</p><h2 id="structured-sources"><a class="markdownIt-Anchor" href="#structured-sources"></a> Structured Sources</h2><p>组织内和web上很多可用的数据都是结构化数据，主要表现形式是表格(关系数据库、CSV文件等形式)和树(JSON、XML等)。与文本和标记文档不同的是，结构化数据通常可以精确地映射到知识图谱中，而不需要非精确的提取。映射过程分为两个阶段：第一，创建映射；第二：根据映射将源数据转化为图或者虚拟化源。</p><h3 id="mapping-from-tables"><a class="markdownIt-Anchor" href="#mapping-from-tables"></a> Mapping from tables</h3><p>表格作为数据来源十分常见，例如，许多住着、网站等基础的结构化内容斗殴存储在关系数据库中。有两种方法可以将表格内的内容映射到知识图谱中：直接映射和自定义映射。<br>直接映射自动从表中生成图，下图是一个示例，它将关系数据库中每个表的第一行映射到图中：<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93.jpg" alt="关系数据库" title="关系数据库"><br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E7%9B%B4%E6%8E%A5%E6%98%A0%E5%B0%84.jpg" alt="直接映射" title="直接映射"><br>直接映射为每一个单元格创建了一条边<code>[x]--y-&gt;[z]</code>，其中<code>[x]</code>表示一行，<code>y</code>表示某一列的属性值，<code>[z]</code>表示单元格中的内容。在实践过程中<code>[x]</code>一般采用每行的主键，如果没有主键，则可以使用行号或者空白节点。除此之外，我们还会将表名编码进<code>[x]</code>和<code>y</code>的标签中，以避免不同表的属性存在交集时有歧义。对于任意一个<code>[x]</code>，我们还会为其添加一条表示表名的边。<code>[z]</code>则会在图中根据其域为节点分配类型。如果单元格内的值为NULL，则其对应边会被省略(空白节点表示是存在但不知道名字的东西，而NULL意味着没有，即不存在，因此不能使用空白节点)。我们还可以根据外键将两张图链接起来。这种标准的直接映射用于将关系数据库映射到RDF图，其中Stoica等人提出了一种直接映射到属性图的方法。还为CSV和其他表格数据设计了另一种直接映射，这个映射允许指定列名、主键、外键和数据类型作为映射的一部分(因为这些数据格式中通常缺少这些。<br>尽管直接映射可以用于将表格数据自动映射到图并保留原始数据源的信息(因为可逆，即本身直接映射是一个单射，我们还构造一个单射将图转变为关系数据库，根据康托伯恩斯坦定理，二者等势)，但在许多情况下需要自定义映射，例如将边的标签或节点与图对齐的时候。声明性映射语言允许手动定义从表格到图的自定义映射。沿着这个思路的一个标准语言为RDB2RDF映射语言(R2RML)，其允许将表单的多个行映射到一个或多个自定义边，定义节点和边为常量或单个单元格的值，或使用模板将一行中的多个单元格和静态子串连接成一个术语。如果无法从单独一行中定义出输出的边，则可以在R2RML中使用SQL查询提取出可以从中定义的表。类似的标准也存在于将CSV和其他表格数据映射到RDF图，同样允许选择键、列名和数据类型作为映射的一部分。<br>定义好映射后，一种选择时使用它们安装提取——转换——加载(ETL)的方法来具体化图形数据，从而使用映射将表格数据转化并显式地序列化为图形数据。另一种选择是通过重写查询(QR)虚拟化，从而将图上的查询(SPARQL、Cypher)转换为表格数据的查询(SQL)。对比二者，ETL在图中还含有其他类型的数据时仍能使用。然而，ETL需要将底层表格数据的更新显式地传递到知识图谱中，而QR只需要维护一个要更新的数据副本。除此之外，基于本体的数据访问(OBDA)领域设计支持本体蕴含的QA方法。尽管大多数QA方法不支持递归的蕴含，但有些通过重写递归查询实现了对递归的支持。</p><h3 id="mapping-from-trees"><a class="markdownIt-Anchor" href="#mapping-from-trees"></a> Mapping from trees</h3><p>大量流行的数据结构都被组织成树，例如XML和JSON。抛开子节点的排序等问题，一种简单的方法是简单映射为<code>[x]--child-&gt;[y]</code>的形式，表明<code>[y]</code>是<code>[x]</code>的子节点。但这种方法不常用，因为其表示的源数据的文字结构。树结构的数据可以更自然地表示为使用自定义映射的图。GRDLL标准将XML映射到RDF上；JSON-LD将JSON映射到RDF上。相比之下，诸如XSPARQL之类的混合查询语言允许以继承方式查询XML和RDL，从而同时支持物化和虚拟化树结构数据。</p><h3 id="mapping-from-other-knowledge-graphs"><a class="markdownIt-Anchor" href="#mapping-from-other-knowledge-graphs"></a> Mapping from other knowledge graphs</h3><p>构建或丰富知识图谱的另一条路径就是利用现有的知识图谱作为数据源。在文章中的例子中，现有的知识图谱来源广泛，其可以来自于DBpedia、LinkedGeoDate、Wikidata、YAGO、BabelNet等。然而，对于正在构建的图来说，不是什么节点和关系都可以往里面塞。一种标准方法是利用SPARQL构造查询从中提取子图。同时，实体和schema也需要对齐，这可以使用基于外部标识符的图链接工具来完成，也可以人工处理。例如，Wikidata使用Freebase作为数据源；Gottschalk和Demidova从WIkidata、DBpedia和YAGO中提取以事件为中心的图；Neumair和Polleres则从Geonames、Wikidata和Period中构建时空图。</p><h2 id="schemaontology-creation"><a class="markdownIt-Anchor" href="#schemaontology-creation"></a> Schema/Ontology Creation</h2><p>之前说的都是为了从外部数据源中提取数据用于构造或丰富知识图谱。这部分则是讨论基于外源数据和人类的知识提取schema的基本方法。直接从图中提取schema的方法前面已经说过了，这部分主要集中在使用本体工程方法论或本体学习的方法构造本体。</p><h3 id="ontology-engineering"><a class="markdownIt-Anchor" href="#ontology-engineering"></a> Ontology engineering</h3><p>本体工程是指开发和应用用于构建本体的方法，并提出可以更轻松地构建维护高质量本体的原则性流程。早期的方法都是基于瀑布模型，其要求需求和概念在开始用逻辑语言实现本体之前完成。随着本体不断发展以及大规模本体的出现，现在以及提出了更多迭代和敏捷的构造维护方法。<br>DILIGENT是敏捷方法的早期例子，它提出了本体的声明周期管理和知识演化的完整过程，以及将局部变化与本体核心部分的全局更新分开，使用审查过程来授权从局部到全局的更改传播。这种方法类似于大型临床术语参考SNOMED CT的维护和发展方式，其中核心术语根据全球的需求进行维护，而国家和地区则根据当地要求回复SNOMED CT的扩展。另有一群作者决定哪个国家或地区的扩展可以整合进核心术语中。更现代的敏捷方法包括极限设计(XD)、模块化本体建模(MOM)、本体开发的简化敏捷方法(SAMOD)等。这些方法都包含两个关键关键元素：本体需求和本体设计模式。<br>本体需求基于本体作为schema指定了生成的本体的预期任务。表达本体需求的一种常见方法是通过CQ(能力问题)，这是通过自然语言说明需要本体提供的典型知识。如果本体还包含用于推理的新知识、一致性约束和一般公理，则可以用额外的限制和推理要求来补充此类CQ。一种测试本体的常见方法是将CQ形式化为针对测试数据集的查询，并确保查询结果蕴含预期要求。<br>本体设计模式(ODP)是现代方法的另一个共同特征，它指定了可通用的本体建模模式，这些模式可以用作建模类似模式的灵感，作为模板，或者作为可复用组件。在线提供了几个模式库，不仅有精心策划的模式库，还有开放并且是社区管理的模式库。</p><h3 id="ontology-learning"><a class="markdownIt-Anchor" href="#ontology-learning"></a> Ontology learning</h3><p>前面的方法论概述了可以人工构建维护本体的方法。本体学习则可以从文本中自动或半自动提取本体，这对本体工程十分有用。早期方法侧重于从可能代表相关领域类别的文本中提取术语。例如，从有关旅游的文档集中，术语提取工具(使用统一性度量来确定n元关系作为一个单一短语的凝聚力，以确定短语与域的相关程度)可以将诸如世界遗产、游客签证等n元关系识别为对旅游lingua特别重要的术语，因此可能值得包含在本体中。公理也可以从文本中提取，其中子公理通常是提取目标，其基于逐渐专门化概念的修饰名词和形容词，或者使用Hearst模式。文本定义也可以从大规模文本中提取，以获得上位词关系并从头开始引入分类法。最近的工作旨在从文本中提取更具表现力的公理(包括不相交公理)和设计类的并交运算的公理，以及存在的、普遍的、合格的基数限制。本体学习的结果可以作为更通用的本体工程方法的输入，使得我们能够验证本体的术语覆盖范围，识别新的类和公理等。</p><h1 id="quality-assessment"><a class="markdownIt-Anchor" href="#quality-assessment"></a> Quality Assessment</h1><p>不管知识图谱来源于哪种数据，通过提取得到的数据往往是不完整的，并且通常包含重复、矛盾甚至不正确的陈述，这在有多个数据源的时候更为明显。在从外部数据源创建或丰富知识图谱后，关键的一步是评估生成的知识图谱的质量。这里的质量指的是与目标的契合程度。质量评估有助于了解使用知识图谱完成某项任务是否可靠。<br>下文会讨论捕捉到多维数据质量的质量维度，这些维度从传统的数据库领域发展到知识图谱领域，其中有些是通用的，而有些则针对特殊的知识图谱。质量维度定性分析了数据，下文还讨论了质量指标，这些指标提供了定量衡量的方法。</p><h2 id="accuracy"><a class="markdownIt-Anchor" href="#accuracy"></a> Accuracy</h2><p>准确率描述的是实体和关系正确描述现实生活现象的程度。准确率可以进一步被细分为三个维度：语法准确率、语义准确率和时效性。</p><h3 id="syntactic-accuracy"><a class="markdownIt-Anchor" href="#syntactic-accuracy"></a> Syntactic accuracy</h3><p>语法准确性描述了数据相对于语法规则的契合程度，这些语法规则是专门为领域和/或数据模型设计的。表示数据类型的节点往往会出现语法错误，因为它可能与定义的范围不兼容或数据格式有误。例如，<code>[start]</code>的类型是<code>xsd:dateTime</code>，那点<code>"March 29, 2019, 20:00"^^xsd:string</code>就是与定义的范围不兼容，而<code>"March 29, 2019, 20:00"^^xsd:dateTime</code>则是数据格式有误，因为我们期望的格式是<code>2019-03-29T20:00</code>。语法准确性对应的指标是给定属性的不正确值的数目闭上同一属性值的总数目。这种形式的语法准确性通常可以使用验证工具进行评估。</p><h3 id="semantic-accuracy"><a class="markdownIt-Anchor" href="#semantic-accuracy"></a> Semantic accuracy</h3><p>语义准确性描述了数据的值代表现实世界现象的程度，它可能收到不精确的语义结果、不精确的蕴含、故意破坏等影响。如何衡量语义准确性是很有挑战性的一件事。虽然人工验证是一种选择，但不适合处理多个数据源的情况，这是就需要自动化。另一种则是基于精确率等指标验证每个过程的质量，这可能需要人工专家或标准的帮助。</p><h3 id="timeliness"><a class="markdownIt-Anchor" href="#timeliness"></a> Timeliness</h3><p>时效性衡量知识图谱与世界保持同步的能力。换句话说，知识图谱现在可能是对的，但要是没人维护更新，它可能很快就过时了。时效性的度量可以用更新频率来衡量，可以使用图上的时间注释和上下文来判断数据现在是否有效。</p><h2 id="coverage"><a class="markdownIt-Anchor" href="#coverage"></a> Coverage</h2><p>覆盖是为了避免遗漏，否则可能导致不完整的查询结果或蕴含，带来有偏差的模型。</p><h3 id="completeness"><a class="markdownIt-Anchor" href="#completeness"></a> Completeness</h3><p>完整性度量了所有必要信息在特定数据集中的存在程度主要包括以下几个方面：</p><ol><li>schema完整性，它衡量了schema的类和属性在数据图中的表达程度</li><li>属性完整性，它说明了特殊属性的缺失率</li><li>群体完整性，它提供了数据集中表示现实世界中特定类型实体的占比</li><li>可链接完整性，他是指数据集中的实例相互关联的程度</li></ol><p>直接测量完整性并非易事，因为它需要一个理想知识图谱，并理想地表示对应领域内的所有元素。具体的测量策略包括与提供了理想知识图谱的标准对比，或测量从完整来源提取结果的召回率</p><h3 id="representativeness"><a class="markdownIt-Anchor" href="#representativeness"></a> Representativeness</h3><p>代表性是一个相关维度，它不关注领域相关元素缺失的比例，而是关注用于评估知识图谱中包含或不包含的内容的上层偏差。这个维度认为知识图谱时不完整的并追寻其偏差。偏差可能来源于数据、schema或推理。例如：地理位置错误是数据偏差；同一个语言数据有着多语言来源标记是语言偏差。相反，schema变差可能是由于：从有偏差的数据中提取的上层定义、不涵盖不常见情况的语义定义等。无法识别的偏差可能会导致不利影响，例如：如果关于旅行的知识图谱过于注重某个地方附近的景点，那其可能会接受远超其他地方的游客，导致旅游资源分配不均。代表性的度量设计比较知识图谱和已知的统计分布(例如某地区知识图谱支持的语言需要和当地语言分布相契合)，或者与一般的统计规律进行比较。</p><h2 id="coherency"><a class="markdownIt-Anchor" href="#coherency"></a> Coherency</h2><p>连贯性是指知识图谱与schema定义的形式语义以及约束的一致性。</p><h3 id="consistency"><a class="markdownIt-Anchor" href="#consistency"></a> Consistency</h3><p>一致性意味着知识图谱在所涉及的蕴含方面不存在逻辑上的矛盾。通常来说，之前的语义里面所有带"非"的都可能导致不一致。一致性的度量可也是在知识图谱中发现的不一致的数量，这些数量可能细分为每个语义特征的不一致。</p><h3 id="validity"><a class="markdownIt-Anchor" href="#validity"></a> Validity</h3><p>有效性意味着知识图谱没有违反约束，比如能被之前的shape表达式捕获。有效性的直接衡量标准是计算每个约束的违反次数。</p><h2 id="succinctness"><a class="markdownIt-Anchor" href="#succinctness"></a> Succinctness</h2><p>简洁是指相关内容仅以简洁易懂的方式表示(避免信息过载)。</p><h3 id="conciseness"><a class="markdownIt-Anchor" href="#conciseness"></a> Conciseness</h3><p>简洁性是指避免包含与领域无关的schema和数据元素。Mendes等人区分了内涵简洁性(schema级别)和外延简洁性(数据级别)。内涵简洁性指数据不包含冗余的schema元素；外延简洁性则不包含冗余的实体和关系。一般来说，简洁性可以根据领域相关的属性、类别、shape、实体、关系等的比例来衡量，这可能需要表座或评估领域相关性的技术。</p><h3 id="representational-conciseness"><a class="markdownIt-Anchor" href="#representational-conciseness"></a> Representational-conciseness</h3><p>表达简洁性是指内容在知识图谱中的紧凑程度，也分为内涵和外延。例如同时存在两个关系<code>flight</code>和<code>flight to</code>会影响内涵表达简洁性。表达简洁性的另一个例子是不使用复杂的建模结构，例如在元素无序的情况下使用链表。尽管表达简洁性不好评估，但可以使用冗余节点数量等指标量化。</p><h3 id="understandability"><a class="markdownIt-Anchor" href="#understandability"></a> Understandability</h3><p>可理解性是指人类可以轻松解释数据的难易程度，这至少包括提供人类可读的标签和描述(最好还是不同语言的)，是人们能够理解图的内容。理想情况下，人类可读信息足以消除特定节点的歧义。衡量可理解性的指标包括具有人类可读标签和描述的节点的比率、此类标签和描述的唯一性、支持的语言等。</p><h1 id="refinement"><a class="markdownIt-Anchor" href="#refinement"></a> Refinement</h1><p>知识图谱精炼是为了自动或半自动完善或纠正知识图谱，分别称为知识图谱完善和知识图谱校正。前文所说的创建和丰富知识图谱针对的是外部来源的知识，而完善和校正主要是针对知识图谱的本地数据。</p><h2 id="completion"><a class="markdownIt-Anchor" href="#completion"></a> Completion</h2><p>知识图谱的一大特色就是不完整。知识图谱完善的目的在于填上缺失的边。这个任务通常采用统计关系学习了你关于的链接预测，它预测缺失的边是否真实存在(准确地说，是预测正确的可能性)。链接预测主要针对三种情况：</p><ol><li>普通链接，用于预测带任意标签的边</li><li>类型链接，用于预测带有标签<code>type</code>的边，该边指明了节点的类型</li><li>id链接，用于预测带有标签<code>same as</code>的边，该边指明了两个节点是否指向同一个实体。</li></ol><p>后两者可以使用第一种的方法解决，但有些特殊的类型和id链接就需要使用特定的技术。</p><h3 id="general-link-prediction"><a class="markdownIt-Anchor" href="#general-link-prediction"></a> General link prediction</h3><p>这部分通常采用之前说的归纳技术解决，特别是使用嵌入技术和规则挖掘、公理挖掘。例如挖掘出来某条边应该是对称的，但实际图上缺少了一条，这时候就可以补回来。</p><h3 id="type-link-prediction"><a class="markdownIt-Anchor" href="#type-link-prediction"></a> Type-link prediction</h3><p>类型链接对知识图谱特别重要，因为可以利用专门的技术来考虑这些链接的语义。若只有一个边表示类别并且和其他情况相比类的数量较少时，这类认为就退化成了分类任务，可以使用出边和入边的标签作为特征来识别每个语义类。这里可以使用GNN来完成分类任务，或者说类型链接预测。</p><h3 id="identity-link-prediction"><a class="markdownIt-Anchor" href="#identity-link-prediction"></a> Identity-link prediction</h3><p>预测id链接需要搜索图中指向相同实体的节点，这类似于实体匹配任务(或记录链接、去重等)。这类技术往往基于两类匹配：值匹配和上下文匹配；前者指明两个实体的属性有多相似，后者指明指明周围一些点和边的相似程度。<br>这类问题的主要挑战是效率：遍历所有的点对的时间复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。为了解决这一问题，我们可以基于保留相似性将实体划分为块，这样就只需要匹配块就可以得出节点直接的相似程度了。分块的方法包括：在保留相似性的顺序队列中按窗口划分；利用多维空间(时空、闵可夫斯基距离、orthodromic空间等)计算相似性。计算结果可以是两个点是同一实体的置信度，链接提取到的超过给定阈值的清晰地id，以及二分类结果。</p><h2 id="correction"><a class="markdownIt-Anchor" href="#correction"></a> Correction</h2><p>与完善相反，校正用于标识并删除知识图谱中有错的边。这里将纠正的方法分为了两条路线：事实验证以及一致性纠正；前者基于外源数据为给定的边打分，而后者基于本体公理解决不一致。</p><h3 id="fact-validation"><a class="markdownIt-Anchor" href="#fact-validation"></a> Fact validation</h3><p>事实验证任务本质上是为事实，或者说边，生成一个介于0和1之间的置信得分。显然，事实验证和链接预测有着很大的关系——都生成边的置信得分，并且都可以用基于符号或者参数的方法实现。然而，事实验证一般需要线上进行(因为需要外源的证据，这些证据可以是结构化的数据，也可以是非结构化的)，而链接预测可以离线。<br>基于非结构化数据源的方法假设他们被给定了一个“语言能力”使得可以将边转换成自然语言，这个语言能力可以是基于规则的方法，也可以是编解码器的架构等。这个时候就可以直接用自然语言中计算事实可信度的方法了，这个方法被称为fact finder。许多fact finder的算法构造了一个n分图(通常是二分)，其中节点是来源或者事实。如果来源证明了某个事实，则来源和事实将会被连接在一起，当证据足够的时候，这张图就变成了输入的边的语言能力。然后基于此图计算来源和证据相互依赖得分，即来源的可信度和事实的合理性，不同的fact finder区别就在于如何计算这些得分。Pasternack和Roth提出了三种分数：</p><ul><li>Sums采用了HITS算法，其将来源定义为枢纽，事实定义为权威。</li><li>Average Log扩展了HITS算法，它在HITS的基础上引入了归一化因子从而防止单一证据过多影响事实。</li><li>Investment令事实的得分基于来源得分的“投资”呈非线性变化。来源得分从事实得分得到的部分基于与事实的其他来源的比较。</li></ul><p>Pasternack和Roth后来还说明这三种算法都可以扩产成一个基于图的多层框架，这个框架满足下面三个条件：</p><ul><li>来源对事实的支持被量化为表示不确定性的权重</li><li>相似的事实直接可以互相支持</li><li>来源可以分组，同一组来源直接隐含支持</li></ul><p>其他的事实检测算法都是在扩展这个框架。除此之外，还出现了基于分类的替代方法，这些分类器通常使用的特征是信息来源的可信度得分，来源和事实的共现等。<br>基于结构化数据的事实验证方法通常假设其参考的外源数据是知识图谱，然后去找可以证明输入边的路径作为证据。无监督方法搜索有向或无向的路直到达到给定的阈值，然后采用互信息计算路和给定边之间的相关性。有监督的方法则从外源知识图谱中抽取特征，然后训练分类器用于分类给定的边。一组重要的特征是元路径，其将与输入边的标签正相关的为词序列编码。然后PrePath基于类型信息自动提取元路径。有些方法采用embedding技术将节点和边进行编码，然后用于估计输入边合法的置信度得分。</p><h3 id="inconsistency-repairs"><a class="markdownIt-Anchor" href="#inconsistency-repairs"></a> Inconsistency repairs</h3><p>包含公理的本体可能带来不一致性。这些公理可以是专家设计的，也可以是通过符号学习习得的。之后使用这些公理也可能带来不一致。为了纠正知识图谱，光找到不一致的地方是远远不够的，我们还需要纠正他们，但这不是一个轻松的任务。考虑一个简单的情况：现在有互斥的两个类，而某个实体又同时属于这两个类。这里面肯定有一个类是错的，需要被删掉，但删哪个也不容易确定；再扩大点，每个边可能有多种不一致，每种不一致又可能影响很多边。当涉及到蕴含就更难搞了：我们不止得删掉有错的那个，还得把它带来的所有蕴含一并删除。T<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>o</mi><mo>¨</mo></mover></mrow><annotation encoding="application/x-tex">\ddot{o}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66786em;vertical-align:0"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.66786em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathdefault">o</span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-.19444em">¨</span></span></span></span></span></span></span></span></span>pper等人建议人工选择某一类进行修复：删除域或范围的约束、删除互斥的约束、删除表示类型的边、删除被域或范围约束的边。相反，Bonatti等人则提出采用基于最小碰集的自动化方法纠正不一致性。要删除哪条边是根据下述条件决定：边的来源的可信度得分，以及有多少最小碰集的元素要么是这条边，要么可以由这条边蕴含而来。这样就不用再去计算删除这条边后的蕴含了。另一种选择不是修复数据，而是在不一致感知语义下评估query，例如对所有query返回经过修复的一致的答案。</p><h1 id="publication"><a class="markdownIt-Anchor" href="#publication"></a> Publication</h1><p>总有知识图谱是需要发布的，例如志愿者、公共组织或政府制作的知识图谱。发布使得工作可以通过网络防卫全部或部分知识图谱。作为开放数据发布的知识图谱称为开放知识图谱。<br>下面首先讨论了指导在web上发布数据的两组原则；然后讨论了构成接口的访问协议，公众可以通过这些接口与知识图谱进行交互；最后酌情考虑了显示知识图谱或其部分访问使用的技术。</p><h2 id="best-practices"><a class="markdownIt-Anchor" href="#best-practices"></a> Best Practices</h2><p>FAIR原则是由Wilkinson等人提出的；链接数据原则是由Berners-Lee提出的。</p><h3 id="fair-principles"><a class="markdownIt-Anchor" href="#fair-principles"></a> FAIR Principles</h3><p>FAIR原则最初是在发布科学数据的背景下提出的，是为了最大限度地提高公共资助的研究的影响力。但这些原则也适用于其他情况，此时数据将以方别外部代理复用的方式发布，其特别强调机器可读性。<br>FAIR是四个基本规则的首字母简写，每个规则针对一个目标，这个目标可能作用于数据或元数据。</p><ul><li>可检索性(Findability)是指对数据集可能有益的外部代理可以直接定位到数据集，其四个子目标如下：<ul><li>F1：数据和元数据被分配了一个全局唯一的持久标识符</li><li>F2：数据被丰富的元数据所描述</li><li>F3：元数据清楚而明确地包含所描述的数据的标识符</li><li>数据和元数据在可搜索的资源中注册或索引</li></ul></li><li>可访问性(Ascessibility)是指外部代理(一般已经找到了数据集)访问数据集的难易程度，其有两个目标，第一个目标又有两个小目标：<ul><li>A1：数据和元数据可以通过其标识符使用标准协议进行检索<ul><li>A1.1：协议是开放的、免费的、并且是普遍可行的</li><li>A1.2：协议允许在必要时进行身份验证和授权</li></ul></li><li>A2：既是数据不再可用，元数据也是可访问的</li></ul></li><li>互操作性(Interoperability)是指使用标准工具利用数据集(与其他数据集结合)的难易程度，它有三个目标：<ul><li>I1：数据与元数据采用可访问、共享且通用的知识表示形式</li><li>I2：数据和元数据使用遵循FAIR原则的词汇表</li><li>I3：数据和元数据包含对其他数据和元数据的合格引用</li></ul></li><li>可复用性(Reusability)是指数据集可与其他数据集一起复用的难易程度，他有带着三个小目标的一个目标：<ul><li>R1：元(数据)用多个准确且相关的属性进行了丰富地描述<ul><li>R1.1：数据和元数据通过清晰的、可访问的数据使用许可证发布</li><li>R1.2：数据和元数据与详细的出处相关联</li><li>R1.3：数据和元数据要符合领域相关的社区标准</li></ul></li></ul></li></ul><p>在知识图谱的背景下，已经提出了各种直接或简介有助于满足FAIR原则的词汇、工具和服务。就可检索性而言，IRI内置于RDF中，为全局标识符提供了通用模式。此外，诸如互联数据集词汇(VoID)等资源允许表示有关图的元数据，而DataHub等服务提供此类数据集的中央存储库。允许可访问性的协议和授权机制会写在后面。对于互操作性，本体作为通用知识表示形式，可以反过来用于描述遵循FAIR原则的词汇表。可复用性也在后面讲，之前提到的PROV数据模型则允许捕捉数据的详细出处。<br>现有很多知识图谱基于FAIR原则发布，其中Wilkinson等人明确提到一个用于药物发现的数据集成平台Open PHACTS，以及一个大量的蛋白质序列和注释数据集合UniProt是符合FAIR原则的。这两个数据集都通过RDF模型提供了展示内容的图视图。</p><h3 id="linked-data-principles"><a class="markdownIt-Anchor" href="#linked-data-principles"></a> Linked Data Principles</h3><p>Wilkinson等人指出FAIR原则先于如何实现，这意味着这些原则不包括如何实现或应该如何实现这些原则。Berners-Lee提出的链接数据原则比FAIR原则早了近十年，它为实现这些FAIR原则的一种方式提供了技术基础。具体而言，链接数据原则如下：</p><ul><li>使用IRI命名事物</li><li>使用HTTP IRI使得这些名称可以被查找</li><li>查找HTTP IRI时，提供关于实体的有用内容，这些实体的IRI名称采用标准数据格式</li><li>在返回结果中包含指向相关实体的IRI链接</li></ul><p>这些原则最开始是在语义网络中提出的。对于第三条原则，目前推荐使用基于RDF(包括RDFS、OWL等)的标准，因为它们允许使用HTTP IRI命名实体，这为满足所有原则奠定了基础。这些原则概述了图结构的数据在Web上发布的方式，这些图之间相互关联，形成了Berners-Lee所说的数据网络。其目标在于通过令内容不仅在共人类使用的HTML文档中可用，还可以作为机器定位、检索、组合、验证、推理、查询的结构化数据来提高在Web上的自动化程度，朝着自动解决任务的方向发展。从概念上将，数据网络由发布在哥哥网页上的数据图组成，人们可以在其中单击节点或边(准确的说，是HTTP IRI)跳转到Web上其他地方的与节点和边上的内容相关的另一个图，这个过程可以递归地执行下去。<br>一个关键的任务对应着第四条原则：需要包含指向相关实体的链接。具体而言，链接发现任务考虑添加链接表示从一个知识图谱指向另一个知识图谱的连接，这可能涉及到包含间接引用外部图的IRI，或涉及到具有特殊语义的链接(比如id链接)。与前面说的链接预测任务不同的是，链接提取任务不是提取单个图内部的链接，而是找到图与图之间的链接，这带来了一些独特的特点：第一，链接发现通常考虑源和目的的不相交节点集；第二，知识图谱经常使用不同的词汇；第三，连接预测任务中存在本地的例子供学习预测，但链接发现任务没有。一种常见的技术是人工制定链接规则(也叫链接规范)，该规则应用启发式方法来定义可能包含相似性度量的链接。链接发现任务可以通过在知识图谱中提供标准标识符方案加速，常见的标准标识符方案有：书籍的ISBN，国家和地区的alpha-2和alpha-3等。作者参考了Nentwig等人关于链接发现的研究。<br>现在已经提出了进一步的指导方针，其为发布链接数据提供提供细粒度的建议，涉及如何最好地实施间接引用，需要包含那些类型的链接，如何发布和链接词汇表等。</p><h2 id="access-protocols"><a class="markdownIt-Anchor" href="#access-protocols"></a> Access Protocols</h2><p>发布意味着允许公众与知识图谱进行交互，这需要提供访问协议，协议定义了代理可以做出的响应以及他们可以预期的响应。根据FAIR的可访问性原则，该协议应该是开放、免费且普遍可实施的。在知识图谱的语境里，有很多访问协议可供选择，从允许用户下载所有内容的简单协议到接受和评估日益复杂的请求的协议。<br><img src="../../../images/%E8%AE%BA%E6%96%87/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/Knowledge-Graphs-2021/%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE.jpg" alt="访问协议" title="访问协议"><br>简单的协议只需要在发布数据的服务器上进行少量运算，但会占用大量带宽；而更复杂的协议允许代理请求更具体的数据，从而降低带宽需求。知识图谱还可以提供多种访问协议，以满足具有不同需求的不同代理。</p><h3 id="dumps"><a class="markdownIt-Anchor" href="#dumps"></a> Dumps</h3><p>转储是指允许下载的一个或一组文件，这组文件包含了知识图谱的内容。这个协议中，请求是针对文件的，而响应则是文件的内容。为了发布转储文件，首先需要具体的语法来序列化图。对于RDF图来说，有基于XML、JSON、自定义语法等各种标准语法可用，但对于属性图来说，目前只有非标准语法可用。其次，为了降低带宽需求，可用采用压缩方案。虽然GZIP和BZip2等标准压缩可用应用于任何文件，但现在已经有专门针对图的压缩算法，这些算法不仅比标准方法有着更好的压缩比，还可以提供额外的功能，例如下载文件后执行高效查找的紧凑索引。最后，为了进一步降低带宽，当知识图谱更新时，可以计算并发布差异，这样可以避免代理重新下载。然而，转储只适用于某些情况，特别是对于希望维护知识图谱的完整本地副本的代理。如果代理只对一小部分感兴趣，那下载整个转储就需要传输和处理大量不相关数据。</p><h3 id="node-lookups"><a class="markdownIt-Anchor" href="#node-lookups"></a> Node lookups</h3><p>执行节点查找的协议接受节点请求(一般用id表示节点)并返回描述该节点的(子)图。这样的协议是前面说的连接数据原则的基础，其中节点查找是通过HTTP间接引用实现的，这进一步允许了从Web上引用其他图中的节点。尽管对于应该为节点返回哪些内容有不同的定义，一个常见的约定是返回一个子图，这个子图包含了改节点的所有出边和入边。尽管简单，但可以利用节点查找协议的接口实现对图的查询。然而，如果没有声明其实节点或节点查找服务不返回入边，这种策略就不可行了。此外，客户端代理可能需要请求比需求更多的数据。节点查找的优点是让服务器支持节点查找的代价不高，很便宜。</p><h3 id="edge-patterns"><a class="markdownIt-Anchor" href="#edge-patterns"></a> Edge patterns</h3><p>边模板(在DelG中对应的是三元模板)是一个单例图模板，即只有一条边的图模板。针对边模板的协议接受一个边模板的请求并返回所有满足该模板的边。边模板相比节点查找更为灵活，因为边模板相较于节点查找更容易实现图模板。与节点查找相似的是，响应边模板请求的服务器成本相对较低且易于预测。然而服务器可能经常需要将不相关的中间结果返回给客户端。如果客户端无法访问有关知识图谱的统计信息以更好的计划如何执行连接，那这个问题会更加严重。因此提出了对边模板协议的扩展，以允许更有效的连接，例如允许批量发送解决方案，但仅返回与请求中最兼容的那罐解决方案的结果。</p><h3 id="comples-graph-patterns"><a class="markdownIt-Anchor" href="#comples-graph-patterns"></a> (Comples) graph patterns</h3><p>另一种选择是让客户端发送复杂图模板请求，然后服务器仅返回最终的解决方案。与之前的协议相比，这个协议更高效地利用了带宽：它允许客户端发出更具体的请求，而服务器可以返回更具体的响应。然而，带宽需求的减少带来的是服务器响应请求的代价的提升，并且单个请求的成本更加难以预测。虽然有各种优化引擎可以优化计算图模板的估计，但这个问题还是很棘手。也因为这个原因，支持这种协议的服务经常出现停机、超时、返回部分结果、响应时间长等问题。尽管如此，流行的服务器每天仍会接受并成功估计数百万个查询请求，并且很少遇到最差的情况。</p><h3 id="other-protocols"><a class="markdownIt-Anchor" href="#other-protocols"></a> Other protocols</h3><p>上面给出了常见的协议，但实际上还存在很多其他协议。例如，为了更准确地支持复杂图模板，可以考虑更复杂的请求，例如带蕴含的请求，允许递归的请求，将远程服务器的结果并入查询中生成复合查询，甚至假设可以响应任何图灵完备的查询。而且如本章开头说的那样，服务器也可以选择支持多种互补的协议。</p><h2 id="usage-control"><a class="markdownIt-Anchor" href="#usage-control"></a> Usage Control</h2><h3 id="licensing"><a class="markdownIt-Anchor" href="#licensing"></a> Licensing</h3><p>为了将机器可读许可证和知识图谱关联起来，W3C开放数字版权语言(ODRL)提供了一个信息模型和相关词汇表，可用于指定与资产相关的操作的许可、职责和禁令。ORDL支持数字权利的细粒度描述，这些可以被嵌入进图中。从建模的角度来看，ODRL可用于对几个指明的许可证系列进行建模，例如Apache、CC、BSD。除此之外，Cabrio等人还提出了从非结构化的文本中提取机器可读许可证的方法。从推理的角度来看，许可证兼容性验证和组合技术课用于组合由不同许可证管理的知识图谱。数据许可证清算中心(DALICC)采用了此类技术，该中心包括标准机器可读许可证库，以及是用户呢呢狗编写任意自定义许可证并验证不同许可证之间兼容性的工具。</p><h3 id="usage-policies"><a class="markdownIt-Anchor" href="#usage-policies"></a> Usage policies</h3><p>基于边模式的访问控制策略课用于限制部分访问知识图谱。Web访问控制(WAC)是一个采用WebID验证并提供指定访问控制策略词汇表的访问控制框架。现在也已经扩展了WAC词汇表以捕捉隐私偏好并满足上下文约束。ODRL主要用于指定许可证，近年来也提出了指定访问策略和监督义务的配置文件，这在Kirrane的研究中有讨论。<br>作为访问控制的概括，使用策略指定如何使用数据，即可以应用哪些类型的处理，由谁处理、出于什么目的处理等。SPECIAL H2020项目和DPVCG提出了使用策略的词汇表。一旦指定，使用策略可用于验证数据处理是否符合法律规范以及主题是否同意。</p><h3 id="encryption"><a class="markdownIt-Anchor" href="#encryption"></a> Encryption</h3><p>可以采用加密机制代替访问控制。最直接的方式使用一个密钥加密整个图或子图，但也可以对图中的单个节点或边标签执行更细粒的加密，从而使不同客户端通过不同的密钥访问不同的信息。CryptOntology课进一步用于在知识图谱中嵌入所使用的加密机制的详细信息。为了授予对明文的访问权限，一种方法是使用对称密钥加密各个边，以允许特定类型的边模板只能由具有适当密钥的客户端执行。然而，这种方法的一个关键限制是它需要常识解密所有边以找到所有可能的解决方案。一种效率更高的替代方案是结合功能加密和专门的索引来从加密图中检索解决方案，而不需要遍历所有边。</p><h3 id="anonymisation"><a class="markdownIt-Anchor" href="#anonymisation"></a> Anonymisation</h3><p>拿之前常用的旅游局的例子来说，假如旅游局要根据旅客信息情况规划交通，这就会带来数据安全方面的问题，因此最好将个人信息删除以防止个人信息泄露。<br>匿名化的第一种方法是控制并概括图中的知识，使得无法识别个体的内容，这可以基于k匿名算法和l-diversity算法。在图上使用k匿名算法将识别和抑制“准标识符”，这允许将给定的个体与少于k-1个其他个体区分开来。然而，在图的语境中，领域攻击(使用邻居的信息)可以破坏k匿名性。<br>更复杂的领域攻击依赖于更抽象的图模板，现已观察到可以纯粹根据图结构的知识实现个人的去匿名化，既是所有节点和边都变成空白节点也行。例如，我们现在知道一个由k-1个球员组成的球队一起坐飞机去了一定数量的客场比赛，那我们就可以利用领域攻击锁定这k-1个球员。因此提出了很多针对图的特殊方法保证个体不会因为度而被去匿名化攻击，这包括了k度匿名技术。这类方法对图做最小程度的修改，使得每个节点至少有k-1个具有相同度的其他节点。k同构领域匿名是更强大的一种技术，即使攻击者知道了个体的领域结构也不能通过邻居攻击去匿名化。这是通过修改图来确保每个节点都有个节点的领域结构与自身的同构。这两种方法都只能防止具有有限领域信息的攻击者。一个更强大的概念是k自同构，它确保每个节点在结构上与k-1个节点没区别，从而避免了任何基于结构信息的攻击。最初是由社交网络推动了用于图数据匿名化的技术，而且这些技术也可以用于知识图谱，Lin和Tripunitara的工作就将n自同构应用于DelG中。<br>上述方法是对数据匿名，第二种方法是对查询的响应匿名，例如在响应中加入噪声以保护隐私。一种方法是使用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">ϵ</span></span></span></span>差分隐私来查询图。这种机制通常用于聚合查询，其中添加噪声以避免个人信息泄露。这些方法需要丢掉信息以更好的保护隐私，因此选择哪种方法很大程度上取决于任务。如果要将匿名数据作为“转储”发布，则可以使用基于k匿名算法的方法来保护个体，而采用l-diversity的方法来保护群体。另一方面，如果要部分地通过查询接口提供数据，那<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">ϵ</span></span></span></span>差分隐私更适合加入框架。</p><h1 id="knowledge-graphs-in-practice"><a class="markdownIt-Anchor" href="#knowledge-graphs-in-practice"></a> Knowledge Graphs in Practice</h1><p>这部分介绍过去几年出现的一些著名的知识图谱。首先是开放知识图谱，这些知识图谱根据前面说的指南和协议在Web上发布。然后是各公司根据不同应用创建的企业知识图谱。</p><h2 id="openknowledge-graphs"><a class="markdownIt-Anchor" href="#openknowledge-graphs"></a> OpenKnowledge Graphs</h2><p>这里说的开放知识图谱，特指在开放数据哲学下发布的知识图谱，即“开放意味着任何人都可以出于任何目的自由访问、使用、修改和共享(最多遵守说明出处的开放性要求)”。许多开放知识图谱都以链接开放数据集的形式发布，他们遵守开放数据哲学的链接数据原则。许多著名的开放知识图谱涵盖多个领域，代表了宽泛多样的实体和关系。后面也会介绍一些特定领域目前可用的开放知识图谱。介绍的大部分知识图谱都是采用RDF模型，村中链接数据原则发布，并且通过转储访(RDF)、节点查找(链接数据)、图模板(SPARQL)、边模板(三元模板)提供访问接口。</p><h3 id="dbpedia"><a class="markdownIt-Anchor" href="#dbpedia"></a> DBpedia</h3><p>DBpedia项目的开发时为了提取嵌入在维基百科文档中的半结构化数据，从而能够以统一的方式集成、处理和查询这些数据。提取的知识图谱会链接到外部的开放资源，包括图像、网页和外部数据集，如DailMed、DruBank、GeoNames、MusicBrainz、New York Times和WordNet。DBpedia提取框架分为几个组件，对应于维基百科文章源、图存储和序列化目标、wiki标记提取器、解析器和提取管理器的抽象。也设计了特殊的提取器用于处理标签、摘要、跨语言链接、图像、重定向、页面消歧、外部链接、内部连接、主页、类别和位置信息等。DBpedia的知识图谱中的内容不仅是多领域的，还是多语言的：截止到2012年，DBpedia已经有97中语言的标签和摘要。为了适应不同的应用需求，DBpedia内的实体被文飞了四个不同的schemata，这些schemata包括：表示维基百科类别的简单知识组织系统(SKOS)，Yet Another Great Ontology分类schema(YAGO)，Upper Mapping and Binding Exchange Layer(UMBEL)本体分类schema，和一个名为DBpedia本体的自定义schema，包括Person、Place、Organisation和Work等类。为了和动态维基百科文章保持一致，DBpedia还支持实时同步。</p><h3 id="yet-another-great-ontology"><a class="markdownIt-Anchor" href="#yet-another-great-ontology"></a> Yet Another Great Ontology</h3><p>YAGO同样从维基百科中提取图结构的数据，然后与WordNet的层次结构相结合，创建“具有高质量和覆盖率的轻量级可扩展本体”。这种知识图谱旨在应用于各种信息技术任务，例如机器翻译、词义消歧、查询扩展、文档分类、数据清洗、信息集成等。早期技术采用模式匹配、自然语言处理和统计学习的方法从文本中自动提取结构化知识，但这些提取的内容和人工提取的相比质量不高。但是人工的成本高，覆盖率低，也难以保持数据是最新的。为了提取高覆盖率和高质量数据，YAGO主要从维基百科的信息框和类别页面中提取数据，其中报刊特定类别的基本实体信息和文章列表，这些反过来有又契合了WordNet的分层概念。一个称为YAGO模型的schema提供了在RDFS中定义的词汇，该模型允许将单词表示为实体，并捕获同义词和歧义。这个模型进一步支持物化、n元关系和数据类型。YAGO的物化机制包括规范化，即每个边和节点都映射到了一个独一无二的id并且去除了重复的元素；除此之外还包括类型检查，即某个被删除的节点无法通过演绎或推理技术分配给某个类。YAGO将在之后的纪念中扩展对时空上下文和多语言维基百科的支持。</p><h3 id="freebase"><a class="markdownIt-Anchor" href="#freebase"></a> Freebase</h3><p>Freebase是人类知识的集合，它旨在解决与语义网络的分散性相关的一些大规模信息集成问题，例如采样不均衡、应用上的困难和分布式查询的性能限制。与DBpedia和YAGO不同的是，Freebase不是从维基百科或WordNet中提取的，而是直接从人类编辑那征求意见。Freebase平台包括：一个具有版本控制机制的可扩展数据存储，一个用于存储文本、图像和媒体文件的大型数据对象存储(LOB)，支持Metaweb查询语言(MQL)的查询API，Web用户接口和一个轻量级打字系统。最后这个搭子系统是为了支持协同创作过程而设计的。该系统不强调本体的正确性或逻辑一致性，而是被实现为允许不兼容的类型和属性共存的结构机制的松散集合，可以通过Web用户界面以交互的方式添加内容到Freebase，亦或者通过API的写入功能自动添加。Freebase于2010年被谷歌收购，其中的内容构成了谷歌2012年公布的谷歌知识图谱的重要组成部分。当Freebase在2015年3月变为只读时，其中的知识图谱以包含超过30亿条边。它里面的大部分数据随后被迁移到了Wikidata中。</p><h3 id="wikidata"><a class="markdownIt-Anchor" href="#wikidata"></a> Wikidata</h3><p>维基百科中包含大量嵌入在信息框、列表、表格等中的半结构化数据。然而，这些数据传统上是人工整理更新不同语言的文章。人工管理导致了各种数据质量问题，包括不同文章、语言中矛盾的数据。因此Wikipedia基金会使用Wikidate作为一个集中的、协同编辑的知识图谱，为维维基百科以及任意其他用户提供数据。在这个愿景下，一个事实可以只添加一次到Wikidata中，然后触发维基百科中潜在的自动更新机制，在大量跨语言文章中更新。与维基百科一样，Wikidata也被视为二级来源，其中包含应用主要来源的声明(声明可以最初就添加而不用参考)。Wikidata进一步允许就潜在矛盾的主张提出不同的观点。Wikidata是多语言的，其中节点和边被分配了与语言无关的Qxx和Pxx代码，随后与各种语言的标签、别名和描述相关联，从而允许这些语言出现声明。Wikidata不仅允许在数据级别进行协同编辑，还允许在schema级别进行协同创作，允许用于添加或修改轻量级语义、公理和shape。Wikidata提供了各种访问协议并且这些协议被广泛使用，这些协议被维基百科用于在某些领域中生成信息框，被谷歌支持，被用作Siri等著名应用的数据源。</p><h3 id="other-open-cross-domain-knowledge-graphs"><a class="markdownIt-Anchor" href="#other-open-cross-domain-knowledge-graphs"></a> Other open cross-domain knowledge graphs</h3><p>多年来，已经开发了许多其他跨领域的知识图谱。一个和YAGO类似的BabelNet基于统一的WordNet和维基百科，但集成了其他知识图谱，并专注于通过将维基词典和OmegaWiki等词典资源转换为知识图谱来创建多语言词汇形式的词典。与其他知识图谱相比，BabelNet等词汇化知识图谱将维基百科中的百科信息与单语和双语词典中常见的词典信息结合在一起。<br>Cyc项目旨在以机器可读的方式对常识进行编码。自1986年以来，每年有超过900人努力，并且已经创建了22-万个事实和规则。尽管Cyc是专有的，但也发布了一个名为OpenCyc的开放子集。<br>自2010年起，NELL项目就采用OIE方法从网页的文本中提取了一个有着1.2亿条边的图。每个这样的知识图谱都讲论文中讨论的语言和技术的不同组合应用在了不同来源中并得到了不同结果。</p><h3 id="domain-specific-open-knowledge-graphs"><a class="markdownIt-Anchor" href="#domain-specific-open-knowledge-graphs"></a> Domain-specific open knowledge graphs</h3><p>很多领域都有着自己的开放知识图谱。Schemachtenberg等人确定了关联数据上下文中最突出的领域如下：与新闻、电视、广播等有关的媒体；与公开数据以促进透明度和发展有关的政府；设计各个学科学术文献的出版物；与名胜和地区相关的地理领域；与蛋白质、基因、药物、疾病等相关的生命科学和与评论、开源项目等相关的用户创造的内容。除此之外文化遗产、音乐、法律、神学、旅游等领域也有自己的开放知识图谱。此类知识图谱的设想应用于产生它们的领域一样多种多样，但通常与集成、推荐、透明度、归档、去中心化、多语言支持、法规遵从性的有关。</p><h2 id="enterprise-knowledge-graphs"><a class="markdownIt-Anchor" href="#enterprise-knowledge-graphs"></a> Enterprise Knowledge Graphs</h2><p>许多公已经宣布常见专有的“企业知识图谱”用于各种目标，包括：提高搜索能力，提供用户推荐，实现会话或个人代理，增强定向广告，增强业务分析能力，连接用户，扩展多语言支持，促进研究和发现，评估和降低风险，追踪新闻事件，以及提高自动化传输能力等等。正如Noy等人反应的那样，这些企业知识图谱虽然高度多样化，但确实遵守了一些高级趋势：</p><ul><li>数据通常从各种外部和内部源集成到知识图谱中(通常涉及文本)</li><li>企业知识图谱往往非常大，有数百万甚至于数十亿的节点和边，在可扩展性方面提出了挑战</li><li>改进初始的知识图谱对提高质量很重要(添加新链接，实体去重等)</li><li>保证知识图谱与领域同步的技术十分关键</li><li>为了从企业知识图谱中得出结论，本体和机器学习技术往往被混合使用或用于不同情况</li><li>使用的本体往往是轻量级的，通常是表示类或概念层次结构的简单分类法</li></ul><h3 id="web-search"><a class="markdownIt-Anchor" href="#web-search"></a> Web search</h3><p>传统的搜索引擎注重于在文档集中搜索查询字符串。谷歌知识图谱提倡“事物不仅仅是字符串”，使得现代搜索引擎尝试识别特定搜索可能感兴趣的实体。这里，知识图谱起到表达实体和他们之间关系的作用。用户体验到的谷歌知识图谱功能之一是知识面板，他在一些搜索结果右侧显示一个资料卡，里面包括一些和主要实体有关的图像、属性值对、相关实体列表。谷歌知识图谱在普及“知识图谱”这一短语上有重大贡献。后来其他搜索引擎(如必应等)，也开始采用知识图谱。</p><h3 id="commerce"><a class="markdownIt-Anchor" href="#commerce"></a> Commerce</h3><p>从事销售租赁商品和服务的公司也发布了自己的知识图谱。一个突出的例子是亚马逊，它的知识图谱描述了其在线上销售的产品。该知识图谱的主要目标之一是为产品提供更高级的语义搜索功能，以及改进推荐。<br>eBay提出了另一个商贸知识图谱，它对产品描述和用户的购物行为模式进行编码，并用于帮助用户通过自然语言接口查找相关产品。Airbnb也描述了一个知识图谱，它对主机、地点、事件、体检、社区、用户、标签等进行编码，在此之上定义了分类schema。这个知识图谱是为了向潜在用户推荐出租房附近的景点、活动。Uber也为其Uber Eats推出了一个知识图谱用于外卖。目的在于为不知道吃啥的用户提供语义搜索功能和推荐。</p><h3 id="social-networks"><a class="markdownIt-Anchor" href="#social-networks"></a> Social networks</h3><p>企业知识图谱也出现在社交网络服务的背景下。Facebook收集了一个知识图谱，其不就描述了用户的社交数据，还描述了他们感兴趣的实体，包括名人、地点、电影、音乐等，以便将人联系起来，了解他们的兴趣并推荐内容。LinkedIn弄了个包含用户、工作、技能、公司、地点、学校等的知识图谱，还在其之上定义了分类schema。这个知识图谱用于提供重要概念的多语言翻译，改进定向广告，为工作和求职者的搜索提供高级功能，同时为求职者推荐合适的工作(反过来也可以为工作推荐合适的求职者)。Printerest创造了另一个知识图谱，它描述了用户和他们的兴趣，后者被组织成分类。它的主要用途是帮助用户更轻松的找到他们感兴趣的内容，并针对性加入广告以添加收入。</p><h3 id="finance"><a class="markdownIt-Anchor" href="#finance"></a> Finance</h3><p>金融领域也有部署知识图谱。Bloomberg提出的知识图谱加强了金融分析能力，其包括基于当前的新闻和推特为公司提供情感分析功能，提供问答服务，以及识别可能导致股价发生变化的紧急事件。Tompson Reuters(Reinitiv)的知识图谱使用分类schema住着这些实体，并编码了人、住着、股权工具、行业分类、合资企业、联盟、供应链等的金融生态系统。他们的一些应用包括供应链监控、风险评估和投资研究。Bancad d’Italia使用基于规则的推理来确定不同利益相关者对公司所有权的占比。其他探索金融知识图谱的公司还包括Accenture、Capital One、Wells Fargo等。</p><h3 id="other-industries"><a class="markdownIt-Anchor" href="#other-industries"></a> Other industries</h3><p>各种企业一直在积极开发知识图谱，并在其他行业中也有实现新的应用。在医疗保健领域，IBM正在探索如何使用知识图谱进行药物发现和从包装说明书中提取信息。AstraZeneca使用知识图谱推荐基因组学研究和对疾病的理解。在运输领域，Bosch正在探索用于自动驾驶的场景和位置的知识图谱。在原油和天然气领域，Maana正在使用知识图谱进行数据集成，以降低钻井风险。</p><h1 id="summary-and-conclusion"><a class="markdownIt-Anchor" href="#summary-and-conclusion"></a> Summary and Conclusion</h1><p>本文对近几年越来越火的知识图谱进行了全面的介绍。在知识图谱的定义下(知识图谱是一个旨在积累和传达现实世界知识的数据图，其节点代表感兴趣的实体，边代表这些实体之间的关系)，本文介绍了：将数据组织成图结构的模型；schema，id和上下文的表示；利用演绎和归纳知识的技术；创建、吩咐、质量评估和改进知识图谱的方法；发布知识图谱的原则和标准；以及如何在现实世界中使用知识图谱。</p><h2 id="future-direction"><a class="markdownIt-Anchor" href="#future-direction"></a> Future direction</h2><p>对知识图谱的研究可以称为来自不同领域的技术的集合，其共同目标是最大化知识从而最大化价值。这些知识可以使用基于图的数据抽象从大规模的不同数据源中提炼出来。追求这一目标将受益于图数据库、知识表示、逻辑、机器学习、图算法和理论、本体工程、数据质量、自然语言处理、信息提取、隐私和安全等方面的专业知识。<br>虽然各个学科肯定还会有进步，但突破点可能就来自于交叉的部分。在数据图和演绎知识的交叉点中，作者强调新兴的主题，例如：可以考虑节点和边上的标签和键值对的含义的属性图形式语义；可以得出在特定环境中有效的理论和结果的对上下文数据的推理和查询。在数据图和归纳知识的领域，作者强调的主题是：允许根据数字表示(例如embedding)找到精确查询的近似答案的基于相似性的松弛查询；为了提取和形式化知识图谱中的固有模式作为约束的shape归纳；提供随时间、地点等变化的节点和边的数字表示的上下文知识图谱嵌入。最后，在演绎和归纳的交界处，作者提到了如下主题：在计算合理性时使用规则和/或本体的蕴含感知知识图谱嵌入；被证明能够进行类似于表达性本体语言的复杂分类的表达性GNN；以及允许从知识图谱中提取符号、演绎表示的规则和公理的进一步挖掘。<br>处理这些特定的主题之外，知识图谱还存在着更普遍的挑战。例如：可扩展性，特别是演绎和归纳推理；质量，不仅是数据方面的，还有从图谱中得出的模型方面的质量；多样性，例如管理上下文或多模态数据；考虑时间或流数据的动态性；以及可用性，这是提高采用率的关键。尽管可以不断提出技术来解决这些挑战，但他们不太可能被完全解决；相反，他们可以一直作为知识图谱及其技术、工具等继续成熟的方向。<br>鉴于可食用的开放知识图谱质量不断提高，以及企业知识图谱在各行各业中日益普及，未来对知识图谱的研究可能会成为促进社会各大领域进步的关键。</p><h1 id="附录"><a class="markdownIt-Anchor" href="#附录"></a> 附录</h1><p>不是论文中的东西，主要是把论文中遇到的没学的知识补上</p><h2 id="span-id-关系代数关系代数span"><a class="markdownIt-Anchor" href="#span-id-关系代数关系代数span"></a> <span id="关系代数">关系代数</span></h2><p>以下内容均摘自《数据库系统概念》第6版第6章</p><p>关系代数是一种过程化的查询语言。它包含一个运算的集合，这些运以一个或两个关系为输入，产生一个新的关系作为结果。关系的基本运算有：选择、投影、并、集合差、笛卡尔积和更名。在基本运算以外，还有一些其他运算，即集合交、自然连接等</p><h3 id="基本运算"><a class="markdownIt-Anchor" href="#基本运算"></a> 基本运算</h3><p>选择、投影和更名是一元运算；并、集合差、笛卡尔积是二元运算</p><ul><li><p>选择运算<br>使用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.03588em">σ</span></span></span></span>表示：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>σ</mi><mi>F</mi></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mi mathvariant="normal">∣</mi><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>F</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\sigma_F(R) = \{t|t \in R \land F(t) = true\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">t</span><span class="mord">∣</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.13889em">F</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mclose">}</span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>表示选择运算作用的关系；而F表示选择条件，是一个逻辑表达式<br>例如：<br>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table><p>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>σ</mi><mrow><mi mathvariant="normal">性</mi><mi mathvariant="normal">别</mi><mo>=</mo><mi mathvariant="normal">男</mi><mo>∧</mo><mi mathvariant="normal">年</mi><mi mathvariant="normal">龄</mi><mo>=</mo><mn>21</mn></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma_{性别 = 男 \land 年龄 = 21}(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">性</span><span class="mord cjk_fallback mtight">别</span><span class="mrel mtight">=</span><span class="mord cjk_fallback mtight">男</span><span class="mbin mtight">∧</span><span class="mord cjk_fallback mtight">年</span><span class="mord cjk_fallback mtight">龄</span><span class="mrel mtight">=</span><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table></li><li><p>投影运算<br>使用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Π</mi></mrow><annotation encoding="application/x-tex">\Pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Π</span></span></span></span>表示，其意义是从福安息R中选择出若干属性列组成新的关系：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>π</mi><mi>A</mi></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mo stretchy="false">[</mo><mi>A</mi><mo stretchy="false">]</mo><mi mathvariant="normal">∣</mi><mi>t</mi><mo>∈</mo><mi>R</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\pi_A(R) = \{t[A]|t \in R\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">A</span><span class="mclose">]</span><span class="mord">∣</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">}</span></span></span></span></span></p><p>其中A表示R中的属性列<br>例如：<br>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table><p>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Π</mi><mrow><mi mathvariant="normal">姓</mi><mi mathvariant="normal">名</mi><mo separator="true">,</mo><mi mathvariant="normal">年</mi><mi mathvariant="normal">龄</mi></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Pi_{姓名, 年龄}(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord"><span class="mord">Π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-.07610800000000001em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">姓</span><span class="mord cjk_fallback mtight">名</span><span class="mpunct mtight">,</span><span class="mord cjk_fallback mtight">年</span><span class="mord cjk_fallback mtight">龄</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mclose">)</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">21</td></tr></tbody></table></li><li><p>并运算<br>和集合里面一样，都用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∪</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord">∪</span></span></span></span>表示，不过元素变成了关系中的行</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>∪</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mi mathvariant="normal">∣</mi><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∨</mo><mi>t</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R \cup S = \{t|t \in R \lor t \in S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">t</span><span class="mord">∣</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.65418em;vertical-align:-.0391em"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mclose">}</span></span></span></span></span></p><p>例如：<br>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table><p>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table><p>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>∪</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">R \cup S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>为</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table></li><li><p>集合差运算<br>和并运算一样，用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo></mrow><annotation encoding="application/x-tex">-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord">−</span></span></span></span>表示，元素是关系中的行</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>−</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mi mathvariant="normal">∣</mi><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>t</mi><mi mathvariant="normal">∉</mi><mi>S</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R - S = \{t|t \in R \land t \notin S \}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord mathdefault">t</span><span class="mord">∣</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.75em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:.05555555555555555em"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.25em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mclose">}</span></span></span></span></span></p><p>例如<br>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table><p>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table><p>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>−</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">R - S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>为</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td><td style="text-align:center">21</td></tr></tbody></table></li><li><p>笛卡尔乘积运算<br>一样，和集合里面差不多，用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord">×</span></span></span></span>表示，元素是关系中的行。<br>略有不同的地方是，不同关系中可能存在同名属性，这时就需要存在一种命名机制将二者分开，例如将关系名添加到属性中加以区分</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>×</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><msub><mi>t</mi><mi>r</mi></msub><mtext> </mtext><msub><mi>t</mi><mi>s</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><msub><mi>t</mi><mi>r</mi></msub><mo>∈</mo><mi>R</mi><mo separator="true">,</mo><msub><mi>t</mi><mi>s</mi></msub><mo>∈</mo><mi>S</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R \times S = \{(t_r \: t_s)|t_r \in R, t_s \in S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mclose">}</span></span></span></span></span></p><p>例如<br>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td></tr><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td></tr></tbody></table><p>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>为下表</p><table><thead><tr><th style="text-align:center">姓名</th><th style="text-align:center">性别</th></tr></thead><tbody><tr><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td></tr><tr><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td></tr></tbody></table><p>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi mathvariant="normal">、</mi><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">R 、times S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mord cjk_fallback">、</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>为</p><table><thead><tr><th style="text-align:center">R.姓名</th><th style="text-align:center">R.性别</th><th style="text-align:center">S.姓名</th><th style="text-align:center">S.性别</th></tr></thead><tbody><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td></tr><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td><td style="text-align:center">炮灰乙</td><td style="text-align:center">男</td></tr><tr><td style="text-align:center">路人甲</td><td style="text-align:center">女</td><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td></tr><tr><td style="text-align:center">流氓丙</td><td style="text-align:center">男</td><td style="text-align:center">土匪丁</td><td style="text-align:center">男</td></tr></tbody></table></li><li><p>更名运算<br>本质上就是给表达式起一个名字<br>更名运算符为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ρ</mi></mrow><annotation encoding="application/x-tex">\rho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault">ρ</span></span></span></span>，参数为一个关系表达式。其有两种类型：</p><ul><li><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>ρ</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi mathvariant="normal">令</mi><mi>x</mi><mo>=</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">\rho_x(E) \iff 令x = E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord cjk_fallback">令</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span></span></span></span></span></p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span></span></span></span>表示关系表达式，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">x</span></span></span></span>表示新的名字</li><li><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>ρ</mi><mrow><mi>x</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi mathvariant="normal">令</mi><mi>x</mi><mo>=</mo><mi>E</mi><mo>=</mo><msub><mi>A</mi><mn>1</mn></msub><mo>×</mo><msub><mi>A</mi><mn>2</mn></msub><mo>×</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>×</mo><msub><mi>A</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">\rho_{x(A_1, A_2, ..., A_n)}(E) \iff 令x = E = A_1 \times A_2 \times ... \times A_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-.3551999999999999em"></span><span class="mord"><span class="mord mathdefault">ρ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.34480000000000005em"><span style="top:-2.5198em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285719em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3551999999999999em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord cjk_fallback">令</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span></span></span></span>表示一个n元关系，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">x</span></span></span></span>表示新的名字，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">E</span></span></span></span>运算结果第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.65952em;vertical-align:0"></span><span class="mord mathdefault">i</span></span></span></span>个属性的新名字</li></ul></li></ul><h3 id="其他运算"><a class="markdownIt-Anchor" href="#其他运算"></a> 其他运算</h3><ul><li><p>集合交运算，用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∩</mo></mrow><annotation encoding="application/x-tex">\cap</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord">∩</span></span></span></span>表示，被定义为</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>∩</mo><mi>S</mi><mo>=</mo><mi>R</mi><mo>−</mo><mo stretchy="false">(</mo><mi>R</mi><mo>−</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R \cap S = R - (R - S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mclose">)</span></span></span></span></span></p></li><li><p>自然连接运算，用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋈</mo></mrow><annotation encoding="application/x-tex">\Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.51em;vertical-align:-.005em"></span><span class="mrel">⋈</span></span></span></span>表示<br>首先定义集合<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span></span></span></span>和集合<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span></span></span></span>分别表示关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span></span></span></span>和关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">s</span></span></span></span>的属性集，并定义<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>∩</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R \cap S = \{A_1, A_2, ..., A_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span><br>自然连接是对笛卡尔乘积结果的一种处理，其处理结果为：仅对两个关系的共有属性中属性值均相同的元素进行笛卡尔积，并在结果中去掉重复的属性列。形式化定义为</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mo>⋈</mo><mi>s</mi><mo>=</mo><msub><mi>π</mi><mrow><mi>R</mi><mo>∪</mo><mi>S</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>σ</mi><mrow><mi>r</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mn>1</mn></msub><mo>=</mo><mi>s</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>r</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mn>2</mn></msub><mo>=</mo><mi>s</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>r</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mi>n</mi></msub><mo>=</mo><mi>s</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mi>n</mi></msub></mrow></msub><mo stretchy="false">(</mo><mi>r</mi><mo>×</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r \Join s = \pi_{R \cup S}(\sigma_{r.A_1 = s.A_1, r.A_2 = s.A_2, ..., r.A_n = s.A_n}(r \times s))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.51em;vertical-align:-.005em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.00773em">R</span><span class="mbin mtight">∪</span><span class="mord mathdefault mtight" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.328331em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">s</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">s</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285719em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">s</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285719em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><p>例如<br>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span></span></span></span>为</p><table><thead><tr><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">B_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td></tr><tr><td style="text-align:center">b</td><td style="text-align:center">x</td><td style="text-align:center">y</td></tr><tr><td style="text-align:center">c</td><td style="text-align:center">y</td><td style="text-align:center">x</td></tr><tr><td style="text-align:center">d</td><td style="text-align:center">y</td><td style="text-align:center">y</td></tr></tbody></table><p>关系<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">s</span></span></span></span>为</p><table><thead><tr><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">B_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">e</td></tr><tr><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">f</td></tr><tr><td style="text-align:center">x</td><td style="text-align:center">y</td><td style="text-align:center">g</td></tr><tr><td style="text-align:center">x</td><td style="text-align:center">z</td><td style="text-align:center">h</td></tr></tbody></table><p>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mo>⋈</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">r \Join y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.51em;vertical-align:-.005em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span></span></span></span>为</p><table><thead><tr><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">B_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">B_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">e</td></tr><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">f</td></tr><tr><td style="text-align:center">b</td><td style="text-align:center">x</td><td style="text-align:center">y</td><td style="text-align:center">g</td></tr></tbody></table></li><li><p>theta连接<br>使用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mo>⋈</mo><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">\Join_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.655em;vertical-align:-.15em"></span><span class="mrel"><span class="mrel">⋈</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>表示，定义如下</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><msub><mo>⋈</mo><mi>θ</mi></msub><mi>s</mi><mo>=</mo><msub><mi>σ</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>r</mi><mo>×</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r \Join_\theta s = \sigma_\theta(r \times s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.655em;vertical-align:-.15em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mrel">⋈</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">s</span><span class="mclose">)</span></span></span></span></span></p></li><li><p>外连接<br>外连接是在自然连接上扩展而来，分为左外连接(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">⟕</mi></mrow><annotation encoding="application/x-tex">⟕</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0;vertical-align:0"></span><span class="mord">⟕</span></span></span></span>)、右外连接(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">⟖</mi></mrow><annotation encoding="application/x-tex">⟖</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0;vertical-align:0"></span><span class="mord">⟖</span></span></span></span>)和全外连接(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">⟗</mi></mrow><annotation encoding="application/x-tex">⟗</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0;vertical-align:0"></span><span class="mord">⟗</span></span></span></span>)。其运算结果为：将运算符号中两个小横指向的关系中未参与自然连接的那些行添加进结果中，缺失的属性值用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">null</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault" style="margin-right:.01968em">l</span></span></span></span>表示。全外连接相当于左外连接+右外连接<br>用自然连接中的例子展示：<br>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi mathvariant="normal">⟕</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">r ⟕ y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord">⟕</span><span class="mord mathdefault" style="margin-right:.03588em">y</span></span></span></span>为</p><table><thead><tr><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">B_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">B_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">e</td></tr><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">f</td></tr><tr><td style="text-align:center">b</td><td style="text-align:center">x</td><td style="text-align:center">y</td><td style="text-align:center">g</td></tr><tr><td style="text-align:center">c</td><td style="text-align:center">y</td><td style="text-align:center">x</td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">null</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault" style="margin-right:.01968em">l</span></span></span></span></td></tr><tr><td style="text-align:center">d</td><td style="text-align:center">y</td><td style="text-align:center">y</td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">null</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault" style="margin-right:.01968em">l</span></span></span></span></td></tr></tbody></table><p>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi mathvariant="normal">⟖</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">r ⟖ y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord">⟖</span><span class="mord mathdefault" style="margin-right:.03588em">y</span></span></span></span>为</p><table><thead><tr><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">B_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">B_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">e</td></tr><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">f</td></tr><tr><td style="text-align:center">b</td><td style="text-align:center">x</td><td style="text-align:center">y</td><td style="text-align:center">g</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">null</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault" style="margin-right:.01968em">l</span></span></span></span></td><td style="text-align:center">x</td><td style="text-align:center">z</td><td style="text-align:center">h</td></tr></tbody></table><p>则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi mathvariant="normal">⟗</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">r ⟗ y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord">⟗</span><span class="mord mathdefault" style="margin-right:.03588em">y</span></span></span></span>为</p><table><thead><tr><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">B_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">B_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.05017em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">e</td></tr><tr><td style="text-align:center">a</td><td style="text-align:center">x</td><td style="text-align:center">x</td><td style="text-align:center">f</td></tr><tr><td style="text-align:center">b</td><td style="text-align:center">x</td><td style="text-align:center">y</td><td style="text-align:center">g</td></tr><tr><td style="text-align:center">c</td><td style="text-align:center">y</td><td style="text-align:center">x</td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">null</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault" style="margin-right:.01968em">l</span></span></span></span></td></tr><tr><td style="text-align:center">d</td><td style="text-align:center">y</td><td style="text-align:center">y</td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">null</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault" style="margin-right:.01968em">l</span></span></span></span></td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">null</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault" style="margin-right:.01968em">l</span></span></span></span></td><td style="text-align:center">x</td><td style="text-align:center">z</td><td style="text-align:center">h</td></tr></tbody></table></li><li><p>反连接<br>用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⊳</mo></mrow><annotation encoding="application/x-tex">\rhd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58503em;vertical-align:-.03517em"></span><span class="mord amsrm">⊳</span></span></span></span>表示，运算结果为第一个关系中未参与自然连接的那部分，定义如下</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mo>⊳</mo><mi>s</mi><mo>=</mo><mi>r</mi><mo>−</mo><msub><mi>σ</mi><mrow><mi>r</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mn>1</mn></msub><mo>=</mo><mi>s</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>r</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mn>2</mn></msub><mo>=</mo><mi>s</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>r</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mi>n</mi></msub><mo>=</mo><mi>s</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mi>n</mi></msub></mrow></msub><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r \rhd s = r - \sigma_{r.A_1 = s.A_1, r.A_2 = s.A_2, ..., r.A_n = s.A_n}(r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58503em;vertical-align:-.03517em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin amsrm">⊳</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.328331em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">s</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">s</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31731428571428577em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285719em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">s</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mathdefault mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.16454285714285719em"><span style="top:-2.357em;margin-left:0;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mclose">)</span></span></span></span></span></p></li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag"><i class="fa fa-tag"></i>笔记</a> <a href="/tags/%E8%AE%BA%E6%96%87/" rel="tag"><i class="fa fa-tag"></i>论文</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/" rel="tag"><i class="fa fa-tag"></i>知识图谱</a> <a href="/tags/%E7%BB%BC%E8%BF%B0/" rel="tag"><i class="fa fa-tag"></i>综述</a></div><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a href="/Markdown/" rel="next" title="Markdown">Markdown <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">© <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="bug"></i> </span><span class="author" itemprop="copyrightHolder">true</span></div><div><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("01/25/2022 21:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站已安全运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script></div></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script src="/js/third-party/pace.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" integrity="sha256-9/mhQQwkpU5okPfM5l0v3LnP9xtc6JK8dKW0/WlGaUc=" crossorigin="anonymous"><script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html>